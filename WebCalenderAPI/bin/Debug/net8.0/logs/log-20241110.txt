{"Timestamp":"2024-11-10T21:32:18.6670679+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-10T21:32:19.1061128+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T21:32:19.1783719+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T21:32:19.1818436+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T21:32:19.1826578+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T21:32:20.7186232+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e664832fafe8c09b90a43b18e5827264","SpanId":"e40dfae9ccb1f8ea","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD70:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN81IHTKDD70"}}
{"Timestamp":"2024-11-10T21:32:21.1302766+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e664832fafe8c09b90a43b18e5827264","SpanId":"e40dfae9ccb1f8ea","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":97.3471,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"97.3471"}]}}
{"Timestamp":"2024-11-10T21:32:21.1408852+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a7468b4ba1f93758ae6a5ed9557e788d","SpanId":"ed16ca320f0932fc","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD6V:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN81IHTKDD6V"}}
{"Timestamp":"2024-11-10T21:32:21.1408853+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9a0e752069f07083c1cf02bdaac77a16","SpanId":"4171347723aa7b7c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD71:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN81IHTKDD71"}}
{"Timestamp":"2024-11-10T21:32:21.1544406+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a7468b4ba1f93758ae6a5ed9557e788d","SpanId":"ed16ca320f0932fc","Properties":{"ElapsedMilliseconds":11.0514,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD6V:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN81IHTKDD6V"}}
{"Timestamp":"2024-11-10T21:32:21.1568037+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e664832fafe8c09b90a43b18e5827264","SpanId":"e40dfae9ccb1f8ea","Properties":{"ElapsedMilliseconds":447.2398,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD70:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN81IHTKDD70"}}
{"Timestamp":"2024-11-10T21:32:21.2324093+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9a0e752069f07083c1cf02bdaac77a16","SpanId":"4171347723aa7b7c","Properties":{"ElapsedMilliseconds":91.6375,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD71:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN81IHTKDD71"}}
{"Timestamp":"2024-11-10T21:32:21.2743947+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dd9ce78b4f2d88914529f563e7f77109","SpanId":"a125d701fb94241a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD71:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN81IHTKDD71"}}
{"Timestamp":"2024-11-10T21:32:21.4873821+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"dd9ce78b4f2d88914529f563e7f77109","SpanId":"a125d701fb94241a","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":209.9733,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"209.9733"}]}}
{"Timestamp":"2024-11-10T21:32:21.4923197+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dd9ce78b4f2d88914529f563e7f77109","SpanId":"a125d701fb94241a","Properties":{"ElapsedMilliseconds":217.8938,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD71:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN81IHTKDD71"}}
{"Timestamp":"2024-11-10T21:32:31.5468257+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4cf887e8ca379192dfa1d08c909df574","SpanId":"3f213f12d00ddf10","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD72:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IHTKDD72"}}
{"Timestamp":"2024-11-10T21:32:31.5547274+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"4cf887e8ca379192dfa1d08c909df574","SpanId":"3f213f12d00ddf10","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN81IHTKDD72:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IHTKDD72"}}
{"Timestamp":"2024-11-10T21:32:31.6806663+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4cf887e8ca379192dfa1d08c909df574","SpanId":"3f213f12d00ddf10","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD72:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IHTKDD72"}}
{"Timestamp":"2024-11-10T21:32:31.7257099+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4cf887e8ca379192dfa1d08c909df574","SpanId":"3f213f12d00ddf10","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1c22c80e-6daa-4f91-9b77-7fec7a0b04b3","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IHTKDD72:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IHTKDD72"}}
{"Timestamp":"2024-11-10T21:32:33.5540505+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4cf887e8ca379192dfa1d08c909df574","SpanId":"3f213f12d00ddf10","Properties":{"elapsed":"97","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1c22c80e-6daa-4f91-9b77-7fec7a0b04b3","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IHTKDD72:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IHTKDD72"}}
{"Timestamp":"2024-11-10T21:32:33.8867216+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4cf887e8ca379192dfa1d08c909df574","SpanId":"3f213f12d00ddf10","Properties":{"elapsed":"34","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1c22c80e-6daa-4f91-9b77-7fec7a0b04b3","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IHTKDD72:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IHTKDD72"}}
{"Timestamp":"2024-11-10T21:32:33.9105525+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4cf887e8ca379192dfa1d08c909df574","SpanId":"3f213f12d00ddf10","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"1c22c80e-6daa-4f91-9b77-7fec7a0b04b3","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IHTKDD72:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IHTKDD72"}}
{"Timestamp":"2024-11-10T21:32:33.9192149+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4cf887e8ca379192dfa1d08c909df574","SpanId":"3f213f12d00ddf10","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":2187.3873,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IHTKDD72:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IHTKDD72"}}
{"Timestamp":"2024-11-10T21:32:33.9219448+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4cf887e8ca379192dfa1d08c909df574","SpanId":"3f213f12d00ddf10","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD72:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IHTKDD72"}}
{"Timestamp":"2024-11-10T21:32:33.9254648+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4cf887e8ca379192dfa1d08c909df574","SpanId":"3f213f12d00ddf10","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":2373.7308,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2373.7308"}]}}
{"Timestamp":"2024-11-10T21:32:33.9411342+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4cf887e8ca379192dfa1d08c909df574","SpanId":"3f213f12d00ddf10","Properties":{"ElapsedMilliseconds":2394.2947,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD72:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IHTKDD72"}}
{"Timestamp":"2024-11-10T21:36:25.2564083+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"25f963a75eb28a6d727edaf064a54a46","SpanId":"b34238e46fdf1255","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD73:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IHTKDD73"}}
{"Timestamp":"2024-11-10T21:36:25.2624388+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"25f963a75eb28a6d727edaf064a54a46","SpanId":"b34238e46fdf1255","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD73:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IHTKDD73"}}
{"Timestamp":"2024-11-10T21:36:25.2658871+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"25f963a75eb28a6d727edaf064a54a46","SpanId":"b34238e46fdf1255","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1c22c80e-6daa-4f91-9b77-7fec7a0b04b3","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IHTKDD73:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IHTKDD73"}}
{"Timestamp":"2024-11-10T21:36:25.3271227+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"25f963a75eb28a6d727edaf064a54a46","SpanId":"b34238e46fdf1255","Properties":{"elapsed":"14","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1c22c80e-6daa-4f91-9b77-7fec7a0b04b3","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IHTKDD73:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IHTKDD73"}}
{"Timestamp":"2024-11-10T21:36:25.3411199+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"25f963a75eb28a6d727edaf064a54a46","SpanId":"b34238e46fdf1255","Properties":{"elapsed":"6","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1c22c80e-6daa-4f91-9b77-7fec7a0b04b3","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IHTKDD73:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IHTKDD73"}}
{"Timestamp":"2024-11-10T21:36:25.3444501+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"25f963a75eb28a6d727edaf064a54a46","SpanId":"b34238e46fdf1255","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"1c22c80e-6daa-4f91-9b77-7fec7a0b04b3","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IHTKDD73:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IHTKDD73"}}
{"Timestamp":"2024-11-10T21:36:25.3460541+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"25f963a75eb28a6d727edaf064a54a46","SpanId":"b34238e46fdf1255","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":77.8247,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IHTKDD73:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IHTKDD73"}}
{"Timestamp":"2024-11-10T21:36:25.3473630+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"25f963a75eb28a6d727edaf064a54a46","SpanId":"b34238e46fdf1255","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD73:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IHTKDD73"}}
{"Timestamp":"2024-11-10T21:36:25.3480851+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"25f963a75eb28a6d727edaf064a54a46","SpanId":"b34238e46fdf1255","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":87.3005,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"87.3005"}]}}
{"Timestamp":"2024-11-10T21:36:25.3495078+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"25f963a75eb28a6d727edaf064a54a46","SpanId":"b34238e46fdf1255","Properties":{"ElapsedMilliseconds":96.3898,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD73:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IHTKDD73"}}
{"Timestamp":"2024-11-10T21:36:30.0576042+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a240fbbe6520c4950471667b141aba92","SpanId":"55347e68d331205e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD74:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD74"}}
{"Timestamp":"2024-11-10T21:36:30.0628534+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a240fbbe6520c4950471667b141aba92","SpanId":"55347e68d331205e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD74:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD74"}}
{"Timestamp":"2024-11-10T21:36:30.0699977+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a240fbbe6520c4950471667b141aba92","SpanId":"55347e68d331205e","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD74:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD74"}}
{"Timestamp":"2024-11-10T21:36:30.2390500+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a240fbbe6520c4950471667b141aba92","SpanId":"55347e68d331205e","Properties":{"elapsed":"20","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD74:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD74"}}
{"Timestamp":"2024-11-10T21:36:30.3171637+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a240fbbe6520c4950471667b141aba92","SpanId":"55347e68d331205e","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD74:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD74"}}
{"Timestamp":"2024-11-10T21:36:30.3339902+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a240fbbe6520c4950471667b141aba92","SpanId":"55347e68d331205e","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD74:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD74"}}
{"Timestamp":"2024-11-10T21:36:30.3380137+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a240fbbe6520c4950471667b141aba92","SpanId":"55347e68d331205e","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":266.3835,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IHTKDD74:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD74"}}
{"Timestamp":"2024-11-10T21:36:30.3392254+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a240fbbe6520c4950471667b141aba92","SpanId":"55347e68d331205e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD74:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD74"}}
{"Timestamp":"2024-11-10T21:36:30.3398368+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a240fbbe6520c4950471667b141aba92","SpanId":"55347e68d331205e","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":278.6281,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"278.6281"}]}}
{"Timestamp":"2024-11-10T21:36:30.3411547+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a240fbbe6520c4950471667b141aba92","SpanId":"55347e68d331205e","Properties":{"ElapsedMilliseconds":283.7235,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD74:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD74"}}
{"Timestamp":"2024-11-10T21:36:34.8590290+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"11dbc7dad5846603789e59c748554cc2","SpanId":"80ade6b7b50e436e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD75:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD75"}}
{"Timestamp":"2024-11-10T21:36:34.8632322+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"11dbc7dad5846603789e59c748554cc2","SpanId":"80ade6b7b50e436e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD75:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD75"}}
{"Timestamp":"2024-11-10T21:36:34.8649429+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"11dbc7dad5846603789e59c748554cc2","SpanId":"80ade6b7b50e436e","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD75:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD75"}}
{"Timestamp":"2024-11-10T21:36:34.8789478+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"11dbc7dad5846603789e59c748554cc2","SpanId":"80ade6b7b50e436e","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD75:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD75"}}
{"Timestamp":"2024-11-10T21:36:34.8946328+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"11dbc7dad5846603789e59c748554cc2","SpanId":"80ade6b7b50e436e","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD75:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD75"}}
{"Timestamp":"2024-11-10T21:36:34.8986368+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"11dbc7dad5846603789e59c748554cc2","SpanId":"80ade6b7b50e436e","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD75:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD75"}}
{"Timestamp":"2024-11-10T21:36:34.8987808+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2053dbea2c971e9a019e66bcc3a23a44","SpanId":"e66cd6c04574d8b6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD76:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD76"}}
{"Timestamp":"2024-11-10T21:36:34.9006974+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"11dbc7dad5846603789e59c748554cc2","SpanId":"80ade6b7b50e436e","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":33.641,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IHTKDD75:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD75"}}
{"Timestamp":"2024-11-10T21:36:34.9055878+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"11dbc7dad5846603789e59c748554cc2","SpanId":"80ade6b7b50e436e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD75:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD75"}}
{"Timestamp":"2024-11-10T21:36:34.9069816+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"11dbc7dad5846603789e59c748554cc2","SpanId":"80ade6b7b50e436e","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":43.9222,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"43.9222"}]}}
{"Timestamp":"2024-11-10T21:36:34.9092936+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"11dbc7dad5846603789e59c748554cc2","SpanId":"80ade6b7b50e436e","Properties":{"ElapsedMilliseconds":50.4586,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD75:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD75"}}
{"Timestamp":"2024-11-10T21:36:34.9159140+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b25029ea09ae5a7193c5dc6929a8c3da","SpanId":"daf69610e6b47dcf","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD77:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD77"}}
{"Timestamp":"2024-11-10T21:36:34.9675564+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2053dbea2c971e9a019e66bcc3a23a44","SpanId":"e66cd6c04574d8b6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD76:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD76"}}
{"Timestamp":"2024-11-10T21:36:34.9675565+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b25029ea09ae5a7193c5dc6929a8c3da","SpanId":"daf69610e6b47dcf","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD77:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD77"}}
{"Timestamp":"2024-11-10T21:36:34.9757725+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2053dbea2c971e9a019e66bcc3a23a44","SpanId":"e66cd6c04574d8b6","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"19761ed5-f60f-40fb-b7ab-fd51a01871c0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD76:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD76"}}
{"Timestamp":"2024-11-10T21:36:34.9757726+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b25029ea09ae5a7193c5dc6929a8c3da","SpanId":"daf69610e6b47dcf","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"22b787fc-a7e0-4cbc-846f-1949b8d0af2f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD77:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD77"}}
{"Timestamp":"2024-11-10T21:36:35.0230613+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2053dbea2c971e9a019e66bcc3a23a44","SpanId":"e66cd6c04574d8b6","Properties":{"elapsed":"12","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"19761ed5-f60f-40fb-b7ab-fd51a01871c0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD76:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD76"}}
{"Timestamp":"2024-11-10T21:36:35.0249334+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2053dbea2c971e9a019e66bcc3a23a44","SpanId":"e66cd6c04574d8b6","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"19761ed5-f60f-40fb-b7ab-fd51a01871c0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD76:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD76"}}
{"Timestamp":"2024-11-10T21:36:35.0275292+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b25029ea09ae5a7193c5dc6929a8c3da","SpanId":"daf69610e6b47dcf","Properties":{"elapsed":"11","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"22b787fc-a7e0-4cbc-846f-1949b8d0af2f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD77:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD77"}}
{"Timestamp":"2024-11-10T21:36:35.0293538+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b25029ea09ae5a7193c5dc6929a8c3da","SpanId":"daf69610e6b47dcf","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"22b787fc-a7e0-4cbc-846f-1949b8d0af2f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD77:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD77"}}
{"Timestamp":"2024-11-10T21:36:35.0321888+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2053dbea2c971e9a019e66bcc3a23a44","SpanId":"e66cd6c04574d8b6","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":55.2837,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IHTKDD76:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD76"}}
{"Timestamp":"2024-11-10T21:36:35.0321887+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b25029ea09ae5a7193c5dc6929a8c3da","SpanId":"daf69610e6b47dcf","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":54.3187,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IHTKDD77:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD77"}}
{"Timestamp":"2024-11-10T21:36:35.0336977+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2053dbea2c971e9a019e66bcc3a23a44","SpanId":"e66cd6c04574d8b6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD76:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD76"}}
{"Timestamp":"2024-11-10T21:36:35.0345543+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b25029ea09ae5a7193c5dc6929a8c3da","SpanId":"daf69610e6b47dcf","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD77:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD77"}}
{"Timestamp":"2024-11-10T21:36:35.0353279+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2053dbea2c971e9a019e66bcc3a23a44","SpanId":"e66cd6c04574d8b6","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":130.64,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"130.6400"}]}}
{"Timestamp":"2024-11-10T21:36:35.0359252+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b25029ea09ae5a7193c5dc6929a8c3da","SpanId":"daf69610e6b47dcf","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":106.2611,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"106.2611"}]}}
{"Timestamp":"2024-11-10T21:36:35.0378463+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2053dbea2c971e9a019e66bcc3a23a44","SpanId":"e66cd6c04574d8b6","Properties":{"ElapsedMilliseconds":138.9801,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD76:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD76"}}
{"Timestamp":"2024-11-10T21:36:35.0396644+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b25029ea09ae5a7193c5dc6929a8c3da","SpanId":"daf69610e6b47dcf","Properties":{"ElapsedMilliseconds":124.9639,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD77:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD77"}}
{"Timestamp":"2024-11-10T21:36:37.4186376+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4a76658d503ba7135f84e6d6a5ec84b1","SpanId":"00cc16f1bf70ff94","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD78:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD78"}}
{"Timestamp":"2024-11-10T21:36:37.4246348+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4a76658d503ba7135f84e6d6a5ec84b1","SpanId":"00cc16f1bf70ff94","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD78:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD78"}}
{"Timestamp":"2024-11-10T21:36:37.4264669+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4a76658d503ba7135f84e6d6a5ec84b1","SpanId":"00cc16f1bf70ff94","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD78:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD78"}}
{"Timestamp":"2024-11-10T21:36:37.4455268+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4a76658d503ba7135f84e6d6a5ec84b1","SpanId":"00cc16f1bf70ff94","Properties":{"elapsed":"11","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD78:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD78"}}
{"Timestamp":"2024-11-10T21:36:37.4505358+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4a76658d503ba7135f84e6d6a5ec84b1","SpanId":"00cc16f1bf70ff94","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD78:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD78"}}
{"Timestamp":"2024-11-10T21:36:37.4529683+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4a76658d503ba7135f84e6d6a5ec84b1","SpanId":"00cc16f1bf70ff94","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD78:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD78"}}
{"Timestamp":"2024-11-10T21:36:37.4541234+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4a76658d503ba7135f84e6d6a5ec84b1","SpanId":"00cc16f1bf70ff94","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":25.3623,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IHTKDD78:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD78"}}
{"Timestamp":"2024-11-10T21:36:37.4550060+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4a76658d503ba7135f84e6d6a5ec84b1","SpanId":"00cc16f1bf70ff94","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD78:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD78"}}
{"Timestamp":"2024-11-10T21:36:37.4555904+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4a76658d503ba7135f84e6d6a5ec84b1","SpanId":"00cc16f1bf70ff94","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":31.1949,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"31.1949"}]}}
{"Timestamp":"2024-11-10T21:36:37.4569416+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4a76658d503ba7135f84e6d6a5ec84b1","SpanId":"00cc16f1bf70ff94","Properties":{"ElapsedMilliseconds":38.4081,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD78:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD78"}}
{"Timestamp":"2024-11-10T21:36:37.4590507+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7e509189ad0c48e9a7e5ab5b8f5bc4d0","SpanId":"957a7f6b90e9d6a6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD79:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD79"}}
{"Timestamp":"2024-11-10T21:36:37.4613840+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7e509189ad0c48e9a7e5ab5b8f5bc4d0","SpanId":"957a7f6b90e9d6a6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD79:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD79"}}
{"Timestamp":"2024-11-10T21:36:37.4621719+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7e509189ad0c48e9a7e5ab5b8f5bc4d0","SpanId":"957a7f6b90e9d6a6","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"22b787fc-a7e0-4cbc-846f-1949b8d0af2f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD79:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD79"}}
{"Timestamp":"2024-11-10T21:36:37.4727364+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7e509189ad0c48e9a7e5ab5b8f5bc4d0","SpanId":"957a7f6b90e9d6a6","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"22b787fc-a7e0-4cbc-846f-1949b8d0af2f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD79:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD79"}}
{"Timestamp":"2024-11-10T21:36:37.4748354+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7e509189ad0c48e9a7e5ab5b8f5bc4d0","SpanId":"957a7f6b90e9d6a6","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"22b787fc-a7e0-4cbc-846f-1949b8d0af2f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD79:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD79"}}
{"Timestamp":"2024-11-10T21:36:37.4758854+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7e509189ad0c48e9a7e5ab5b8f5bc4d0","SpanId":"957a7f6b90e9d6a6","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":12.6128,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IHTKDD79:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD79"}}
{"Timestamp":"2024-11-10T21:36:37.4767855+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7e509189ad0c48e9a7e5ab5b8f5bc4d0","SpanId":"957a7f6b90e9d6a6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD79:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD79"}}
{"Timestamp":"2024-11-10T21:36:37.4773801+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7e509189ad0c48e9a7e5ab5b8f5bc4d0","SpanId":"957a7f6b90e9d6a6","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":16.4483,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.4483"}]}}
{"Timestamp":"2024-11-10T21:36:37.4785637+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7e509189ad0c48e9a7e5ab5b8f5bc4d0","SpanId":"957a7f6b90e9d6a6","Properties":{"ElapsedMilliseconds":19.5875,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD79:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD79"}}
{"Timestamp":"2024-11-10T21:36:37.5031294+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e96afc18d0a3da10c9ae82f3e777a085","SpanId":"046e48783d6d0db9","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7A"}}
{"Timestamp":"2024-11-10T21:36:37.5055133+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e96afc18d0a3da10c9ae82f3e777a085","SpanId":"046e48783d6d0db9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7A"}}
{"Timestamp":"2024-11-10T21:36:37.5064734+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e96afc18d0a3da10c9ae82f3e777a085","SpanId":"046e48783d6d0db9","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7A"}}
{"Timestamp":"2024-11-10T21:36:37.5150882+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e96afc18d0a3da10c9ae82f3e777a085","SpanId":"046e48783d6d0db9","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7A"}}
{"Timestamp":"2024-11-10T21:36:37.5226240+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e96afc18d0a3da10c9ae82f3e777a085","SpanId":"046e48783d6d0db9","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7A"}}
{"Timestamp":"2024-11-10T21:36:37.5242957+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e96afc18d0a3da10c9ae82f3e777a085","SpanId":"046e48783d6d0db9","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7A"}}
{"Timestamp":"2024-11-10T21:36:37.5252935+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e96afc18d0a3da10c9ae82f3e777a085","SpanId":"046e48783d6d0db9","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.3839,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IHTKDD7A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7A"}}
{"Timestamp":"2024-11-10T21:36:37.5261137+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e96afc18d0a3da10c9ae82f3e777a085","SpanId":"046e48783d6d0db9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7A"}}
{"Timestamp":"2024-11-10T21:36:37.5270139+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e96afc18d0a3da10c9ae82f3e777a085","SpanId":"046e48783d6d0db9","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":21.6203,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.6203"}]}}
{"Timestamp":"2024-11-10T21:36:37.5283245+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e96afc18d0a3da10c9ae82f3e777a085","SpanId":"046e48783d6d0db9","Properties":{"ElapsedMilliseconds":25.3934,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7A"}}
{"Timestamp":"2024-11-10T21:36:37.5326976+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f904376fac88647a650573dc01a81e59","SpanId":"89dc0f1d41c38142","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7B:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IHTKDD7B"}}
{"Timestamp":"2024-11-10T21:36:37.5371061+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f904376fac88647a650573dc01a81e59","SpanId":"89dc0f1d41c38142","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7B:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IHTKDD7B"}}
{"Timestamp":"2024-11-10T21:36:37.5392983+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f904376fac88647a650573dc01a81e59","SpanId":"89dc0f1d41c38142","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f5a46d15-c3ba-498a-98eb-417285f4b647","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81IHTKDD7B:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IHTKDD7B"}}
{"Timestamp":"2024-11-10T21:36:37.6036078+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f904376fac88647a650573dc01a81e59","SpanId":"89dc0f1d41c38142","Properties":{"elapsed":"12","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f5a46d15-c3ba-498a-98eb-417285f4b647","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81IHTKDD7B:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IHTKDD7B"}}
{"Timestamp":"2024-11-10T21:36:37.6708607+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f904376fac88647a650573dc01a81e59","SpanId":"89dc0f1d41c38142","Properties":{"elapsed":"6","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f5a46d15-c3ba-498a-98eb-417285f4b647","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81IHTKDD7B:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IHTKDD7B"}}
{"Timestamp":"2024-11-10T21:36:37.6746556+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f904376fac88647a650573dc01a81e59","SpanId":"89dc0f1d41c38142","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f5a46d15-c3ba-498a-98eb-417285f4b647","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81IHTKDD7B:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IHTKDD7B"}}
{"Timestamp":"2024-11-10T21:36:37.6789947+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f904376fac88647a650573dc01a81e59","SpanId":"89dc0f1d41c38142","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":138.6458,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IHTKDD7B:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IHTKDD7B"}}
{"Timestamp":"2024-11-10T21:36:37.6799500+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f904376fac88647a650573dc01a81e59","SpanId":"89dc0f1d41c38142","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7B:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IHTKDD7B"}}
{"Timestamp":"2024-11-10T21:36:37.6805235+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f904376fac88647a650573dc01a81e59","SpanId":"89dc0f1d41c38142","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":144.7314,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"144.7314"}]}}
{"Timestamp":"2024-11-10T21:36:37.6816033+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f904376fac88647a650573dc01a81e59","SpanId":"89dc0f1d41c38142","Properties":{"ElapsedMilliseconds":148.9437,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7B:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IHTKDD7B"}}
{"Timestamp":"2024-11-10T21:36:42.5009800+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"38dbb59db43438ae5aa11d3e804e43cc","SpanId":"ff8f62b8f66d00e1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7C"}}
{"Timestamp":"2024-11-10T21:36:42.5056169+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"38dbb59db43438ae5aa11d3e804e43cc","SpanId":"ff8f62b8f66d00e1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7C"}}
{"Timestamp":"2024-11-10T21:36:42.5073842+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"38dbb59db43438ae5aa11d3e804e43cc","SpanId":"ff8f62b8f66d00e1","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7C"}}
{"Timestamp":"2024-11-10T21:36:42.5151980+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"38dbb59db43438ae5aa11d3e804e43cc","SpanId":"ff8f62b8f66d00e1","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7C"}}
{"Timestamp":"2024-11-10T21:36:42.5202104+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"38dbb59db43438ae5aa11d3e804e43cc","SpanId":"ff8f62b8f66d00e1","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7C"}}
{"Timestamp":"2024-11-10T21:36:42.5230106+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"38dbb59db43438ae5aa11d3e804e43cc","SpanId":"ff8f62b8f66d00e1","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7C"}}
{"Timestamp":"2024-11-10T21:36:42.5240444+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"38dbb59db43438ae5aa11d3e804e43cc","SpanId":"ff8f62b8f66d00e1","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.8177,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IHTKDD7C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7C"}}
{"Timestamp":"2024-11-10T21:36:42.5249544+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"38dbb59db43438ae5aa11d3e804e43cc","SpanId":"ff8f62b8f66d00e1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7C"}}
{"Timestamp":"2024-11-10T21:36:42.5256933+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"38dbb59db43438ae5aa11d3e804e43cc","SpanId":"ff8f62b8f66d00e1","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":20.2126,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.2126"}]}}
{"Timestamp":"2024-11-10T21:36:42.5268593+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"38dbb59db43438ae5aa11d3e804e43cc","SpanId":"ff8f62b8f66d00e1","Properties":{"ElapsedMilliseconds":25.8815,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7C"}}
{"Timestamp":"2024-11-10T21:36:42.5297580+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"85698be6bedf69918b06824c5f2d818e","SpanId":"21c8bbf025d1bb2e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7D:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7D"}}
{"Timestamp":"2024-11-10T21:36:42.5328926+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"85698be6bedf69918b06824c5f2d818e","SpanId":"21c8bbf025d1bb2e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7D:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7D"}}
{"Timestamp":"2024-11-10T21:36:42.5340092+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"85698be6bedf69918b06824c5f2d818e","SpanId":"21c8bbf025d1bb2e","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"19761ed5-f60f-40fb-b7ab-fd51a01871c0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD7D:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7D"}}
{"Timestamp":"2024-11-10T21:36:42.5480045+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"85698be6bedf69918b06824c5f2d818e","SpanId":"21c8bbf025d1bb2e","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"19761ed5-f60f-40fb-b7ab-fd51a01871c0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD7D:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7D"}}
{"Timestamp":"2024-11-10T21:36:42.5549949+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"85698be6bedf69918b06824c5f2d818e","SpanId":"21c8bbf025d1bb2e","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"19761ed5-f60f-40fb-b7ab-fd51a01871c0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD7D:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7D"}}
{"Timestamp":"2024-11-10T21:36:42.5586766+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"85698be6bedf69918b06824c5f2d818e","SpanId":"21c8bbf025d1bb2e","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":23.2119,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IHTKDD7D:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7D"}}
{"Timestamp":"2024-11-10T21:36:42.5604047+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"85698be6bedf69918b06824c5f2d818e","SpanId":"21c8bbf025d1bb2e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7D:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7D"}}
{"Timestamp":"2024-11-10T21:36:42.5608834+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"85698be6bedf69918b06824c5f2d818e","SpanId":"21c8bbf025d1bb2e","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":28.5782,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.5782"}]}}
{"Timestamp":"2024-11-10T21:36:42.5617338+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"85698be6bedf69918b06824c5f2d818e","SpanId":"21c8bbf025d1bb2e","Properties":{"ElapsedMilliseconds":32.0142,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7D:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7D"}}
{"Timestamp":"2024-11-10T21:36:42.6947779+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dd35ec1dd939077fc4b568c9285f7563","SpanId":"fb4922fa5b86b414","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7E"}}
{"Timestamp":"2024-11-10T21:36:42.7005042+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"dd35ec1dd939077fc4b568c9285f7563","SpanId":"fb4922fa5b86b414","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7E"}}
{"Timestamp":"2024-11-10T21:36:42.7035440+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"dd35ec1dd939077fc4b568c9285f7563","SpanId":"fb4922fa5b86b414","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7E"}}
{"Timestamp":"2024-11-10T21:36:42.7105503+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"18ee06a8a5425603f4639f13e227eec7","SpanId":"b567a3aefa78a844","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7F"}}
{"Timestamp":"2024-11-10T21:36:42.7118451+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dd35ec1dd939077fc4b568c9285f7563","SpanId":"fb4922fa5b86b414","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7E"}}
{"Timestamp":"2024-11-10T21:36:42.7137293+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"18ee06a8a5425603f4639f13e227eec7","SpanId":"b567a3aefa78a844","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7F"}}
{"Timestamp":"2024-11-10T21:36:42.7152887+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"18ee06a8a5425603f4639f13e227eec7","SpanId":"b567a3aefa78a844","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7F"}}
{"Timestamp":"2024-11-10T21:36:42.7169560+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dd35ec1dd939077fc4b568c9285f7563","SpanId":"fb4922fa5b86b414","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7E"}}
{"Timestamp":"2024-11-10T21:36:42.7196376+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"dd35ec1dd939077fc4b568c9285f7563","SpanId":"fb4922fa5b86b414","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7E"}}
{"Timestamp":"2024-11-10T21:36:42.7220340+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"dd35ec1dd939077fc4b568c9285f7563","SpanId":"fb4922fa5b86b414","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.2743,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IHTKDD7E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7E"}}
{"Timestamp":"2024-11-10T21:36:42.7220340+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"18ee06a8a5425603f4639f13e227eec7","SpanId":"b567a3aefa78a844","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7F"}}
{"Timestamp":"2024-11-10T21:36:42.7250313+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"dd35ec1dd939077fc4b568c9285f7563","SpanId":"fb4922fa5b86b414","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7E"}}
{"Timestamp":"2024-11-10T21:36:42.7313844+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"dd35ec1dd939077fc4b568c9285f7563","SpanId":"fb4922fa5b86b414","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":31.0428,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"31.0428"}]}}
{"Timestamp":"2024-11-10T21:36:42.7317125+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"18ee06a8a5425603f4639f13e227eec7","SpanId":"b567a3aefa78a844","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7F"}}
{"Timestamp":"2024-11-10T21:36:42.7337967+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dd35ec1dd939077fc4b568c9285f7563","SpanId":"fb4922fa5b86b414","Properties":{"ElapsedMilliseconds":39.0537,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7E"}}
{"Timestamp":"2024-11-10T21:36:42.7383040+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"18ee06a8a5425603f4639f13e227eec7","SpanId":"b567a3aefa78a844","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7F"}}
{"Timestamp":"2024-11-10T21:36:42.7413890+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"862dce76c9d29157ec21a4c7a1fd973f","SpanId":"5bde8100e24ee95c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7G:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7G"}}
{"Timestamp":"2024-11-10T21:36:42.7450880+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"18ee06a8a5425603f4639f13e227eec7","SpanId":"b567a3aefa78a844","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":28.5294,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IHTKDD7F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7F"}}
{"Timestamp":"2024-11-10T21:36:42.7500653+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"862dce76c9d29157ec21a4c7a1fd973f","SpanId":"5bde8100e24ee95c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7G:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7G"}}
{"Timestamp":"2024-11-10T21:36:42.7510748+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"18ee06a8a5425603f4639f13e227eec7","SpanId":"b567a3aefa78a844","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7F"}}
{"Timestamp":"2024-11-10T21:36:42.7517635+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"862dce76c9d29157ec21a4c7a1fd973f","SpanId":"5bde8100e24ee95c","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"19761ed5-f60f-40fb-b7ab-fd51a01871c0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD7G:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7G"}}
{"Timestamp":"2024-11-10T21:36:42.7525738+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"18ee06a8a5425603f4639f13e227eec7","SpanId":"b567a3aefa78a844","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":38.9221,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"38.9221"}]}}
{"Timestamp":"2024-11-10T21:36:42.7564196+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"18ee06a8a5425603f4639f13e227eec7","SpanId":"b567a3aefa78a844","Properties":{"ElapsedMilliseconds":45.6679,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7F"}}
{"Timestamp":"2024-11-10T21:36:42.7577976+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"862dce76c9d29157ec21a4c7a1fd973f","SpanId":"5bde8100e24ee95c","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"19761ed5-f60f-40fb-b7ab-fd51a01871c0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD7G:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7G"}}
{"Timestamp":"2024-11-10T21:36:42.7611606+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9fe74e22ca146a734f341b1e3707e27f","SpanId":"7475da18951219c7","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7H:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD7H"}}
{"Timestamp":"2024-11-10T21:36:42.7635730+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"862dce76c9d29157ec21a4c7a1fd973f","SpanId":"5bde8100e24ee95c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"19761ed5-f60f-40fb-b7ab-fd51a01871c0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD7G:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7G"}}
{"Timestamp":"2024-11-10T21:36:42.7667496+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9fe74e22ca146a734f341b1e3707e27f","SpanId":"7475da18951219c7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7H:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD7H"}}
{"Timestamp":"2024-11-10T21:36:42.7676436+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"862dce76c9d29157ec21a4c7a1fd973f","SpanId":"5bde8100e24ee95c","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":13.7457,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IHTKDD7G:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7G"}}
{"Timestamp":"2024-11-10T21:36:42.7688469+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9fe74e22ca146a734f341b1e3707e27f","SpanId":"7475da18951219c7","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"22b787fc-a7e0-4cbc-846f-1949b8d0af2f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD7H:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD7H"}}
{"Timestamp":"2024-11-10T21:36:42.7700207+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"862dce76c9d29157ec21a4c7a1fd973f","SpanId":"5bde8100e24ee95c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7G:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7G"}}
{"Timestamp":"2024-11-10T21:36:42.7732340+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"862dce76c9d29157ec21a4c7a1fd973f","SpanId":"5bde8100e24ee95c","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":23.7768,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.7768"}]}}
{"Timestamp":"2024-11-10T21:36:42.7752246+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"862dce76c9d29157ec21a4c7a1fd973f","SpanId":"5bde8100e24ee95c","Properties":{"ElapsedMilliseconds":33.8806,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7G:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7G"}}
{"Timestamp":"2024-11-10T21:36:42.7819536+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9fe74e22ca146a734f341b1e3707e27f","SpanId":"7475da18951219c7","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"22b787fc-a7e0-4cbc-846f-1949b8d0af2f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD7H:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD7H"}}
{"Timestamp":"2024-11-10T21:36:42.7844906+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9fe74e22ca146a734f341b1e3707e27f","SpanId":"7475da18951219c7","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"22b787fc-a7e0-4cbc-846f-1949b8d0af2f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD7H:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD7H"}}
{"Timestamp":"2024-11-10T21:36:42.7858325+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9fe74e22ca146a734f341b1e3707e27f","SpanId":"7475da18951219c7","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":13.4677,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IHTKDD7H:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD7H"}}
{"Timestamp":"2024-11-10T21:36:42.7874343+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9fe74e22ca146a734f341b1e3707e27f","SpanId":"7475da18951219c7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7H:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD7H"}}
{"Timestamp":"2024-11-10T21:36:42.7882863+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9fe74e22ca146a734f341b1e3707e27f","SpanId":"7475da18951219c7","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":21.8568,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.8568"}]}}
{"Timestamp":"2024-11-10T21:36:42.7909201+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9fe74e22ca146a734f341b1e3707e27f","SpanId":"7475da18951219c7","Properties":{"ElapsedMilliseconds":29.8045,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7H:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD7H"}}
{"Timestamp":"2024-11-10T21:36:55.3178742+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a79b9f687b691b9688c8eb5a55f4db68","SpanId":"7646b512a5767047","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7I"}}
{"Timestamp":"2024-11-10T21:36:55.3195230+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a79b9f687b691b9688c8eb5a55f4db68","SpanId":"7646b512a5767047","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7I"}}
{"Timestamp":"2024-11-10T21:36:55.3201478+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a79b9f687b691b9688c8eb5a55f4db68","SpanId":"7646b512a5767047","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7I"}}
{"Timestamp":"2024-11-10T21:36:55.3281052+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a79b9f687b691b9688c8eb5a55f4db68","SpanId":"7646b512a5767047","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7I"}}
{"Timestamp":"2024-11-10T21:36:55.3324153+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a79b9f687b691b9688c8eb5a55f4db68","SpanId":"7646b512a5767047","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7I"}}
{"Timestamp":"2024-11-10T21:36:55.3345663+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a79b9f687b691b9688c8eb5a55f4db68","SpanId":"7646b512a5767047","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7I"}}
{"Timestamp":"2024-11-10T21:36:55.3356283+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a79b9f687b691b9688c8eb5a55f4db68","SpanId":"7646b512a5767047","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":14.3561,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IHTKDD7I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7I"}}
{"Timestamp":"2024-11-10T21:36:55.3363850+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a79b9f687b691b9688c8eb5a55f4db68","SpanId":"7646b512a5767047","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7I"}}
{"Timestamp":"2024-11-10T21:36:55.3369833+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a79b9f687b691b9688c8eb5a55f4db68","SpanId":"7646b512a5767047","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":17.6947,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.6947"}]}}
{"Timestamp":"2024-11-10T21:36:55.3381218+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a79b9f687b691b9688c8eb5a55f4db68","SpanId":"7646b512a5767047","Properties":{"ElapsedMilliseconds":20.253,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7I"}}
{"Timestamp":"2024-11-10T21:36:55.3397689+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"28c15941a91cc95aa57fb0e701bce1d4","SpanId":"69862347810a1ae1","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7J"}}
{"Timestamp":"2024-11-10T21:36:55.3420472+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"28c15941a91cc95aa57fb0e701bce1d4","SpanId":"69862347810a1ae1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7J"}}
{"Timestamp":"2024-11-10T21:36:55.3427106+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"28c15941a91cc95aa57fb0e701bce1d4","SpanId":"69862347810a1ae1","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"19761ed5-f60f-40fb-b7ab-fd51a01871c0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD7J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7J"}}
{"Timestamp":"2024-11-10T21:36:55.3477089+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"28c15941a91cc95aa57fb0e701bce1d4","SpanId":"69862347810a1ae1","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"19761ed5-f60f-40fb-b7ab-fd51a01871c0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD7J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7J"}}
{"Timestamp":"2024-11-10T21:36:55.3490007+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"28c15941a91cc95aa57fb0e701bce1d4","SpanId":"69862347810a1ae1","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"19761ed5-f60f-40fb-b7ab-fd51a01871c0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD7J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7J"}}
{"Timestamp":"2024-11-10T21:36:55.3500946+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"28c15941a91cc95aa57fb0e701bce1d4","SpanId":"69862347810a1ae1","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":5.9007,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IHTKDD7J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7J"}}
{"Timestamp":"2024-11-10T21:36:55.3517285+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"28c15941a91cc95aa57fb0e701bce1d4","SpanId":"69862347810a1ae1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7J"}}
{"Timestamp":"2024-11-10T21:36:55.3523006+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"28c15941a91cc95aa57fb0e701bce1d4","SpanId":"69862347810a1ae1","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":10.5996,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"10.5996"}]}}
{"Timestamp":"2024-11-10T21:36:55.3532048+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"28c15941a91cc95aa57fb0e701bce1d4","SpanId":"69862347810a1ae1","Properties":{"ElapsedMilliseconds":13.4712,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7J"}}
{"Timestamp":"2024-11-10T21:36:56.1476525+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"21ee53501aae9abd88833473661f6a58","SpanId":"8e5777d94ab7117b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7K"}}
{"Timestamp":"2024-11-10T21:36:56.1513772+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"21ee53501aae9abd88833473661f6a58","SpanId":"8e5777d94ab7117b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7K"}}
{"Timestamp":"2024-11-10T21:36:56.1520642+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"21ee53501aae9abd88833473661f6a58","SpanId":"8e5777d94ab7117b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7K"}}
{"Timestamp":"2024-11-10T21:36:56.1622524+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"21ee53501aae9abd88833473661f6a58","SpanId":"8e5777d94ab7117b","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7K"}}
{"Timestamp":"2024-11-10T21:36:56.1670332+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"21ee53501aae9abd88833473661f6a58","SpanId":"8e5777d94ab7117b","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7K"}}
{"Timestamp":"2024-11-10T21:36:56.1687687+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"21ee53501aae9abd88833473661f6a58","SpanId":"8e5777d94ab7117b","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7K"}}
{"Timestamp":"2024-11-10T21:36:56.1697982+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"21ee53501aae9abd88833473661f6a58","SpanId":"8e5777d94ab7117b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.1848,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IHTKDD7K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7K"}}
{"Timestamp":"2024-11-10T21:36:56.1705771+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"21ee53501aae9abd88833473661f6a58","SpanId":"8e5777d94ab7117b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7K"}}
{"Timestamp":"2024-11-10T21:36:56.1711936+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"21ee53501aae9abd88833473661f6a58","SpanId":"8e5777d94ab7117b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":19.9796,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.9796"}]}}
{"Timestamp":"2024-11-10T21:36:56.1722429+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"21ee53501aae9abd88833473661f6a58","SpanId":"8e5777d94ab7117b","Properties":{"ElapsedMilliseconds":24.646,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7K"}}
{"Timestamp":"2024-11-10T21:36:56.1744935+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"002e9d17363947d52a3d9c247e7c6649","SpanId":"047b53402909c294","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7L"}}
{"Timestamp":"2024-11-10T21:36:56.1776981+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"002e9d17363947d52a3d9c247e7c6649","SpanId":"047b53402909c294","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7L"}}
{"Timestamp":"2024-11-10T21:36:56.1787351+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"002e9d17363947d52a3d9c247e7c6649","SpanId":"047b53402909c294","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"19761ed5-f60f-40fb-b7ab-fd51a01871c0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD7L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7L"}}
{"Timestamp":"2024-11-10T21:36:56.1837462+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"002e9d17363947d52a3d9c247e7c6649","SpanId":"047b53402909c294","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"19761ed5-f60f-40fb-b7ab-fd51a01871c0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD7L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7L"}}
{"Timestamp":"2024-11-10T21:36:56.1860471+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"002e9d17363947d52a3d9c247e7c6649","SpanId":"047b53402909c294","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"19761ed5-f60f-40fb-b7ab-fd51a01871c0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD7L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7L"}}
{"Timestamp":"2024-11-10T21:36:56.1870013+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"002e9d17363947d52a3d9c247e7c6649","SpanId":"047b53402909c294","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":7.2906,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IHTKDD7L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7L"}}
{"Timestamp":"2024-11-10T21:36:56.1879081+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"002e9d17363947d52a3d9c247e7c6649","SpanId":"047b53402909c294","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7L"}}
{"Timestamp":"2024-11-10T21:36:56.1885184+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"002e9d17363947d52a3d9c247e7c6649","SpanId":"047b53402909c294","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":11.2223,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.2223"}]}}
{"Timestamp":"2024-11-10T21:36:56.1895715+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"002e9d17363947d52a3d9c247e7c6649","SpanId":"047b53402909c294","Properties":{"ElapsedMilliseconds":15.1394,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7L"}}
{"Timestamp":"2024-11-10T21:36:57.1728153+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"08d337101a73548d76e528018893b8bb","SpanId":"a28ef3d0a97d4c2c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7M"}}
{"Timestamp":"2024-11-10T21:36:57.1771995+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"08d337101a73548d76e528018893b8bb","SpanId":"a28ef3d0a97d4c2c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7M"}}
{"Timestamp":"2024-11-10T21:36:57.1779824+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"08d337101a73548d76e528018893b8bb","SpanId":"a28ef3d0a97d4c2c","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7M"}}
{"Timestamp":"2024-11-10T21:36:57.1872014+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"08d337101a73548d76e528018893b8bb","SpanId":"a28ef3d0a97d4c2c","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7M"}}
{"Timestamp":"2024-11-10T21:36:57.1918089+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"08d337101a73548d76e528018893b8bb","SpanId":"a28ef3d0a97d4c2c","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7M"}}
{"Timestamp":"2024-11-10T21:36:57.1948576+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"08d337101a73548d76e528018893b8bb","SpanId":"a28ef3d0a97d4c2c","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7M"}}
{"Timestamp":"2024-11-10T21:36:57.1959838+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"08d337101a73548d76e528018893b8bb","SpanId":"a28ef3d0a97d4c2c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.4416,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IHTKDD7M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7M"}}
{"Timestamp":"2024-11-10T21:36:57.1967268+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"08d337101a73548d76e528018893b8bb","SpanId":"a28ef3d0a97d4c2c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7M"}}
{"Timestamp":"2024-11-10T21:36:57.1972372+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"08d337101a73548d76e528018893b8bb","SpanId":"a28ef3d0a97d4c2c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":20.4019,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.4019"}]}}
{"Timestamp":"2024-11-10T21:36:57.1981306+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"08d337101a73548d76e528018893b8bb","SpanId":"a28ef3d0a97d4c2c","Properties":{"ElapsedMilliseconds":25.3197,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7M"}}
{"Timestamp":"2024-11-10T21:36:57.1997968+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"22337b108dd34ac47ad763c8cb0c9d05","SpanId":"27470e81bf53f60c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7N:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7N"}}
{"Timestamp":"2024-11-10T21:36:57.2012237+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"22337b108dd34ac47ad763c8cb0c9d05","SpanId":"27470e81bf53f60c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7N:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7N"}}
{"Timestamp":"2024-11-10T21:36:57.2017531+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"22337b108dd34ac47ad763c8cb0c9d05","SpanId":"27470e81bf53f60c","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"19761ed5-f60f-40fb-b7ab-fd51a01871c0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD7N:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7N"}}
{"Timestamp":"2024-11-10T21:36:57.2064711+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"22337b108dd34ac47ad763c8cb0c9d05","SpanId":"27470e81bf53f60c","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"19761ed5-f60f-40fb-b7ab-fd51a01871c0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD7N:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7N"}}
{"Timestamp":"2024-11-10T21:36:57.2091669+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"22337b108dd34ac47ad763c8cb0c9d05","SpanId":"27470e81bf53f60c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"19761ed5-f60f-40fb-b7ab-fd51a01871c0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD7N:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7N"}}
{"Timestamp":"2024-11-10T21:36:57.2116432+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"22337b108dd34ac47ad763c8cb0c9d05","SpanId":"27470e81bf53f60c","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.7516,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IHTKDD7N:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7N"}}
{"Timestamp":"2024-11-10T21:36:57.2134339+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"22337b108dd34ac47ad763c8cb0c9d05","SpanId":"27470e81bf53f60c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7N:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7N"}}
{"Timestamp":"2024-11-10T21:36:57.2139606+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"22337b108dd34ac47ad763c8cb0c9d05","SpanId":"27470e81bf53f60c","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":12.9564,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.9564"}]}}
{"Timestamp":"2024-11-10T21:36:57.2148593+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"22337b108dd34ac47ad763c8cb0c9d05","SpanId":"27470e81bf53f60c","Properties":{"ElapsedMilliseconds":15.0665,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7N:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7N"}}
{"Timestamp":"2024-11-10T21:36:57.3324951+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8826b705f45d8fc3c1c98a2aaa58d8fd","SpanId":"2660b3d589e25b7a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7O"}}
{"Timestamp":"2024-11-10T21:36:57.3360571+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8826b705f45d8fc3c1c98a2aaa58d8fd","SpanId":"2660b3d589e25b7a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7O"}}
{"Timestamp":"2024-11-10T21:36:57.3385910+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d6024d0be9352afcbeb982eae823db1f","SpanId":"f1087db4cbc4e98d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7P"}}
{"Timestamp":"2024-11-10T21:36:57.3395563+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8826b705f45d8fc3c1c98a2aaa58d8fd","SpanId":"2660b3d589e25b7a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7O"}}
{"Timestamp":"2024-11-10T21:36:57.3429704+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d6024d0be9352afcbeb982eae823db1f","SpanId":"f1087db4cbc4e98d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7P"}}
{"Timestamp":"2024-11-10T21:36:57.3467577+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d6024d0be9352afcbeb982eae823db1f","SpanId":"f1087db4cbc4e98d","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7P"}}
{"Timestamp":"2024-11-10T21:36:57.3618491+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8826b705f45d8fc3c1c98a2aaa58d8fd","SpanId":"2660b3d589e25b7a","Properties":{"elapsed":"13","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7O"}}
{"Timestamp":"2024-11-10T21:36:57.3643117+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d6024d0be9352afcbeb982eae823db1f","SpanId":"f1087db4cbc4e98d","Properties":{"elapsed":"12","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7P"}}
{"Timestamp":"2024-11-10T21:36:57.3697181+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8826b705f45d8fc3c1c98a2aaa58d8fd","SpanId":"2660b3d589e25b7a","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7O"}}
{"Timestamp":"2024-11-10T21:36:57.3697182+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d6024d0be9352afcbeb982eae823db1f","SpanId":"f1087db4cbc4e98d","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7P"}}
{"Timestamp":"2024-11-10T21:36:57.3717439+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8826b705f45d8fc3c1c98a2aaa58d8fd","SpanId":"2660b3d589e25b7a","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7O"}}
{"Timestamp":"2024-11-10T21:36:57.3736901+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d6024d0be9352afcbeb982eae823db1f","SpanId":"f1087db4cbc4e98d","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7P"}}
{"Timestamp":"2024-11-10T21:36:57.3750872+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8826b705f45d8fc3c1c98a2aaa58d8fd","SpanId":"2660b3d589e25b7a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":30.3556,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IHTKDD7O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7O"}}
{"Timestamp":"2024-11-10T21:36:57.3765255+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d6024d0be9352afcbeb982eae823db1f","SpanId":"f1087db4cbc4e98d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":27.3775,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IHTKDD7P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7P"}}
{"Timestamp":"2024-11-10T21:36:57.3775744+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8826b705f45d8fc3c1c98a2aaa58d8fd","SpanId":"2660b3d589e25b7a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7O"}}
{"Timestamp":"2024-11-10T21:36:57.3785484+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d6024d0be9352afcbeb982eae823db1f","SpanId":"f1087db4cbc4e98d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7P"}}
{"Timestamp":"2024-11-10T21:36:57.3793742+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8826b705f45d8fc3c1c98a2aaa58d8fd","SpanId":"2660b3d589e25b7a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":43.4397,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"43.4397"}]}}
{"Timestamp":"2024-11-10T21:36:57.3801315+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d6024d0be9352afcbeb982eae823db1f","SpanId":"f1087db4cbc4e98d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":37.5476,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"37.5476"}]}}
{"Timestamp":"2024-11-10T21:36:57.3824297+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8826b705f45d8fc3c1c98a2aaa58d8fd","SpanId":"2660b3d589e25b7a","Properties":{"ElapsedMilliseconds":49.9752,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7O"}}
{"Timestamp":"2024-11-10T21:36:57.3863716+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"02d08c5d910a568cf2c0cf42efefc80f","SpanId":"c9edfdacc022bcd3","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD7R"}}
{"Timestamp":"2024-11-10T21:36:57.3839030+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d6024d0be9352afcbeb982eae823db1f","SpanId":"f1087db4cbc4e98d","Properties":{"ElapsedMilliseconds":45.8673,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7P"}}
{"Timestamp":"2024-11-10T21:36:57.3851188+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"331d21e733daf4c0808d977f7c2d7d99","SpanId":"a3345fdcb3aced21","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7Q"}}
{"Timestamp":"2024-11-10T21:36:57.3959694+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"02d08c5d910a568cf2c0cf42efefc80f","SpanId":"c9edfdacc022bcd3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD7R"}}
{"Timestamp":"2024-11-10T21:36:57.3988871+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"331d21e733daf4c0808d977f7c2d7d99","SpanId":"a3345fdcb3aced21","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7Q"}}
{"Timestamp":"2024-11-10T21:36:57.3991582+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"02d08c5d910a568cf2c0cf42efefc80f","SpanId":"c9edfdacc022bcd3","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"22b787fc-a7e0-4cbc-846f-1949b8d0af2f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD7R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD7R"}}
{"Timestamp":"2024-11-10T21:36:57.3996921+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"331d21e733daf4c0808d977f7c2d7d99","SpanId":"a3345fdcb3aced21","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"19761ed5-f60f-40fb-b7ab-fd51a01871c0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD7Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7Q"}}
{"Timestamp":"2024-11-10T21:36:57.4079942+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"02d08c5d910a568cf2c0cf42efefc80f","SpanId":"c9edfdacc022bcd3","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"22b787fc-a7e0-4cbc-846f-1949b8d0af2f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD7R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD7R"}}
{"Timestamp":"2024-11-10T21:36:57.4079941+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"331d21e733daf4c0808d977f7c2d7d99","SpanId":"a3345fdcb3aced21","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"19761ed5-f60f-40fb-b7ab-fd51a01871c0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD7Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7Q"}}
{"Timestamp":"2024-11-10T21:36:57.4105512+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"02d08c5d910a568cf2c0cf42efefc80f","SpanId":"c9edfdacc022bcd3","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"22b787fc-a7e0-4cbc-846f-1949b8d0af2f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD7R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD7R"}}
{"Timestamp":"2024-11-10T21:36:57.4124029+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"331d21e733daf4c0808d977f7c2d7d99","SpanId":"a3345fdcb3aced21","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"19761ed5-f60f-40fb-b7ab-fd51a01871c0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD7Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7Q"}}
{"Timestamp":"2024-11-10T21:36:57.4140046+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"02d08c5d910a568cf2c0cf42efefc80f","SpanId":"c9edfdacc022bcd3","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":13.4108,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IHTKDD7R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD7R"}}
{"Timestamp":"2024-11-10T21:36:57.4146444+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"331d21e733daf4c0808d977f7c2d7d99","SpanId":"a3345fdcb3aced21","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":13.0565,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IHTKDD7Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7Q"}}
{"Timestamp":"2024-11-10T21:36:57.4157362+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"02d08c5d910a568cf2c0cf42efefc80f","SpanId":"c9edfdacc022bcd3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD7R"}}
{"Timestamp":"2024-11-10T21:36:57.4170302+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"331d21e733daf4c0808d977f7c2d7d99","SpanId":"a3345fdcb3aced21","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7Q"}}
{"Timestamp":"2024-11-10T21:36:57.4176383+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"02d08c5d910a568cf2c0cf42efefc80f","SpanId":"c9edfdacc022bcd3","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":22.0859,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.0859"}]}}
{"Timestamp":"2024-11-10T21:36:57.4181847+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"331d21e733daf4c0808d977f7c2d7d99","SpanId":"a3345fdcb3aced21","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":19.6142,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.6142"}]}}
{"Timestamp":"2024-11-10T21:36:57.4192040+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"02d08c5d910a568cf2c0cf42efefc80f","SpanId":"c9edfdacc022bcd3","Properties":{"ElapsedMilliseconds":32.9567,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD7R"}}
{"Timestamp":"2024-11-10T21:36:57.4204633+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"331d21e733daf4c0808d977f7c2d7d99","SpanId":"a3345fdcb3aced21","Properties":{"ElapsedMilliseconds":35.3453,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7Q"}}
{"Timestamp":"2024-11-10T21:37:00.7826034+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e21d0f30f5ef27eb5190b4109ae9ea35","SpanId":"36793052d376d6f3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7S"}}
{"Timestamp":"2024-11-10T21:37:00.7846938+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e21d0f30f5ef27eb5190b4109ae9ea35","SpanId":"36793052d376d6f3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7S"}}
{"Timestamp":"2024-11-10T21:37:00.7855261+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e21d0f30f5ef27eb5190b4109ae9ea35","SpanId":"36793052d376d6f3","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7S"}}
{"Timestamp":"2024-11-10T21:37:00.7943227+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e21d0f30f5ef27eb5190b4109ae9ea35","SpanId":"36793052d376d6f3","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7S"}}
{"Timestamp":"2024-11-10T21:37:00.7989150+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e21d0f30f5ef27eb5190b4109ae9ea35","SpanId":"36793052d376d6f3","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7S"}}
{"Timestamp":"2024-11-10T21:37:00.8010390+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e21d0f30f5ef27eb5190b4109ae9ea35","SpanId":"36793052d376d6f3","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7S"}}
{"Timestamp":"2024-11-10T21:37:00.8023203+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e21d0f30f5ef27eb5190b4109ae9ea35","SpanId":"36793052d376d6f3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":14.7743,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IHTKDD7S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7S"}}
{"Timestamp":"2024-11-10T21:37:00.8031862+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e21d0f30f5ef27eb5190b4109ae9ea35","SpanId":"36793052d376d6f3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7S"}}
{"Timestamp":"2024-11-10T21:37:00.8038910+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e21d0f30f5ef27eb5190b4109ae9ea35","SpanId":"36793052d376d6f3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":19.3171,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.3171"}]}}
{"Timestamp":"2024-11-10T21:37:00.8058326+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e21d0f30f5ef27eb5190b4109ae9ea35","SpanId":"36793052d376d6f3","Properties":{"ElapsedMilliseconds":23.2489,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7S"}}
{"Timestamp":"2024-11-10T21:37:00.8076510+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9409c7c84cb9b55f2c29d8b737015299","SpanId":"4ec844f03eb4c529","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7T:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7T"}}
{"Timestamp":"2024-11-10T21:37:00.8099914+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9409c7c84cb9b55f2c29d8b737015299","SpanId":"4ec844f03eb4c529","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7T:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7T"}}
{"Timestamp":"2024-11-10T21:37:00.8109367+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9409c7c84cb9b55f2c29d8b737015299","SpanId":"4ec844f03eb4c529","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"19761ed5-f60f-40fb-b7ab-fd51a01871c0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD7T:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7T"}}
{"Timestamp":"2024-11-10T21:37:00.8152284+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9409c7c84cb9b55f2c29d8b737015299","SpanId":"4ec844f03eb4c529","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"19761ed5-f60f-40fb-b7ab-fd51a01871c0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD7T:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7T"}}
{"Timestamp":"2024-11-10T21:37:00.8178540+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9409c7c84cb9b55f2c29d8b737015299","SpanId":"4ec844f03eb4c529","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"19761ed5-f60f-40fb-b7ab-fd51a01871c0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD7T:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7T"}}
{"Timestamp":"2024-11-10T21:37:00.8192083+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9409c7c84cb9b55f2c29d8b737015299","SpanId":"4ec844f03eb4c529","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":7.1678,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IHTKDD7T:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7T"}}
{"Timestamp":"2024-11-10T21:37:00.8201883+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9409c7c84cb9b55f2c29d8b737015299","SpanId":"4ec844f03eb4c529","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7T:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7T"}}
{"Timestamp":"2024-11-10T21:37:00.8207147+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9409c7c84cb9b55f2c29d8b737015299","SpanId":"4ec844f03eb4c529","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":11.0702,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.0702"}]}}
{"Timestamp":"2024-11-10T21:37:00.8218917+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9409c7c84cb9b55f2c29d8b737015299","SpanId":"4ec844f03eb4c529","Properties":{"ElapsedMilliseconds":14.252,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7T:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD7T"}}
{"Timestamp":"2024-11-10T21:37:00.9396559+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f4c6fa2381b9af40eb1bf911bcf1d9e8","SpanId":"f18b8b41795d94b3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7U"}}
{"Timestamp":"2024-11-10T21:37:00.9427615+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f4c6fa2381b9af40eb1bf911bcf1d9e8","SpanId":"f18b8b41795d94b3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7U"}}
{"Timestamp":"2024-11-10T21:37:00.9437689+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"50eea835736a885a035feb806237517c","SpanId":"ddca3593b4edafe1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7V"}}
{"Timestamp":"2024-11-10T21:37:00.9445013+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f4c6fa2381b9af40eb1bf911bcf1d9e8","SpanId":"f18b8b41795d94b3","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7U"}}
{"Timestamp":"2024-11-10T21:37:00.9475363+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"50eea835736a885a035feb806237517c","SpanId":"ddca3593b4edafe1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7V"}}
{"Timestamp":"2024-11-10T21:37:00.9498250+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"50eea835736a885a035feb806237517c","SpanId":"ddca3593b4edafe1","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7V"}}
{"Timestamp":"2024-11-10T21:37:00.9608958+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"50eea835736a885a035feb806237517c","SpanId":"ddca3593b4edafe1","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7V"}}
{"Timestamp":"2024-11-10T21:37:00.9652238+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f4c6fa2381b9af40eb1bf911bcf1d9e8","SpanId":"f18b8b41795d94b3","Properties":{"elapsed":"14","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7U"}}
{"Timestamp":"2024-11-10T21:37:00.9692725+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"50eea835736a885a035feb806237517c","SpanId":"ddca3593b4edafe1","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7V"}}
{"Timestamp":"2024-11-10T21:37:00.9710053+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f4c6fa2381b9af40eb1bf911bcf1d9e8","SpanId":"f18b8b41795d94b3","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7U"}}
{"Timestamp":"2024-11-10T21:37:00.9725525+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"50eea835736a885a035feb806237517c","SpanId":"ddca3593b4edafe1","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7V"}}
{"Timestamp":"2024-11-10T21:37:00.9738271+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f4c6fa2381b9af40eb1bf911bcf1d9e8","SpanId":"f18b8b41795d94b3","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"faaccd47-6e1d-4dba-917d-b313b7a82d8b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IHTKDD7U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7U"}}
{"Timestamp":"2024-11-10T21:37:00.9749266+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"50eea835736a885a035feb806237517c","SpanId":"ddca3593b4edafe1","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":23.5372,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IHTKDD7V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7V"}}
{"Timestamp":"2024-11-10T21:37:00.9779356+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f4c6fa2381b9af40eb1bf911bcf1d9e8","SpanId":"f18b8b41795d94b3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":29.4879,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IHTKDD7U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7U"}}
{"Timestamp":"2024-11-10T21:37:00.9788113+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"50eea835736a885a035feb806237517c","SpanId":"ddca3593b4edafe1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7V"}}
{"Timestamp":"2024-11-10T21:37:00.9797729+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f4c6fa2381b9af40eb1bf911bcf1d9e8","SpanId":"f18b8b41795d94b3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD7U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7U"}}
{"Timestamp":"2024-11-10T21:37:00.9808591+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"50eea835736a885a035feb806237517c","SpanId":"ddca3593b4edafe1","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":33.3879,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.3879"}]}}
{"Timestamp":"2024-11-10T21:37:00.9815100+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f4c6fa2381b9af40eb1bf911bcf1d9e8","SpanId":"f18b8b41795d94b3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":38.9326,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"38.9326"}]}}
{"Timestamp":"2024-11-10T21:37:00.9831320+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"50eea835736a885a035feb806237517c","SpanId":"ddca3593b4edafe1","Properties":{"ElapsedMilliseconds":39.4304,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7V"}}
{"Timestamp":"2024-11-10T21:37:00.9844637+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f4c6fa2381b9af40eb1bf911bcf1d9e8","SpanId":"f18b8b41795d94b3","Properties":{"ElapsedMilliseconds":44.8295,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD7U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IHTKDD7U"}}
{"Timestamp":"2024-11-10T21:37:00.9870995+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"24107c58b94f79441e788c293466ae34","SpanId":"4212a337dbbe5d94","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD80:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD80"}}
{"Timestamp":"2024-11-10T21:37:00.9879696+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"16531f8dfe5821281cdcc3eedfe3a41f","SpanId":"288fad36720cefd4","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD81:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD81"}}
{"Timestamp":"2024-11-10T21:37:00.9958442+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"16531f8dfe5821281cdcc3eedfe3a41f","SpanId":"288fad36720cefd4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD81:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD81"}}
{"Timestamp":"2024-11-10T21:37:00.9958442+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"24107c58b94f79441e788c293466ae34","SpanId":"4212a337dbbe5d94","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD80:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD80"}}
{"Timestamp":"2024-11-10T21:37:00.9965082+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"16531f8dfe5821281cdcc3eedfe3a41f","SpanId":"288fad36720cefd4","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"19761ed5-f60f-40fb-b7ab-fd51a01871c0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD81:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD81"}}
{"Timestamp":"2024-11-10T21:37:00.9970647+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"24107c58b94f79441e788c293466ae34","SpanId":"4212a337dbbe5d94","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"22b787fc-a7e0-4cbc-846f-1949b8d0af2f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD80:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD80"}}
{"Timestamp":"2024-11-10T21:37:01.1438796+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"16531f8dfe5821281cdcc3eedfe3a41f","SpanId":"288fad36720cefd4","Properties":{"elapsed":"144","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"19761ed5-f60f-40fb-b7ab-fd51a01871c0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD81:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD81"}}
{"Timestamp":"2024-11-10T21:37:01.1471206+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"16531f8dfe5821281cdcc3eedfe3a41f","SpanId":"288fad36720cefd4","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"19761ed5-f60f-40fb-b7ab-fd51a01871c0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD81:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD81"}}
{"Timestamp":"2024-11-10T21:37:01.1485285+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"24107c58b94f79441e788c293466ae34","SpanId":"4212a337dbbe5d94","Properties":{"elapsed":"148","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"22b787fc-a7e0-4cbc-846f-1949b8d0af2f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD80:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD80"}}
{"Timestamp":"2024-11-10T21:37:01.1499890+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"16531f8dfe5821281cdcc3eedfe3a41f","SpanId":"288fad36720cefd4","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":151.9364,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IHTKDD81:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD81"}}
{"Timestamp":"2024-11-10T21:37:01.1531686+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"24107c58b94f79441e788c293466ae34","SpanId":"4212a337dbbe5d94","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"22b787fc-a7e0-4cbc-846f-1949b8d0af2f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IHTKDD80:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD80"}}
{"Timestamp":"2024-11-10T21:37:01.1545307+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"16531f8dfe5821281cdcc3eedfe3a41f","SpanId":"288fad36720cefd4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD81:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD81"}}
{"Timestamp":"2024-11-10T21:37:01.1553741+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"24107c58b94f79441e788c293466ae34","SpanId":"4212a337dbbe5d94","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":156.4864,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IHTKDD80:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD80"}}
{"Timestamp":"2024-11-10T21:37:01.1558787+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"16531f8dfe5821281cdcc3eedfe3a41f","SpanId":"288fad36720cefd4","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":160.3552,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"160.3552"}]}}
{"Timestamp":"2024-11-10T21:37:01.1565836+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"24107c58b94f79441e788c293466ae34","SpanId":"4212a337dbbe5d94","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IHTKDD80:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD80"}}
{"Timestamp":"2024-11-10T21:37:01.1575389+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"16531f8dfe5821281cdcc3eedfe3a41f","SpanId":"288fad36720cefd4","Properties":{"ElapsedMilliseconds":169.6398,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD81:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IHTKDD81"}}
{"Timestamp":"2024-11-10T21:37:01.1581621+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"24107c58b94f79441e788c293466ae34","SpanId":"4212a337dbbe5d94","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":162.7575,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"162.7575"}]}}
{"Timestamp":"2024-11-10T21:37:01.1623386+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"24107c58b94f79441e788c293466ae34","SpanId":"4212a337dbbe5d94","Properties":{"ElapsedMilliseconds":175.259,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IHTKDD80:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IHTKDD80"}}
{"Timestamp":"2024-11-10T21:40:57.9058329+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-10T21:40:58.1339238+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T21:40:58.1979615+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T21:40:58.2008949+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T21:40:58.2022731+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T21:40:58.3797197+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a2218fbdf68c2b9f370eb0f63db04b39","SpanId":"2453a513a397653a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJ4:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN81IMO9OUJ4"}}
{"Timestamp":"2024-11-10T21:40:58.6268822+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a2218fbdf68c2b9f370eb0f63db04b39","SpanId":"2453a513a397653a","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":82.809,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"82.8090"}]}}
{"Timestamp":"2024-11-10T21:40:58.6318854+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"763bd996dd0d3850ead20a413366ec62","SpanId":"21c87a61c5edcb8e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJ7:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN81IMO9OUJ7"}}
{"Timestamp":"2024-11-10T21:40:58.6318431+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"46c6984c89984189bb65ac04917fbcce","SpanId":"a50dc937965af1bc","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJ6:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN81IMO9OUJ6"}}
{"Timestamp":"2024-11-10T21:40:58.6479171+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"46c6984c89984189bb65ac04917fbcce","SpanId":"a50dc937965af1bc","Properties":{"ElapsedMilliseconds":18.2693,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJ6:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN81IMO9OUJ6"}}
{"Timestamp":"2024-11-10T21:40:58.6479131+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a2218fbdf68c2b9f370eb0f63db04b39","SpanId":"2453a513a397653a","Properties":{"ElapsedMilliseconds":272.7311,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJ4:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN81IMO9OUJ4"}}
{"Timestamp":"2024-11-10T21:40:58.7042334+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"763bd996dd0d3850ead20a413366ec62","SpanId":"21c87a61c5edcb8e","Properties":{"ElapsedMilliseconds":72.357,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJ7:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN81IMO9OUJ7"}}
{"Timestamp":"2024-11-10T21:40:58.7448377+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"31ad65fe7ba4d5ae85119a8f9042e5cc","SpanId":"fd1b20a9ed949bf3","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJ7:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN81IMO9OUJ7"}}
{"Timestamp":"2024-11-10T21:40:58.8892645+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"31ad65fe7ba4d5ae85119a8f9042e5cc","SpanId":"fd1b20a9ed949bf3","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":140.8845,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"140.8845"}]}}
{"Timestamp":"2024-11-10T21:40:58.8924811+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"31ad65fe7ba4d5ae85119a8f9042e5cc","SpanId":"fd1b20a9ed949bf3","Properties":{"ElapsedMilliseconds":147.6621,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJ7:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN81IMO9OUJ7"}}
{"Timestamp":"2024-11-10T21:41:11.0977659+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d860e176d5b87c5fd8a033e705cab29b","SpanId":"9a5ecab45426b813","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJ8:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUJ8"}}
{"Timestamp":"2024-11-10T21:41:11.1038671+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"d860e176d5b87c5fd8a033e705cab29b","SpanId":"9a5ecab45426b813","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN81IMO9OUJ8:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUJ8"}}
{"Timestamp":"2024-11-10T21:41:11.2012698+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d860e176d5b87c5fd8a033e705cab29b","SpanId":"9a5ecab45426b813","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJ8:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUJ8"}}
{"Timestamp":"2024-11-10T21:41:11.2503745+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d860e176d5b87c5fd8a033e705cab29b","SpanId":"9a5ecab45426b813","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OUJ8:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUJ8"}}
{"Timestamp":"2024-11-10T21:41:13.4653743+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d860e176d5b87c5fd8a033e705cab29b","SpanId":"9a5ecab45426b813","Properties":{"elapsed":"63","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OUJ8:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUJ8"}}
{"Timestamp":"2024-11-10T21:41:13.8789409+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d860e176d5b87c5fd8a033e705cab29b","SpanId":"9a5ecab45426b813","Properties":{"elapsed":"40","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OUJ8:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUJ8"}}
{"Timestamp":"2024-11-10T21:41:13.9132825+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d860e176d5b87c5fd8a033e705cab29b","SpanId":"9a5ecab45426b813","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OUJ8:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUJ8"}}
{"Timestamp":"2024-11-10T21:41:13.9242693+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d860e176d5b87c5fd8a033e705cab29b","SpanId":"9a5ecab45426b813","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":2667.2296,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUJ8:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUJ8"}}
{"Timestamp":"2024-11-10T21:41:13.9265784+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d860e176d5b87c5fd8a033e705cab29b","SpanId":"9a5ecab45426b813","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJ8:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUJ8"}}
{"Timestamp":"2024-11-10T21:41:13.9304411+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d860e176d5b87c5fd8a033e705cab29b","SpanId":"9a5ecab45426b813","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":2829.1712,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2829.1712"}]}}
{"Timestamp":"2024-11-10T21:41:13.9452601+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d860e176d5b87c5fd8a033e705cab29b","SpanId":"9a5ecab45426b813","Properties":{"ElapsedMilliseconds":2847.5868,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJ8:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUJ8"}}
{"Timestamp":"2024-11-10T21:41:17.4890288+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2530063688b78f93a1000f2728c615e1","SpanId":"7f2d5a4c6bfc4f4e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJ9"}}
{"Timestamp":"2024-11-10T21:41:17.4975613+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2530063688b78f93a1000f2728c615e1","SpanId":"7f2d5a4c6bfc4f4e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJ9"}}
{"Timestamp":"2024-11-10T21:41:17.5036582+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2530063688b78f93a1000f2728c615e1","SpanId":"7f2d5a4c6bfc4f4e","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJ9"}}
{"Timestamp":"2024-11-10T21:41:17.6565740+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"357e0d7fba8317013dd2c16b42f34bd3","SpanId":"e5afd423e1cb8ada","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJA"}}
{"Timestamp":"2024-11-10T21:41:17.6637488+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"357e0d7fba8317013dd2c16b42f34bd3","SpanId":"e5afd423e1cb8ada","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJA"}}
{"Timestamp":"2024-11-10T21:41:17.6647422+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"357e0d7fba8317013dd2c16b42f34bd3","SpanId":"e5afd423e1cb8ada","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJA"}}
{"Timestamp":"2024-11-10T21:41:17.6662858+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2530063688b78f93a1000f2728c615e1","SpanId":"7f2d5a4c6bfc4f4e","Properties":{"elapsed":"19","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJ9"}}
{"Timestamp":"2024-11-10T21:41:17.7712058+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"357e0d7fba8317013dd2c16b42f34bd3","SpanId":"e5afd423e1cb8ada","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJA"}}
{"Timestamp":"2024-11-10T21:41:17.8041797+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2530063688b78f93a1000f2728c615e1","SpanId":"7f2d5a4c6bfc4f4e","Properties":{"elapsed":"11","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJ9"}}
{"Timestamp":"2024-11-10T21:41:17.8269029+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"357e0d7fba8317013dd2c16b42f34bd3","SpanId":"e5afd423e1cb8ada","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJA"}}
{"Timestamp":"2024-11-10T21:41:17.8402199+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2530063688b78f93a1000f2728c615e1","SpanId":"7f2d5a4c6bfc4f4e","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJ9"}}
{"Timestamp":"2024-11-10T21:41:17.8402199+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"357e0d7fba8317013dd2c16b42f34bd3","SpanId":"e5afd423e1cb8ada","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJA"}}
{"Timestamp":"2024-11-10T21:41:17.8430857+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2530063688b78f93a1000f2728c615e1","SpanId":"7f2d5a4c6bfc4f4e","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":337.1386,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJ9"}}
{"Timestamp":"2024-11-10T21:41:17.8444523+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"357e0d7fba8317013dd2c16b42f34bd3","SpanId":"e5afd423e1cb8ada","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":178.3504,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUJA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJA"}}
{"Timestamp":"2024-11-10T21:41:17.8456092+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2530063688b78f93a1000f2728c615e1","SpanId":"7f2d5a4c6bfc4f4e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJ9"}}
{"Timestamp":"2024-11-10T21:41:17.8481361+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"357e0d7fba8317013dd2c16b42f34bd3","SpanId":"e5afd423e1cb8ada","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJA"}}
{"Timestamp":"2024-11-10T21:41:17.8496286+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2530063688b78f93a1000f2728c615e1","SpanId":"7f2d5a4c6bfc4f4e","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":353.4403,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"353.4403"}]}}
{"Timestamp":"2024-11-10T21:41:17.8507227+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"357e0d7fba8317013dd2c16b42f34bd3","SpanId":"e5afd423e1cb8ada","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":190.3474,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"190.3474"}]}}
{"Timestamp":"2024-11-10T21:41:17.8530649+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2530063688b78f93a1000f2728c615e1","SpanId":"7f2d5a4c6bfc4f4e","Properties":{"ElapsedMilliseconds":364.1041,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJ9"}}
{"Timestamp":"2024-11-10T21:41:17.8548842+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"357e0d7fba8317013dd2c16b42f34bd3","SpanId":"e5afd423e1cb8ada","Properties":{"ElapsedMilliseconds":198.3054,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJA"}}
{"Timestamp":"2024-11-10T21:41:17.8586360+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8f0f4a518900737b90290aa8470d7f4a","SpanId":"a01803c6ffbbd4ef","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJB"}}
{"Timestamp":"2024-11-10T21:41:17.8589813+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d96d1f1d5813d0b98705cdadbac110f1","SpanId":"9921c42c3c5d72dc","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUJC"}}
{"Timestamp":"2024-11-10T21:41:17.9198768+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d96d1f1d5813d0b98705cdadbac110f1","SpanId":"9921c42c3c5d72dc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUJC"}}
{"Timestamp":"2024-11-10T21:41:17.9199063+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8f0f4a518900737b90290aa8470d7f4a","SpanId":"a01803c6ffbbd4ef","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJB"}}
{"Timestamp":"2024-11-10T21:41:17.9260958+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d96d1f1d5813d0b98705cdadbac110f1","SpanId":"9921c42c3c5d72dc","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUJC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUJC"}}
{"Timestamp":"2024-11-10T21:41:17.9260957+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8f0f4a518900737b90290aa8470d7f4a","SpanId":"a01803c6ffbbd4ef","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUJB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJB"}}
{"Timestamp":"2024-11-10T21:41:17.9979075+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8f0f4a518900737b90290aa8470d7f4a","SpanId":"a01803c6ffbbd4ef","Properties":{"elapsed":"13","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUJB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJB"}}
{"Timestamp":"2024-11-10T21:41:17.9988378+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d96d1f1d5813d0b98705cdadbac110f1","SpanId":"9921c42c3c5d72dc","Properties":{"elapsed":"9","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUJC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUJC"}}
{"Timestamp":"2024-11-10T21:41:18.0045489+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8f0f4a518900737b90290aa8470d7f4a","SpanId":"a01803c6ffbbd4ef","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUJB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJB"}}
{"Timestamp":"2024-11-10T21:41:18.0129361+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d96d1f1d5813d0b98705cdadbac110f1","SpanId":"9921c42c3c5d72dc","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUJC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUJC"}}
{"Timestamp":"2024-11-10T21:41:18.0176826+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8f0f4a518900737b90290aa8470d7f4a","SpanId":"a01803c6ffbbd4ef","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":88.5377,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUJB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJB"}}
{"Timestamp":"2024-11-10T21:41:18.0193392+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8f0f4a518900737b90290aa8470d7f4a","SpanId":"a01803c6ffbbd4ef","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJB"}}
{"Timestamp":"2024-11-10T21:41:18.0205487+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8f0f4a518900737b90290aa8470d7f4a","SpanId":"a01803c6ffbbd4ef","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":153.8937,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"153.8937"}]}}
{"Timestamp":"2024-11-10T21:41:18.0227371+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8f0f4a518900737b90290aa8470d7f4a","SpanId":"a01803c6ffbbd4ef","Properties":{"ElapsedMilliseconds":164.1355,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJB"}}
{"Timestamp":"2024-11-10T21:41:18.0243563+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d96d1f1d5813d0b98705cdadbac110f1","SpanId":"9921c42c3c5d72dc","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":96.1785,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUJC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUJC"}}
{"Timestamp":"2024-11-10T21:41:18.0283660+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d96d1f1d5813d0b98705cdadbac110f1","SpanId":"9921c42c3c5d72dc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUJC"}}
{"Timestamp":"2024-11-10T21:41:18.0292979+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d96d1f1d5813d0b98705cdadbac110f1","SpanId":"9921c42c3c5d72dc","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":158.9816,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"158.9816"}]}}
{"Timestamp":"2024-11-10T21:41:18.0308294+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d96d1f1d5813d0b98705cdadbac110f1","SpanId":"9921c42c3c5d72dc","Properties":{"ElapsedMilliseconds":171.8498,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUJC"}}
{"Timestamp":"2024-11-10T21:41:19.0636119+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dd45c089775e5058bff6423ee38439c0","SpanId":"c9604ce011d39552","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJD"}}
{"Timestamp":"2024-11-10T21:41:19.0658421+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"dd45c089775e5058bff6423ee38439c0","SpanId":"c9604ce011d39552","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJD"}}
{"Timestamp":"2024-11-10T21:41:19.0668938+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"dd45c089775e5058bff6423ee38439c0","SpanId":"c9604ce011d39552","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJD"}}
{"Timestamp":"2024-11-10T21:41:19.0888999+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dd45c089775e5058bff6423ee38439c0","SpanId":"c9604ce011d39552","Properties":{"elapsed":"19","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJD"}}
{"Timestamp":"2024-11-10T21:41:19.0960896+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dd45c089775e5058bff6423ee38439c0","SpanId":"c9604ce011d39552","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJD"}}
{"Timestamp":"2024-11-10T21:41:19.0979557+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"dd45c089775e5058bff6423ee38439c0","SpanId":"c9604ce011d39552","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJD"}}
{"Timestamp":"2024-11-10T21:41:19.0990461+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"dd45c089775e5058bff6423ee38439c0","SpanId":"c9604ce011d39552","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":30.9608,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUJD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJD"}}
{"Timestamp":"2024-11-10T21:41:19.1000590+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"dd45c089775e5058bff6423ee38439c0","SpanId":"c9604ce011d39552","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJD"}}
{"Timestamp":"2024-11-10T21:41:19.1010061+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"dd45c089775e5058bff6423ee38439c0","SpanId":"c9604ce011d39552","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":35.4005,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.4005"}]}}
{"Timestamp":"2024-11-10T21:41:19.1027522+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dd45c089775e5058bff6423ee38439c0","SpanId":"c9604ce011d39552","Properties":{"ElapsedMilliseconds":39.2317,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJD"}}
{"Timestamp":"2024-11-10T21:41:19.1050376+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2f1dd72e0047d3694354f0fb14fbfc93","SpanId":"cc9911c23254bb30","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUJE"}}
{"Timestamp":"2024-11-10T21:41:19.1097093+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2f1dd72e0047d3694354f0fb14fbfc93","SpanId":"cc9911c23254bb30","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUJE"}}
{"Timestamp":"2024-11-10T21:41:19.1105465+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2f1dd72e0047d3694354f0fb14fbfc93","SpanId":"cc9911c23254bb30","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUJE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUJE"}}
{"Timestamp":"2024-11-10T21:41:19.1198671+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2f1dd72e0047d3694354f0fb14fbfc93","SpanId":"cc9911c23254bb30","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUJE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUJE"}}
{"Timestamp":"2024-11-10T21:41:19.1223786+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2f1dd72e0047d3694354f0fb14fbfc93","SpanId":"cc9911c23254bb30","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUJE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUJE"}}
{"Timestamp":"2024-11-10T21:41:19.1239591+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2f1dd72e0047d3694354f0fb14fbfc93","SpanId":"cc9911c23254bb30","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":12.2552,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUJE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUJE"}}
{"Timestamp":"2024-11-10T21:41:19.1268418+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2f1dd72e0047d3694354f0fb14fbfc93","SpanId":"cc9911c23254bb30","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUJE"}}
{"Timestamp":"2024-11-10T21:41:19.1288881+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2f1dd72e0047d3694354f0fb14fbfc93","SpanId":"cc9911c23254bb30","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":19.7106,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.7106"}]}}
{"Timestamp":"2024-11-10T21:41:19.1307660+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2f1dd72e0047d3694354f0fb14fbfc93","SpanId":"cc9911c23254bb30","Properties":{"ElapsedMilliseconds":25.7534,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUJE"}}
{"Timestamp":"2024-11-10T21:41:19.1371285+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4d7cafab0a08ce12f6df524cab2334c0","SpanId":"7e7230a0430023e9","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJF"}}
{"Timestamp":"2024-11-10T21:41:19.1388468+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4d7cafab0a08ce12f6df524cab2334c0","SpanId":"7e7230a0430023e9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJF"}}
{"Timestamp":"2024-11-10T21:41:19.1396127+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4d7cafab0a08ce12f6df524cab2334c0","SpanId":"7e7230a0430023e9","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJF"}}
{"Timestamp":"2024-11-10T21:41:19.1446522+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4d7cafab0a08ce12f6df524cab2334c0","SpanId":"7e7230a0430023e9","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJF"}}
{"Timestamp":"2024-11-10T21:41:19.1493001+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4d7cafab0a08ce12f6df524cab2334c0","SpanId":"7e7230a0430023e9","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJF"}}
{"Timestamp":"2024-11-10T21:41:19.1513082+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4d7cafab0a08ce12f6df524cab2334c0","SpanId":"7e7230a0430023e9","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJF"}}
{"Timestamp":"2024-11-10T21:41:19.1522446+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4d7cafab0a08ce12f6df524cab2334c0","SpanId":"7e7230a0430023e9","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":10.5354,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJF"}}
{"Timestamp":"2024-11-10T21:41:19.1531699+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4d7cafab0a08ce12f6df524cab2334c0","SpanId":"7e7230a0430023e9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJF"}}
{"Timestamp":"2024-11-10T21:41:19.1539087+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4d7cafab0a08ce12f6df524cab2334c0","SpanId":"7e7230a0430023e9","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":15.1405,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.1405"}]}}
{"Timestamp":"2024-11-10T21:41:19.1554547+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4d7cafab0a08ce12f6df524cab2334c0","SpanId":"7e7230a0430023e9","Properties":{"ElapsedMilliseconds":18.3506,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJF"}}
{"Timestamp":"2024-11-10T21:41:19.1603745+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ed83fc71ccf2024d0f70839ecf5a39e1","SpanId":"ee5f53fa6080d2ba","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJG:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUJG"}}
{"Timestamp":"2024-11-10T21:41:19.1625643+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ed83fc71ccf2024d0f70839ecf5a39e1","SpanId":"ee5f53fa6080d2ba","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJG:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUJG"}}
{"Timestamp":"2024-11-10T21:41:19.1644685+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ed83fc71ccf2024d0f70839ecf5a39e1","SpanId":"ee5f53fa6080d2ba","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c4e19e87-d6eb-4030-ae87-56bce24c4ac0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81IMO9OUJG:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUJG"}}
{"Timestamp":"2024-11-10T21:41:19.2341190+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ed83fc71ccf2024d0f70839ecf5a39e1","SpanId":"ee5f53fa6080d2ba","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c4e19e87-d6eb-4030-ae87-56bce24c4ac0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81IMO9OUJG:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUJG"}}
{"Timestamp":"2024-11-10T21:41:19.2824697+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ed83fc71ccf2024d0f70839ecf5a39e1","SpanId":"ee5f53fa6080d2ba","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c4e19e87-d6eb-4030-ae87-56bce24c4ac0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81IMO9OUJG:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUJG"}}
{"Timestamp":"2024-11-10T21:41:19.2866767+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ed83fc71ccf2024d0f70839ecf5a39e1","SpanId":"ee5f53fa6080d2ba","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c4e19e87-d6eb-4030-ae87-56bce24c4ac0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81IMO9OUJG:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUJG"}}
{"Timestamp":"2024-11-10T21:41:19.2881557+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ed83fc71ccf2024d0f70839ecf5a39e1","SpanId":"ee5f53fa6080d2ba","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":121.7547,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUJG:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUJG"}}
{"Timestamp":"2024-11-10T21:41:19.2893512+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ed83fc71ccf2024d0f70839ecf5a39e1","SpanId":"ee5f53fa6080d2ba","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJG:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUJG"}}
{"Timestamp":"2024-11-10T21:41:19.2902247+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ed83fc71ccf2024d0f70839ecf5a39e1","SpanId":"ee5f53fa6080d2ba","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":127.9489,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"127.9489"}]}}
{"Timestamp":"2024-11-10T21:41:19.2921803+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ed83fc71ccf2024d0f70839ecf5a39e1","SpanId":"ee5f53fa6080d2ba","Properties":{"ElapsedMilliseconds":131.8473,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJG:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUJG"}}
{"Timestamp":"2024-11-10T21:41:22.4143848+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b637c36abd650ee9a86b67c10c1ee8d6","SpanId":"8d85557273f69e6c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJH"}}
{"Timestamp":"2024-11-10T21:41:22.4165141+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b637c36abd650ee9a86b67c10c1ee8d6","SpanId":"8d85557273f69e6c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJH"}}
{"Timestamp":"2024-11-10T21:41:22.4178142+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b637c36abd650ee9a86b67c10c1ee8d6","SpanId":"8d85557273f69e6c","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJH"}}
{"Timestamp":"2024-11-10T21:41:22.4353522+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b637c36abd650ee9a86b67c10c1ee8d6","SpanId":"8d85557273f69e6c","Properties":{"elapsed":"15","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJH"}}
{"Timestamp":"2024-11-10T21:41:22.4426185+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b637c36abd650ee9a86b67c10c1ee8d6","SpanId":"8d85557273f69e6c","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJH"}}
{"Timestamp":"2024-11-10T21:41:22.4449236+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b637c36abd650ee9a86b67c10c1ee8d6","SpanId":"8d85557273f69e6c","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJH"}}
{"Timestamp":"2024-11-10T21:41:22.4458232+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b637c36abd650ee9a86b67c10c1ee8d6","SpanId":"8d85557273f69e6c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":26.7306,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJH"}}
{"Timestamp":"2024-11-10T21:41:22.4471595+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b637c36abd650ee9a86b67c10c1ee8d6","SpanId":"8d85557273f69e6c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJH"}}
{"Timestamp":"2024-11-10T21:41:22.4479487+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b637c36abd650ee9a86b67c10c1ee8d6","SpanId":"8d85557273f69e6c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":31.6179,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"31.6179"}]}}
{"Timestamp":"2024-11-10T21:41:22.4493235+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b637c36abd650ee9a86b67c10c1ee8d6","SpanId":"8d85557273f69e6c","Properties":{"ElapsedMilliseconds":34.9469,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJH"}}
{"Timestamp":"2024-11-10T21:41:22.4513042+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"df0dc399294f308516c21cb381b6c187","SpanId":"45bf1301b41b339c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJI"}}
{"Timestamp":"2024-11-10T21:41:22.4539162+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"df0dc399294f308516c21cb381b6c187","SpanId":"45bf1301b41b339c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJI"}}
{"Timestamp":"2024-11-10T21:41:22.4550034+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"df0dc399294f308516c21cb381b6c187","SpanId":"45bf1301b41b339c","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUJI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJI"}}
{"Timestamp":"2024-11-10T21:41:22.4611278+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"df0dc399294f308516c21cb381b6c187","SpanId":"45bf1301b41b339c","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUJI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJI"}}
{"Timestamp":"2024-11-10T21:41:22.4627715+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"df0dc399294f308516c21cb381b6c187","SpanId":"45bf1301b41b339c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUJI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJI"}}
{"Timestamp":"2024-11-10T21:41:22.4641390+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"df0dc399294f308516c21cb381b6c187","SpanId":"45bf1301b41b339c","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.1016,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUJI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJI"}}
{"Timestamp":"2024-11-10T21:41:22.4653967+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"df0dc399294f308516c21cb381b6c187","SpanId":"45bf1301b41b339c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJI"}}
{"Timestamp":"2024-11-10T21:41:22.4661549+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"df0dc399294f308516c21cb381b6c187","SpanId":"45bf1301b41b339c","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":12.5632,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.5632"}]}}
{"Timestamp":"2024-11-10T21:41:22.4672041+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"df0dc399294f308516c21cb381b6c187","SpanId":"45bf1301b41b339c","Properties":{"ElapsedMilliseconds":15.9133,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJI"}}
{"Timestamp":"2024-11-10T21:41:23.0969116+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"550f40c7fa8d6f0291a03919bc40dee6","SpanId":"8059392663a4aeca","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJJ"}}
{"Timestamp":"2024-11-10T21:41:23.1014364+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"550f40c7fa8d6f0291a03919bc40dee6","SpanId":"8059392663a4aeca","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJJ"}}
{"Timestamp":"2024-11-10T21:41:23.1029566+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"550f40c7fa8d6f0291a03919bc40dee6","SpanId":"8059392663a4aeca","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJJ"}}
{"Timestamp":"2024-11-10T21:41:23.1073125+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"550f40c7fa8d6f0291a03919bc40dee6","SpanId":"8059392663a4aeca","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJJ"}}
{"Timestamp":"2024-11-10T21:41:23.1148932+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"550f40c7fa8d6f0291a03919bc40dee6","SpanId":"8059392663a4aeca","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJJ"}}
{"Timestamp":"2024-11-10T21:41:23.1174727+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"550f40c7fa8d6f0291a03919bc40dee6","SpanId":"8059392663a4aeca","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJJ"}}
{"Timestamp":"2024-11-10T21:41:23.1191449+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"550f40c7fa8d6f0291a03919bc40dee6","SpanId":"8059392663a4aeca","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":14.2347,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUJJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJJ"}}
{"Timestamp":"2024-11-10T21:41:23.1204343+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"550f40c7fa8d6f0291a03919bc40dee6","SpanId":"8059392663a4aeca","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJJ"}}
{"Timestamp":"2024-11-10T21:41:23.1211942+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"550f40c7fa8d6f0291a03919bc40dee6","SpanId":"8059392663a4aeca","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":19.8959,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.8959"}]}}
{"Timestamp":"2024-11-10T21:41:23.1231560+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"550f40c7fa8d6f0291a03919bc40dee6","SpanId":"8059392663a4aeca","Properties":{"ElapsedMilliseconds":26.3112,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJJ"}}
{"Timestamp":"2024-11-10T21:41:23.1315739+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f7b0dcd15e65e4d753b33af86edd4f46","SpanId":"966018089a9b10c3","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJK"}}
{"Timestamp":"2024-11-10T21:41:23.1348344+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f7b0dcd15e65e4d753b33af86edd4f46","SpanId":"966018089a9b10c3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJK"}}
{"Timestamp":"2024-11-10T21:41:23.1360561+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f7b0dcd15e65e4d753b33af86edd4f46","SpanId":"966018089a9b10c3","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUJK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJK"}}
{"Timestamp":"2024-11-10T21:41:23.1452805+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f7b0dcd15e65e4d753b33af86edd4f46","SpanId":"966018089a9b10c3","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUJK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJK"}}
{"Timestamp":"2024-11-10T21:41:23.1484101+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f7b0dcd15e65e4d753b33af86edd4f46","SpanId":"966018089a9b10c3","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUJK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJK"}}
{"Timestamp":"2024-11-10T21:41:23.1494504+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f7b0dcd15e65e4d753b33af86edd4f46","SpanId":"966018089a9b10c3","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":11.4369,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUJK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJK"}}
{"Timestamp":"2024-11-10T21:41:23.1504868+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f7b0dcd15e65e4d753b33af86edd4f46","SpanId":"966018089a9b10c3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJK"}}
{"Timestamp":"2024-11-10T21:41:23.1513013+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f7b0dcd15e65e4d753b33af86edd4f46","SpanId":"966018089a9b10c3","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":16.8275,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.8275"}]}}
{"Timestamp":"2024-11-10T21:41:23.1527174+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f7b0dcd15e65e4d753b33af86edd4f46","SpanId":"966018089a9b10c3","Properties":{"ElapsedMilliseconds":21.1685,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJK"}}
{"Timestamp":"2024-11-10T21:41:23.4770697+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"87dfba9cc091f9e3954df85227b2122e","SpanId":"ca5d76c0cc04bf96","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJL"}}
{"Timestamp":"2024-11-10T21:41:23.4812499+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"87dfba9cc091f9e3954df85227b2122e","SpanId":"ca5d76c0cc04bf96","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJL"}}
{"Timestamp":"2024-11-10T21:41:23.4823103+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1f1b1729540fd98102f65a15a955dace","SpanId":"50c5e96d53dea255","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJM"}}
{"Timestamp":"2024-11-10T21:41:23.4829780+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"87dfba9cc091f9e3954df85227b2122e","SpanId":"ca5d76c0cc04bf96","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJL"}}
{"Timestamp":"2024-11-10T21:41:23.4861011+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1f1b1729540fd98102f65a15a955dace","SpanId":"50c5e96d53dea255","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJM"}}
{"Timestamp":"2024-11-10T21:41:23.4885479+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1f1b1729540fd98102f65a15a955dace","SpanId":"50c5e96d53dea255","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJM"}}
{"Timestamp":"2024-11-10T21:41:23.5098855+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1f1b1729540fd98102f65a15a955dace","SpanId":"50c5e96d53dea255","Properties":{"elapsed":"18","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJM"}}
{"Timestamp":"2024-11-10T21:41:23.5099601+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"87dfba9cc091f9e3954df85227b2122e","SpanId":"ca5d76c0cc04bf96","Properties":{"elapsed":"20","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJL"}}
{"Timestamp":"2024-11-10T21:41:23.5196607+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1f1b1729540fd98102f65a15a955dace","SpanId":"50c5e96d53dea255","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJM"}}
{"Timestamp":"2024-11-10T21:41:23.5204968+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"87dfba9cc091f9e3954df85227b2122e","SpanId":"ca5d76c0cc04bf96","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJL"}}
{"Timestamp":"2024-11-10T21:41:23.5221648+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1f1b1729540fd98102f65a15a955dace","SpanId":"50c5e96d53dea255","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJM"}}
{"Timestamp":"2024-11-10T21:41:23.5243476+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"87dfba9cc091f9e3954df85227b2122e","SpanId":"ca5d76c0cc04bf96","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJL"}}
{"Timestamp":"2024-11-10T21:41:23.5254887+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1f1b1729540fd98102f65a15a955dace","SpanId":"50c5e96d53dea255","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":35.5961,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUJM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJM"}}
{"Timestamp":"2024-11-10T21:41:23.5267681+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"87dfba9cc091f9e3954df85227b2122e","SpanId":"ca5d76c0cc04bf96","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":38.9994,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJL"}}
{"Timestamp":"2024-11-10T21:41:23.5276623+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1f1b1729540fd98102f65a15a955dace","SpanId":"50c5e96d53dea255","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJM"}}
{"Timestamp":"2024-11-10T21:41:23.5295591+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"87dfba9cc091f9e3954df85227b2122e","SpanId":"ca5d76c0cc04bf96","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJL"}}
{"Timestamp":"2024-11-10T21:41:23.5305749+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1f1b1729540fd98102f65a15a955dace","SpanId":"50c5e96d53dea255","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":44.6328,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"44.6328"}]}}
{"Timestamp":"2024-11-10T21:41:23.5319108+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"87dfba9cc091f9e3954df85227b2122e","SpanId":"ca5d76c0cc04bf96","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":50.8695,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"50.8695"}]}}
{"Timestamp":"2024-11-10T21:41:23.5335986+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1f1b1729540fd98102f65a15a955dace","SpanId":"50c5e96d53dea255","Properties":{"ElapsedMilliseconds":51.3416,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJM"}}
{"Timestamp":"2024-11-10T21:41:23.5355789+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c4d8edcba489943caa2b7bad95715b23","SpanId":"3f7e40493be23673","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUJN"}}
{"Timestamp":"2024-11-10T21:41:23.5355790+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"87dfba9cc091f9e3954df85227b2122e","SpanId":"ca5d76c0cc04bf96","Properties":{"ElapsedMilliseconds":58.5909,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJL"}}
{"Timestamp":"2024-11-10T21:41:23.5376289+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7a8e635dfc9260a6d6767bf63d29a863","SpanId":"5e24df35a7c4ef48","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJO"}}
{"Timestamp":"2024-11-10T21:41:23.5393351+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c4d8edcba489943caa2b7bad95715b23","SpanId":"3f7e40493be23673","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUJN"}}
{"Timestamp":"2024-11-10T21:41:23.5420353+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7a8e635dfc9260a6d6767bf63d29a863","SpanId":"5e24df35a7c4ef48","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJO"}}
{"Timestamp":"2024-11-10T21:41:23.5428090+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c4d8edcba489943caa2b7bad95715b23","SpanId":"3f7e40493be23673","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUJN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUJN"}}
{"Timestamp":"2024-11-10T21:41:23.5439786+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7a8e635dfc9260a6d6767bf63d29a863","SpanId":"5e24df35a7c4ef48","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUJO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJO"}}
{"Timestamp":"2024-11-10T21:41:23.5516300+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c4d8edcba489943caa2b7bad95715b23","SpanId":"3f7e40493be23673","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUJN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUJN"}}
{"Timestamp":"2024-11-10T21:41:23.5516300+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7a8e635dfc9260a6d6767bf63d29a863","SpanId":"5e24df35a7c4ef48","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUJO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJO"}}
{"Timestamp":"2024-11-10T21:41:23.5532798+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c4d8edcba489943caa2b7bad95715b23","SpanId":"3f7e40493be23673","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUJN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUJN"}}
{"Timestamp":"2024-11-10T21:41:23.5547227+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7a8e635dfc9260a6d6767bf63d29a863","SpanId":"5e24df35a7c4ef48","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUJO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJO"}}
{"Timestamp":"2024-11-10T21:41:23.5562202+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c4d8edcba489943caa2b7bad95715b23","SpanId":"3f7e40493be23673","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":10.9822,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUJN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUJN"}}
{"Timestamp":"2024-11-10T21:41:23.5575510+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7a8e635dfc9260a6d6767bf63d29a863","SpanId":"5e24df35a7c4ef48","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":10.4823,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUJO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJO"}}
{"Timestamp":"2024-11-10T21:41:23.5586604+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c4d8edcba489943caa2b7bad95715b23","SpanId":"3f7e40493be23673","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUJN"}}
{"Timestamp":"2024-11-10T21:41:23.5595446+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7a8e635dfc9260a6d6767bf63d29a863","SpanId":"5e24df35a7c4ef48","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJO"}}
{"Timestamp":"2024-11-10T21:41:23.5605553+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c4d8edcba489943caa2b7bad95715b23","SpanId":"3f7e40493be23673","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":21.4787,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.4787"}]}}
{"Timestamp":"2024-11-10T21:41:23.5612595+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7a8e635dfc9260a6d6767bf63d29a863","SpanId":"5e24df35a7c4ef48","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":19.4088,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.4088"}]}}
{"Timestamp":"2024-11-10T21:41:23.5626949+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c4d8edcba489943caa2b7bad95715b23","SpanId":"3f7e40493be23673","Properties":{"ElapsedMilliseconds":27.1225,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUJN"}}
{"Timestamp":"2024-11-10T21:41:23.5638246+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7a8e635dfc9260a6d6767bf63d29a863","SpanId":"5e24df35a7c4ef48","Properties":{"ElapsedMilliseconds":26.2744,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJO"}}
{"Timestamp":"2024-11-10T21:41:26.9983251+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5a5750d439814b42c35105751fce1dcd","SpanId":"98e0d4df73b051f3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJP"}}
{"Timestamp":"2024-11-10T21:41:27.0028213+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5a5750d439814b42c35105751fce1dcd","SpanId":"98e0d4df73b051f3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJP"}}
{"Timestamp":"2024-11-10T21:41:27.0043466+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5a5750d439814b42c35105751fce1dcd","SpanId":"98e0d4df73b051f3","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJP"}}
{"Timestamp":"2024-11-10T21:41:27.0153302+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5a5750d439814b42c35105751fce1dcd","SpanId":"98e0d4df73b051f3","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJP"}}
{"Timestamp":"2024-11-10T21:41:27.0215645+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5a5750d439814b42c35105751fce1dcd","SpanId":"98e0d4df73b051f3","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJP"}}
{"Timestamp":"2024-11-10T21:41:27.0231630+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5a5750d439814b42c35105751fce1dcd","SpanId":"98e0d4df73b051f3","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJP"}}
{"Timestamp":"2024-11-10T21:41:27.0239435+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5a5750d439814b42c35105751fce1dcd","SpanId":"98e0d4df73b051f3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.9039,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUJP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJP"}}
{"Timestamp":"2024-11-10T21:41:27.0249007+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5a5750d439814b42c35105751fce1dcd","SpanId":"98e0d4df73b051f3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJP"}}
{"Timestamp":"2024-11-10T21:41:27.0262572+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5a5750d439814b42c35105751fce1dcd","SpanId":"98e0d4df73b051f3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":24.3667,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.3667"}]}}
{"Timestamp":"2024-11-10T21:41:27.0280346+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5a5750d439814b42c35105751fce1dcd","SpanId":"98e0d4df73b051f3","Properties":{"ElapsedMilliseconds":29.8111,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJP"}}
{"Timestamp":"2024-11-10T21:41:27.0312037+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ce1fdbbae3f7528dc128b495982c5ed1","SpanId":"9d5a13820b7ecc55","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJQ"}}
{"Timestamp":"2024-11-10T21:41:27.0338360+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ce1fdbbae3f7528dc128b495982c5ed1","SpanId":"9d5a13820b7ecc55","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJQ"}}
{"Timestamp":"2024-11-10T21:41:27.0345653+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ce1fdbbae3f7528dc128b495982c5ed1","SpanId":"9d5a13820b7ecc55","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUJQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJQ"}}
{"Timestamp":"2024-11-10T21:41:27.0396601+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ce1fdbbae3f7528dc128b495982c5ed1","SpanId":"9d5a13820b7ecc55","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUJQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJQ"}}
{"Timestamp":"2024-11-10T21:41:27.0414985+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ce1fdbbae3f7528dc128b495982c5ed1","SpanId":"9d5a13820b7ecc55","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUJQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJQ"}}
{"Timestamp":"2024-11-10T21:41:27.0424256+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ce1fdbbae3f7528dc128b495982c5ed1","SpanId":"9d5a13820b7ecc55","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":6.5109,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUJQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJQ"}}
{"Timestamp":"2024-11-10T21:41:27.0433902+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ce1fdbbae3f7528dc128b495982c5ed1","SpanId":"9d5a13820b7ecc55","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJQ"}}
{"Timestamp":"2024-11-10T21:41:27.0441084+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ce1fdbbae3f7528dc128b495982c5ed1","SpanId":"9d5a13820b7ecc55","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":10.5487,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"10.5487"}]}}
{"Timestamp":"2024-11-10T21:41:27.0468923+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ce1fdbbae3f7528dc128b495982c5ed1","SpanId":"9d5a13820b7ecc55","Properties":{"ElapsedMilliseconds":15.7095,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJQ"}}
{"Timestamp":"2024-11-10T21:41:27.1805687+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9d3b8a35062caab037af30c4690f1525","SpanId":"4e05fd1df4d26ffe","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJR"}}
{"Timestamp":"2024-11-10T21:41:27.1850429+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9d3b8a35062caab037af30c4690f1525","SpanId":"4e05fd1df4d26ffe","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJR"}}
{"Timestamp":"2024-11-10T21:41:27.1861883+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9d3b8a35062caab037af30c4690f1525","SpanId":"4e05fd1df4d26ffe","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJR"}}
{"Timestamp":"2024-11-10T21:41:27.1877228+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3d3cb7dc2f44c24b5a2e1b14454714a1","SpanId":"a200ad8290a82626","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJS"}}
{"Timestamp":"2024-11-10T21:41:27.1911546+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3d3cb7dc2f44c24b5a2e1b14454714a1","SpanId":"a200ad8290a82626","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJS"}}
{"Timestamp":"2024-11-10T21:41:27.1923992+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3d3cb7dc2f44c24b5a2e1b14454714a1","SpanId":"a200ad8290a82626","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJS"}}
{"Timestamp":"2024-11-10T21:41:27.1995537+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9d3b8a35062caab037af30c4690f1525","SpanId":"4e05fd1df4d26ffe","Properties":{"elapsed":"9","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJR"}}
{"Timestamp":"2024-11-10T21:41:27.2104082+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3d3cb7dc2f44c24b5a2e1b14454714a1","SpanId":"a200ad8290a82626","Properties":{"elapsed":"12","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJS"}}
{"Timestamp":"2024-11-10T21:41:27.2266419+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9d3b8a35062caab037af30c4690f1525","SpanId":"4e05fd1df4d26ffe","Properties":{"elapsed":"24","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJR"}}
{"Timestamp":"2024-11-10T21:41:27.2578898+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3d3cb7dc2f44c24b5a2e1b14454714a1","SpanId":"a200ad8290a82626","Properties":{"elapsed":"14","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJS"}}
{"Timestamp":"2024-11-10T21:41:27.2583817+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9d3b8a35062caab037af30c4690f1525","SpanId":"4e05fd1df4d26ffe","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJR"}}
{"Timestamp":"2024-11-10T21:41:27.2602519+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3d3cb7dc2f44c24b5a2e1b14454714a1","SpanId":"a200ad8290a82626","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJS"}}
{"Timestamp":"2024-11-10T21:41:27.2610694+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9d3b8a35062caab037af30c4690f1525","SpanId":"4e05fd1df4d26ffe","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":72.4936,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJR"}}
{"Timestamp":"2024-11-10T21:41:27.2623166+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3d3cb7dc2f44c24b5a2e1b14454714a1","SpanId":"a200ad8290a82626","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":68.6316,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUJS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJS"}}
{"Timestamp":"2024-11-10T21:41:27.2631170+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9d3b8a35062caab037af30c4690f1525","SpanId":"4e05fd1df4d26ffe","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJR"}}
{"Timestamp":"2024-11-10T21:41:27.2643580+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3d3cb7dc2f44c24b5a2e1b14454714a1","SpanId":"a200ad8290a82626","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJS"}}
{"Timestamp":"2024-11-10T21:41:27.2660936+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9d3b8a35062caab037af30c4690f1525","SpanId":"4e05fd1df4d26ffe","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":81.3185,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"81.3185"}]}}
{"Timestamp":"2024-11-10T21:41:27.2673956+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3d3cb7dc2f44c24b5a2e1b14454714a1","SpanId":"a200ad8290a82626","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":76.4369,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"76.4369"}]}}
{"Timestamp":"2024-11-10T21:41:27.2692427+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9d3b8a35062caab037af30c4690f1525","SpanId":"4e05fd1df4d26ffe","Properties":{"ElapsedMilliseconds":88.7181,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJR"}}
{"Timestamp":"2024-11-10T21:41:27.2710140+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3d3cb7dc2f44c24b5a2e1b14454714a1","SpanId":"a200ad8290a82626","Properties":{"ElapsedMilliseconds":83.1448,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJS"}}
{"Timestamp":"2024-11-10T21:41:27.2782362+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8c19ae1903a63243991cf0b8e4a5751b","SpanId":"d621a075d5acde13","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJT:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJT"}}
{"Timestamp":"2024-11-10T21:41:27.2785357+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2f64948e622f4511aadf4b791c6bc766","SpanId":"ae7816a826ef049c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUJU"}}
{"Timestamp":"2024-11-10T21:41:27.2822459+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8c19ae1903a63243991cf0b8e4a5751b","SpanId":"d621a075d5acde13","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJT:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJT"}}
{"Timestamp":"2024-11-10T21:41:27.2860438+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2f64948e622f4511aadf4b791c6bc766","SpanId":"ae7816a826ef049c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUJU"}}
{"Timestamp":"2024-11-10T21:41:27.2872949+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8c19ae1903a63243991cf0b8e4a5751b","SpanId":"d621a075d5acde13","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUJT:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJT"}}
{"Timestamp":"2024-11-10T21:41:27.2880815+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2f64948e622f4511aadf4b791c6bc766","SpanId":"ae7816a826ef049c","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUJU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUJU"}}
{"Timestamp":"2024-11-10T21:41:27.2962402+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8c19ae1903a63243991cf0b8e4a5751b","SpanId":"d621a075d5acde13","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUJT:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJT"}}
{"Timestamp":"2024-11-10T21:41:27.2977467+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2f64948e622f4511aadf4b791c6bc766","SpanId":"ae7816a826ef049c","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUJU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUJU"}}
{"Timestamp":"2024-11-10T21:41:27.2982211+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8c19ae1903a63243991cf0b8e4a5751b","SpanId":"d621a075d5acde13","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUJT:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJT"}}
{"Timestamp":"2024-11-10T21:41:27.2999903+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2f64948e622f4511aadf4b791c6bc766","SpanId":"ae7816a826ef049c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUJU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUJU"}}
{"Timestamp":"2024-11-10T21:41:27.3018053+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8c19ae1903a63243991cf0b8e4a5751b","SpanId":"d621a075d5acde13","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":12.4323,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUJT:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJT"}}
{"Timestamp":"2024-11-10T21:41:27.3032482+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2f64948e622f4511aadf4b791c6bc766","SpanId":"ae7816a826ef049c","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":12.1278,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUJU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUJU"}}
{"Timestamp":"2024-11-10T21:41:27.3040490+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8c19ae1903a63243991cf0b8e4a5751b","SpanId":"d621a075d5acde13","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJT:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJT"}}
{"Timestamp":"2024-11-10T21:41:27.3049582+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2f64948e622f4511aadf4b791c6bc766","SpanId":"ae7816a826ef049c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUJU"}}
{"Timestamp":"2024-11-10T21:41:27.3059171+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8c19ae1903a63243991cf0b8e4a5751b","SpanId":"d621a075d5acde13","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":24.2103,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.2103"}]}}
{"Timestamp":"2024-11-10T21:41:27.3065910+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2f64948e622f4511aadf4b791c6bc766","SpanId":"ae7816a826ef049c","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":22.4856,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.4856"}]}}
{"Timestamp":"2024-11-10T21:41:27.3080825+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8c19ae1903a63243991cf0b8e4a5751b","SpanId":"d621a075d5acde13","Properties":{"ElapsedMilliseconds":30.1188,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJT:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUJT"}}
{"Timestamp":"2024-11-10T21:41:27.3094888+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2f64948e622f4511aadf4b791c6bc766","SpanId":"ae7816a826ef049c","Properties":{"ElapsedMilliseconds":30.9574,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUJU"}}
{"Timestamp":"2024-11-10T21:41:30.5025750+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7468bd663be6a005c68338f17c46caa8","SpanId":"eb2c171e20aef7fe","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJV"}}
{"Timestamp":"2024-11-10T21:41:30.5044815+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7468bd663be6a005c68338f17c46caa8","SpanId":"eb2c171e20aef7fe","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJV"}}
{"Timestamp":"2024-11-10T21:41:30.5055135+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7468bd663be6a005c68338f17c46caa8","SpanId":"eb2c171e20aef7fe","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJV"}}
{"Timestamp":"2024-11-10T21:41:30.5141199+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7468bd663be6a005c68338f17c46caa8","SpanId":"eb2c171e20aef7fe","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJV"}}
{"Timestamp":"2024-11-10T21:41:30.5192742+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7468bd663be6a005c68338f17c46caa8","SpanId":"eb2c171e20aef7fe","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJV"}}
{"Timestamp":"2024-11-10T21:41:30.5215829+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7468bd663be6a005c68338f17c46caa8","SpanId":"eb2c171e20aef7fe","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJV"}}
{"Timestamp":"2024-11-10T21:41:30.5227294+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7468bd663be6a005c68338f17c46caa8","SpanId":"eb2c171e20aef7fe","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":14.82,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJV"}}
{"Timestamp":"2024-11-10T21:41:30.5239396+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7468bd663be6a005c68338f17c46caa8","SpanId":"eb2c171e20aef7fe","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJV"}}
{"Timestamp":"2024-11-10T21:41:30.5248793+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7468bd663be6a005c68338f17c46caa8","SpanId":"eb2c171e20aef7fe","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":20.5816,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.5816"}]}}
{"Timestamp":"2024-11-10T21:41:30.5266492+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7468bd663be6a005c68338f17c46caa8","SpanId":"eb2c171e20aef7fe","Properties":{"ElapsedMilliseconds":24.0892,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUJV"}}
{"Timestamp":"2024-11-10T21:41:30.5292378+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2cc1ea55786f7d2785ba70106563aaeb","SpanId":"4c41d6799e868bea","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUK0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUK0"}}
{"Timestamp":"2024-11-10T21:41:30.5333469+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2cc1ea55786f7d2785ba70106563aaeb","SpanId":"4c41d6799e868bea","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUK0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUK0"}}
{"Timestamp":"2024-11-10T21:41:30.5343078+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2cc1ea55786f7d2785ba70106563aaeb","SpanId":"4c41d6799e868bea","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUK0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUK0"}}
{"Timestamp":"2024-11-10T21:41:30.5404996+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2cc1ea55786f7d2785ba70106563aaeb","SpanId":"4c41d6799e868bea","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUK0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUK0"}}
{"Timestamp":"2024-11-10T21:41:30.5434152+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2cc1ea55786f7d2785ba70106563aaeb","SpanId":"4c41d6799e868bea","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUK0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUK0"}}
{"Timestamp":"2024-11-10T21:41:30.5459356+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2cc1ea55786f7d2785ba70106563aaeb","SpanId":"4c41d6799e868bea","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":10.2317,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUK0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUK0"}}
{"Timestamp":"2024-11-10T21:41:30.5477936+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2cc1ea55786f7d2785ba70106563aaeb","SpanId":"4c41d6799e868bea","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUK0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUK0"}}
{"Timestamp":"2024-11-10T21:41:30.5498419+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2cc1ea55786f7d2785ba70106563aaeb","SpanId":"4c41d6799e868bea","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":16.8753,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.8753"}]}}
{"Timestamp":"2024-11-10T21:41:30.5526596+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2cc1ea55786f7d2785ba70106563aaeb","SpanId":"4c41d6799e868bea","Properties":{"ElapsedMilliseconds":23.4467,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUK0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUK0"}}
{"Timestamp":"2024-11-10T21:41:30.6765157+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cc53df14a3979a438b533dd4892568c6","SpanId":"3597b70528335017","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK1"}}
{"Timestamp":"2024-11-10T21:41:30.6800155+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cc53df14a3979a438b533dd4892568c6","SpanId":"3597b70528335017","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK1"}}
{"Timestamp":"2024-11-10T21:41:30.6819550+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cc53df14a3979a438b533dd4892568c6","SpanId":"3597b70528335017","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK1"}}
{"Timestamp":"2024-11-10T21:41:30.6828993+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d53083121df8f6d893e9e2642c425aef","SpanId":"273bd6857f9c6fa0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUK2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK2"}}
{"Timestamp":"2024-11-10T21:41:30.6864875+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc53df14a3979a438b533dd4892568c6","SpanId":"3597b70528335017","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK1"}}
{"Timestamp":"2024-11-10T21:41:30.6867037+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d53083121df8f6d893e9e2642c425aef","SpanId":"273bd6857f9c6fa0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUK2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK2"}}
{"Timestamp":"2024-11-10T21:41:30.6886231+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d53083121df8f6d893e9e2642c425aef","SpanId":"273bd6857f9c6fa0","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUK2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK2"}}
{"Timestamp":"2024-11-10T21:41:30.6895422+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc53df14a3979a438b533dd4892568c6","SpanId":"3597b70528335017","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK1"}}
{"Timestamp":"2024-11-10T21:41:30.6920695+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cc53df14a3979a438b533dd4892568c6","SpanId":"3597b70528335017","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK1"}}
{"Timestamp":"2024-11-10T21:41:30.6924869+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d53083121df8f6d893e9e2642c425aef","SpanId":"273bd6857f9c6fa0","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUK2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK2"}}
{"Timestamp":"2024-11-10T21:41:30.6930438+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cc53df14a3979a438b533dd4892568c6","SpanId":"3597b70528335017","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":8.6615,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK1"}}
{"Timestamp":"2024-11-10T21:41:30.6972411+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cc53df14a3979a438b533dd4892568c6","SpanId":"3597b70528335017","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK1"}}
{"Timestamp":"2024-11-10T21:41:30.6997571+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d53083121df8f6d893e9e2642c425aef","SpanId":"273bd6857f9c6fa0","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUK2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK2"}}
{"Timestamp":"2024-11-10T21:41:30.7001845+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cc53df14a3979a438b533dd4892568c6","SpanId":"3597b70528335017","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":20.3144,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.3144"}]}}
{"Timestamp":"2024-11-10T21:41:30.7055290+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d53083121df8f6d893e9e2642c425aef","SpanId":"273bd6857f9c6fa0","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUK2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK2"}}
{"Timestamp":"2024-11-10T21:41:30.7074623+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cc53df14a3979a438b533dd4892568c6","SpanId":"3597b70528335017","Properties":{"ElapsedMilliseconds":30.9471,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK1"}}
{"Timestamp":"2024-11-10T21:41:30.7094091+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d53083121df8f6d893e9e2642c425aef","SpanId":"273bd6857f9c6fa0","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":18.8592,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUK2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK2"}}
{"Timestamp":"2024-11-10T21:41:30.7142647+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"48c1be2484137ba96c21def7df041d7b","SpanId":"74e76f12a6096fa3","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUK3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUK3"}}
{"Timestamp":"2024-11-10T21:41:30.7152156+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d53083121df8f6d893e9e2642c425aef","SpanId":"273bd6857f9c6fa0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUK2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK2"}}
{"Timestamp":"2024-11-10T21:41:30.7180444+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"48c1be2484137ba96c21def7df041d7b","SpanId":"74e76f12a6096fa3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUK3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUK3"}}
{"Timestamp":"2024-11-10T21:41:30.7182212+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d53083121df8f6d893e9e2642c425aef","SpanId":"273bd6857f9c6fa0","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":31.6603,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"31.6603"}]}}
{"Timestamp":"2024-11-10T21:41:30.7193434+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"48c1be2484137ba96c21def7df041d7b","SpanId":"74e76f12a6096fa3","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUK3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUK3"}}
{"Timestamp":"2024-11-10T21:41:30.7210677+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d53083121df8f6d893e9e2642c425aef","SpanId":"273bd6857f9c6fa0","Properties":{"ElapsedMilliseconds":38.3757,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUK2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK2"}}
{"Timestamp":"2024-11-10T21:41:30.7252018+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0bca6917e774235d461460bcc6e0d9f1","SpanId":"1a24f0d7909bcc18","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUK4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUK4"}}
{"Timestamp":"2024-11-10T21:41:30.7255187+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"48c1be2484137ba96c21def7df041d7b","SpanId":"74e76f12a6096fa3","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUK3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUK3"}}
{"Timestamp":"2024-11-10T21:41:30.7297409+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0bca6917e774235d461460bcc6e0d9f1","SpanId":"1a24f0d7909bcc18","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUK4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUK4"}}
{"Timestamp":"2024-11-10T21:41:30.7318775+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"48c1be2484137ba96c21def7df041d7b","SpanId":"74e76f12a6096fa3","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUK3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUK3"}}
{"Timestamp":"2024-11-10T21:41:30.7331033+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0bca6917e774235d461460bcc6e0d9f1","SpanId":"1a24f0d7909bcc18","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUK4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUK4"}}
{"Timestamp":"2024-11-10T21:41:30.7346171+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"48c1be2484137ba96c21def7df041d7b","SpanId":"74e76f12a6096fa3","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":12.2502,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUK3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUK3"}}
{"Timestamp":"2024-11-10T21:41:30.7365312+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"48c1be2484137ba96c21def7df041d7b","SpanId":"74e76f12a6096fa3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUK3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUK3"}}
{"Timestamp":"2024-11-10T21:41:30.7372682+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"48c1be2484137ba96c21def7df041d7b","SpanId":"74e76f12a6096fa3","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":19.6163,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.6163"}]}}
{"Timestamp":"2024-11-10T21:41:30.7384925+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"48c1be2484137ba96c21def7df041d7b","SpanId":"74e76f12a6096fa3","Properties":{"ElapsedMilliseconds":24.5765,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUK3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUK3"}}
{"Timestamp":"2024-11-10T21:41:30.7412190+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0bca6917e774235d461460bcc6e0d9f1","SpanId":"1a24f0d7909bcc18","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUK4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUK4"}}
{"Timestamp":"2024-11-10T21:41:30.7436868+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0bca6917e774235d461460bcc6e0d9f1","SpanId":"1a24f0d7909bcc18","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUK4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUK4"}}
{"Timestamp":"2024-11-10T21:41:30.7449920+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0bca6917e774235d461460bcc6e0d9f1","SpanId":"1a24f0d7909bcc18","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":9.3438,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUK4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUK4"}}
{"Timestamp":"2024-11-10T21:41:30.7466654+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0bca6917e774235d461460bcc6e0d9f1","SpanId":"1a24f0d7909bcc18","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUK4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUK4"}}
{"Timestamp":"2024-11-10T21:41:30.7473591+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0bca6917e774235d461460bcc6e0d9f1","SpanId":"1a24f0d7909bcc18","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":18.2172,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.2172"}]}}
{"Timestamp":"2024-11-10T21:41:30.7489806+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0bca6917e774235d461460bcc6e0d9f1","SpanId":"1a24f0d7909bcc18","Properties":{"ElapsedMilliseconds":23.8173,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUK4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUK4"}}
{"Timestamp":"2024-11-10T21:41:32.8123251+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3b64a13ead8f79839fb5fb1bfae9e840","SpanId":"df60b2260a505266","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK5"}}
{"Timestamp":"2024-11-10T21:41:32.8150407+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3b64a13ead8f79839fb5fb1bfae9e840","SpanId":"df60b2260a505266","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK5"}}
{"Timestamp":"2024-11-10T21:41:32.8164819+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3b64a13ead8f79839fb5fb1bfae9e840","SpanId":"df60b2260a505266","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK5"}}
{"Timestamp":"2024-11-10T21:41:32.8218255+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3b64a13ead8f79839fb5fb1bfae9e840","SpanId":"df60b2260a505266","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK5"}}
{"Timestamp":"2024-11-10T21:41:32.8275907+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3b64a13ead8f79839fb5fb1bfae9e840","SpanId":"df60b2260a505266","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK5"}}
{"Timestamp":"2024-11-10T21:41:32.8299059+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3b64a13ead8f79839fb5fb1bfae9e840","SpanId":"df60b2260a505266","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK5"}}
{"Timestamp":"2024-11-10T21:41:32.8315775+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3b64a13ead8f79839fb5fb1bfae9e840","SpanId":"df60b2260a505266","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":14.0376,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK5"}}
{"Timestamp":"2024-11-10T21:41:32.8336597+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3b64a13ead8f79839fb5fb1bfae9e840","SpanId":"df60b2260a505266","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK5"}}
{"Timestamp":"2024-11-10T21:41:32.8345062+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3b64a13ead8f79839fb5fb1bfae9e840","SpanId":"df60b2260a505266","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":19.7843,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.7843"}]}}
{"Timestamp":"2024-11-10T21:41:32.8359718+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3b64a13ead8f79839fb5fb1bfae9e840","SpanId":"df60b2260a505266","Properties":{"ElapsedMilliseconds":23.6742,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK5"}}
{"Timestamp":"2024-11-10T21:41:32.8384729+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cb34bdb04f0271f723a8cda79139aa94","SpanId":"f44d559d4b17cd5a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-28&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUK6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUK6"}}
{"Timestamp":"2024-11-10T21:41:32.8417307+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cb34bdb04f0271f723a8cda79139aa94","SpanId":"f44d559d4b17cd5a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUK6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUK6"}}
{"Timestamp":"2024-11-10T21:41:32.8428578+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cb34bdb04f0271f723a8cda79139aa94","SpanId":"f44d559d4b17cd5a","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUK6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUK6"}}
{"Timestamp":"2024-11-10T21:41:32.8503361+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cb34bdb04f0271f723a8cda79139aa94","SpanId":"f44d559d4b17cd5a","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUK6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUK6"}}
{"Timestamp":"2024-11-10T21:41:32.8528847+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cb34bdb04f0271f723a8cda79139aa94","SpanId":"f44d559d4b17cd5a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUK6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUK6"}}
{"Timestamp":"2024-11-10T21:41:32.8544058+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cb34bdb04f0271f723a8cda79139aa94","SpanId":"f44d559d4b17cd5a","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":9.7178,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUK6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUK6"}}
{"Timestamp":"2024-11-10T21:41:32.8563533+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cb34bdb04f0271f723a8cda79139aa94","SpanId":"f44d559d4b17cd5a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUK6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUK6"}}
{"Timestamp":"2024-11-10T21:41:32.8575538+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cb34bdb04f0271f723a8cda79139aa94","SpanId":"f44d559d4b17cd5a","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":16.1223,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.1223"}]}}
{"Timestamp":"2024-11-10T21:41:32.8600076+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cb34bdb04f0271f723a8cda79139aa94","SpanId":"f44d559d4b17cd5a","Properties":{"ElapsedMilliseconds":21.547,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-28&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUK6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUK6"}}
{"Timestamp":"2024-11-10T21:41:32.9974793+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f56d1eedfee7a3bbdeb9847d059e532b","SpanId":"84ff4f1a381b42f1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUK7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK7"}}
{"Timestamp":"2024-11-10T21:41:33.0009081+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f56d1eedfee7a3bbdeb9847d059e532b","SpanId":"84ff4f1a381b42f1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUK7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK7"}}
{"Timestamp":"2024-11-10T21:41:33.0030147+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f56d1eedfee7a3bbdeb9847d059e532b","SpanId":"84ff4f1a381b42f1","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUK7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK7"}}
{"Timestamp":"2024-11-10T21:41:33.0058997+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e5ef317e389624ca9b6d215bd5ab1b01","SpanId":"e952936167a3f9b4","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUK8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK8"}}
{"Timestamp":"2024-11-10T21:41:33.0080755+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f56d1eedfee7a3bbdeb9847d059e532b","SpanId":"84ff4f1a381b42f1","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUK7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK7"}}
{"Timestamp":"2024-11-10T21:41:33.0088094+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e5ef317e389624ca9b6d215bd5ab1b01","SpanId":"e952936167a3f9b4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUK8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK8"}}
{"Timestamp":"2024-11-10T21:41:33.0112666+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e5ef317e389624ca9b6d215bd5ab1b01","SpanId":"e952936167a3f9b4","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUK8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK8"}}
{"Timestamp":"2024-11-10T21:41:33.0126950+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f56d1eedfee7a3bbdeb9847d059e532b","SpanId":"84ff4f1a381b42f1","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUK7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK7"}}
{"Timestamp":"2024-11-10T21:41:33.0157761+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f56d1eedfee7a3bbdeb9847d059e532b","SpanId":"84ff4f1a381b42f1","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUK7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK7"}}
{"Timestamp":"2024-11-10T21:41:33.0163978+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e5ef317e389624ca9b6d215bd5ab1b01","SpanId":"e952936167a3f9b4","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUK8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK8"}}
{"Timestamp":"2024-11-10T21:41:33.0170029+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f56d1eedfee7a3bbdeb9847d059e532b","SpanId":"84ff4f1a381b42f1","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":11.4807,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUK7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK7"}}
{"Timestamp":"2024-11-10T21:41:33.0192141+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f56d1eedfee7a3bbdeb9847d059e532b","SpanId":"84ff4f1a381b42f1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUK7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK7"}}
{"Timestamp":"2024-11-10T21:41:33.0198687+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e5ef317e389624ca9b6d215bd5ab1b01","SpanId":"e952936167a3f9b4","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUK8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK8"}}
{"Timestamp":"2024-11-10T21:41:33.0215459+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f56d1eedfee7a3bbdeb9847d059e532b","SpanId":"84ff4f1a381b42f1","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":20.779,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.7790"}]}}
{"Timestamp":"2024-11-10T21:41:33.0251724+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e5ef317e389624ca9b6d215bd5ab1b01","SpanId":"e952936167a3f9b4","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUK8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK8"}}
{"Timestamp":"2024-11-10T21:41:33.0269547+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f56d1eedfee7a3bbdeb9847d059e532b","SpanId":"84ff4f1a381b42f1","Properties":{"ElapsedMilliseconds":29.5267,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUK7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK7"}}
{"Timestamp":"2024-11-10T21:41:33.0287183+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e5ef317e389624ca9b6d215bd5ab1b01","SpanId":"e952936167a3f9b4","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":14.7069,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUK8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK8"}}
{"Timestamp":"2024-11-10T21:41:33.0340616+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e5ef317e389624ca9b6d215bd5ab1b01","SpanId":"e952936167a3f9b4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUK8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK8"}}
{"Timestamp":"2024-11-10T21:41:33.0348771+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0620367d9c6af9d8f3a4d43eba45af8e","SpanId":"3ad3f6a399dc0cbd","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-28&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUK9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUK9"}}
{"Timestamp":"2024-11-10T21:41:33.0353150+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e5ef317e389624ca9b6d215bd5ab1b01","SpanId":"e952936167a3f9b4","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":26.6107,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.6107"}]}}
{"Timestamp":"2024-11-10T21:41:33.0373420+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0620367d9c6af9d8f3a4d43eba45af8e","SpanId":"3ad3f6a399dc0cbd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUK9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUK9"}}
{"Timestamp":"2024-11-10T21:41:33.0381248+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e5ef317e389624ca9b6d215bd5ab1b01","SpanId":"e952936167a3f9b4","Properties":{"ElapsedMilliseconds":32.4056,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUK8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUK8"}}
{"Timestamp":"2024-11-10T21:41:33.0386601+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0620367d9c6af9d8f3a4d43eba45af8e","SpanId":"3ad3f6a399dc0cbd","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUK9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUK9"}}
{"Timestamp":"2024-11-10T21:41:33.0416560+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d90eef5ee25beda3915f0b740abca67c","SpanId":"1ac7175516f0b8bd","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-28&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKA:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKA"}}
{"Timestamp":"2024-11-10T21:41:33.0449764+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0620367d9c6af9d8f3a4d43eba45af8e","SpanId":"3ad3f6a399dc0cbd","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUK9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUK9"}}
{"Timestamp":"2024-11-10T21:41:33.0459118+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d90eef5ee25beda3915f0b740abca67c","SpanId":"1ac7175516f0b8bd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKA:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKA"}}
{"Timestamp":"2024-11-10T21:41:33.0482563+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0620367d9c6af9d8f3a4d43eba45af8e","SpanId":"3ad3f6a399dc0cbd","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUK9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUK9"}}
{"Timestamp":"2024-11-10T21:41:33.0490538+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d90eef5ee25beda3915f0b740abca67c","SpanId":"1ac7175516f0b8bd","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUKA:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKA"}}
{"Timestamp":"2024-11-10T21:41:33.0505466+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0620367d9c6af9d8f3a4d43eba45af8e","SpanId":"3ad3f6a399dc0cbd","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":7.3169,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUK9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUK9"}}
{"Timestamp":"2024-11-10T21:41:33.0530532+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0620367d9c6af9d8f3a4d43eba45af8e","SpanId":"3ad3f6a399dc0cbd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUK9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUK9"}}
{"Timestamp":"2024-11-10T21:41:33.0542603+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0620367d9c6af9d8f3a4d43eba45af8e","SpanId":"3ad3f6a399dc0cbd","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":17.204,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.2040"}]}}
{"Timestamp":"2024-11-10T21:41:33.0564303+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0620367d9c6af9d8f3a4d43eba45af8e","SpanId":"3ad3f6a399dc0cbd","Properties":{"ElapsedMilliseconds":21.6024,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-28&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUK9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUK9"}}
{"Timestamp":"2024-11-10T21:41:33.0575715+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d90eef5ee25beda3915f0b740abca67c","SpanId":"1ac7175516f0b8bd","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUKA:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKA"}}
{"Timestamp":"2024-11-10T21:41:33.0618374+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d90eef5ee25beda3915f0b740abca67c","SpanId":"1ac7175516f0b8bd","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUKA:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKA"}}
{"Timestamp":"2024-11-10T21:41:33.0632801+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d90eef5ee25beda3915f0b740abca67c","SpanId":"1ac7175516f0b8bd","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":11.2291,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUKA:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKA"}}
{"Timestamp":"2024-11-10T21:41:33.0646538+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d90eef5ee25beda3915f0b740abca67c","SpanId":"1ac7175516f0b8bd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKA:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKA"}}
{"Timestamp":"2024-11-10T21:41:33.0654522+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d90eef5ee25beda3915f0b740abca67c","SpanId":"1ac7175516f0b8bd","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":20.2403,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.2403"}]}}
{"Timestamp":"2024-11-10T21:41:33.0676564+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d90eef5ee25beda3915f0b740abca67c","SpanId":"1ac7175516f0b8bd","Properties":{"ElapsedMilliseconds":26.1581,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-28&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKA:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKA"}}
{"Timestamp":"2024-11-10T21:42:45.4043549+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"be8b9ba4f53a903eb19ef53f53760736","SpanId":"ee1b4a794363de80","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKB"}}
{"Timestamp":"2024-11-10T21:42:45.4083214+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"be8b9ba4f53a903eb19ef53f53760736","SpanId":"ee1b4a794363de80","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKB"}}
{"Timestamp":"2024-11-10T21:42:45.4092222+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"be8b9ba4f53a903eb19ef53f53760736","SpanId":"ee1b4a794363de80","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKB"}}
{"Timestamp":"2024-11-10T21:42:45.4154886+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"be8b9ba4f53a903eb19ef53f53760736","SpanId":"ee1b4a794363de80","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKB"}}
{"Timestamp":"2024-11-10T21:42:45.4296260+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"be8b9ba4f53a903eb19ef53f53760736","SpanId":"ee1b4a794363de80","Properties":{"elapsed":"7","parameters":"@p7='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [ExpiredAt] = @p0, [IsRevoked] = @p1, [IsUsed] = @p2, [IssuedAt] = @p3, [JwtId] = @p4, [Token] = @p5, [userId] = @p6\r\nOUTPUT 1\r\nWHERE [Id] = @p7;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKB"}}
{"Timestamp":"2024-11-10T21:42:45.4350461+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"be8b9ba4f53a903eb19ef53f53760736","SpanId":"ee1b4a794363de80","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKB"}}
{"Timestamp":"2024-11-10T21:42:45.4370149+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"be8b9ba4f53a903eb19ef53f53760736","SpanId":"ee1b4a794363de80","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":26.2605,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUKB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKB"}}
{"Timestamp":"2024-11-10T21:42:45.4379920+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"be8b9ba4f53a903eb19ef53f53760736","SpanId":"ee1b4a794363de80","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKB"}}
{"Timestamp":"2024-11-10T21:42:45.4388324+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"be8b9ba4f53a903eb19ef53f53760736","SpanId":"ee1b4a794363de80","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":31.155,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"31.1550"}]}}
{"Timestamp":"2024-11-10T21:42:45.4404918+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"be8b9ba4f53a903eb19ef53f53760736","SpanId":"ee1b4a794363de80","Properties":{"ElapsedMilliseconds":36.6455,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKB"}}
{"Timestamp":"2024-11-10T21:43:06.5204401+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9663265e3d891fa6ca160c1d8c4bc532","SpanId":"1dec162788aad87d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUKC"}}
{"Timestamp":"2024-11-10T21:43:06.5236456+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9663265e3d891fa6ca160c1d8c4bc532","SpanId":"1dec162788aad87d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUKC"}}
{"Timestamp":"2024-11-10T21:43:06.5249406+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9663265e3d891fa6ca160c1d8c4bc532","SpanId":"1dec162788aad87d","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OUKC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUKC"}}
{"Timestamp":"2024-11-10T21:43:06.5451300+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9663265e3d891fa6ca160c1d8c4bc532","SpanId":"1dec162788aad87d","Properties":{"elapsed":"3","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OUKC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUKC"}}
{"Timestamp":"2024-11-10T21:43:06.5518085+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9663265e3d891fa6ca160c1d8c4bc532","SpanId":"1dec162788aad87d","Properties":{"elapsed":"4","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OUKC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUKC"}}
{"Timestamp":"2024-11-10T21:43:06.5538224+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9663265e3d891fa6ca160c1d8c4bc532","SpanId":"1dec162788aad87d","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OUKC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUKC"}}
{"Timestamp":"2024-11-10T21:43:06.5550029+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9663265e3d891fa6ca160c1d8c4bc532","SpanId":"1dec162788aad87d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":27.9113,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUKC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUKC"}}
{"Timestamp":"2024-11-10T21:43:06.5560749+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9663265e3d891fa6ca160c1d8c4bc532","SpanId":"1dec162788aad87d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUKC"}}
{"Timestamp":"2024-11-10T21:43:06.5568759+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9663265e3d891fa6ca160c1d8c4bc532","SpanId":"1dec162788aad87d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":33.7361,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.7361"}]}}
{"Timestamp":"2024-11-10T21:43:06.5582751+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9663265e3d891fa6ca160c1d8c4bc532","SpanId":"1dec162788aad87d","Properties":{"ElapsedMilliseconds":37.8943,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUKC"}}
{"Timestamp":"2024-11-10T21:43:10.2421562+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"040d3be6f6fc975952e258fb64e26ae5","SpanId":"3b3f278924e09ae5","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKD"}}
{"Timestamp":"2024-11-10T21:43:10.2443144+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"040d3be6f6fc975952e258fb64e26ae5","SpanId":"3b3f278924e09ae5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKD"}}
{"Timestamp":"2024-11-10T21:43:10.2450621+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"040d3be6f6fc975952e258fb64e26ae5","SpanId":"3b3f278924e09ae5","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKD"}}
{"Timestamp":"2024-11-10T21:43:10.2610920+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"040d3be6f6fc975952e258fb64e26ae5","SpanId":"3b3f278924e09ae5","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKD"}}
{"Timestamp":"2024-11-10T21:43:10.2677745+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"040d3be6f6fc975952e258fb64e26ae5","SpanId":"3b3f278924e09ae5","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKD"}}
{"Timestamp":"2024-11-10T21:43:10.2713101+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"040d3be6f6fc975952e258fb64e26ae5","SpanId":"3b3f278924e09ae5","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKD"}}
{"Timestamp":"2024-11-10T21:43:10.2728547+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"040d3be6f6fc975952e258fb64e26ae5","SpanId":"3b3f278924e09ae5","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":25.6212,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUKD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKD"}}
{"Timestamp":"2024-11-10T21:43:10.2739911+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"040d3be6f6fc975952e258fb64e26ae5","SpanId":"3b3f278924e09ae5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKD"}}
{"Timestamp":"2024-11-10T21:43:10.2754023+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"040d3be6f6fc975952e258fb64e26ae5","SpanId":"3b3f278924e09ae5","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":31.1897,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"31.1897"}]}}
{"Timestamp":"2024-11-10T21:43:10.2779392+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"040d3be6f6fc975952e258fb64e26ae5","SpanId":"3b3f278924e09ae5","Properties":{"ElapsedMilliseconds":35.8944,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKD"}}
{"Timestamp":"2024-11-10T21:43:10.3540963+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b4ee3113f248aa588e00bcbe73af11c6","SpanId":"2ab968e1c863e0f1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKE"}}
{"Timestamp":"2024-11-10T21:43:10.3588187+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b4ee3113f248aa588e00bcbe73af11c6","SpanId":"2ab968e1c863e0f1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKE"}}
{"Timestamp":"2024-11-10T21:43:10.3604932+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b4ee3113f248aa588e00bcbe73af11c6","SpanId":"2ab968e1c863e0f1","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKE"}}
{"Timestamp":"2024-11-10T21:43:10.3656412+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b4ee3113f248aa588e00bcbe73af11c6","SpanId":"2ab968e1c863e0f1","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKE"}}
{"Timestamp":"2024-11-10T21:43:10.3703612+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b4ee3113f248aa588e00bcbe73af11c6","SpanId":"2ab968e1c863e0f1","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKE"}}
{"Timestamp":"2024-11-10T21:43:10.3730749+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b4ee3113f248aa588e00bcbe73af11c6","SpanId":"2ab968e1c863e0f1","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKE"}}
{"Timestamp":"2024-11-10T21:43:10.3757692+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b4ee3113f248aa588e00bcbe73af11c6","SpanId":"2ab968e1c863e0f1","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.7777,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUKE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKE"}}
{"Timestamp":"2024-11-10T21:43:10.3773827+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b4ee3113f248aa588e00bcbe73af11c6","SpanId":"2ab968e1c863e0f1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKE"}}
{"Timestamp":"2024-11-10T21:43:10.3791379+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b4ee3113f248aa588e00bcbe73af11c6","SpanId":"2ab968e1c863e0f1","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":20.5151,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.5151"}]}}
{"Timestamp":"2024-11-10T21:43:10.3814993+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b4ee3113f248aa588e00bcbe73af11c6","SpanId":"2ab968e1c863e0f1","Properties":{"ElapsedMilliseconds":27.4809,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKE"}}
{"Timestamp":"2024-11-10T21:43:10.3889467+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0143293d9c863876b2d51feb12c3e212","SpanId":"4937429d2aa4a6a7","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUKF"}}
{"Timestamp":"2024-11-10T21:43:10.3905958+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d57c47decc250223e85a2a179bc2a397","SpanId":"ef8725dbfa40f186","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKG"}}
{"Timestamp":"2024-11-10T21:43:10.3931238+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0143293d9c863876b2d51feb12c3e212","SpanId":"4937429d2aa4a6a7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUKF"}}
{"Timestamp":"2024-11-10T21:43:10.3949861+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d57c47decc250223e85a2a179bc2a397","SpanId":"ef8725dbfa40f186","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKG"}}
{"Timestamp":"2024-11-10T21:43:10.3955262+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0143293d9c863876b2d51feb12c3e212","SpanId":"4937429d2aa4a6a7","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUKF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUKF"}}
{"Timestamp":"2024-11-10T21:43:10.3962817+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d57c47decc250223e85a2a179bc2a397","SpanId":"ef8725dbfa40f186","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUKG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKG"}}
{"Timestamp":"2024-11-10T21:43:10.4061495+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0143293d9c863876b2d51feb12c3e212","SpanId":"4937429d2aa4a6a7","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUKF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUKF"}}
{"Timestamp":"2024-11-10T21:43:10.4074788+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0143293d9c863876b2d51feb12c3e212","SpanId":"4937429d2aa4a6a7","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUKF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUKF"}}
{"Timestamp":"2024-11-10T21:43:10.4082849+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0143293d9c863876b2d51feb12c3e212","SpanId":"4937429d2aa4a6a7","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":9.8976,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUKF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUKF"}}
{"Timestamp":"2024-11-10T21:43:10.4090843+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0143293d9c863876b2d51feb12c3e212","SpanId":"4937429d2aa4a6a7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUKF"}}
{"Timestamp":"2024-11-10T21:43:10.4097268+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0143293d9c863876b2d51feb12c3e212","SpanId":"4937429d2aa4a6a7","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":17.3331,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.3331"}]}}
{"Timestamp":"2024-11-10T21:43:10.4110021+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d57c47decc250223e85a2a179bc2a397","SpanId":"ef8725dbfa40f186","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUKG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKG"}}
{"Timestamp":"2024-11-10T21:43:10.4113564+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0143293d9c863876b2d51feb12c3e212","SpanId":"4937429d2aa4a6a7","Properties":{"ElapsedMilliseconds":22.5586,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUKF"}}
{"Timestamp":"2024-11-10T21:43:10.4130006+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d57c47decc250223e85a2a179bc2a397","SpanId":"ef8725dbfa40f186","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUKG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKG"}}
{"Timestamp":"2024-11-10T21:43:10.4164413+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d57c47decc250223e85a2a179bc2a397","SpanId":"ef8725dbfa40f186","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":16.5903,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUKG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKG"}}
{"Timestamp":"2024-11-10T21:43:10.4178831+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d57c47decc250223e85a2a179bc2a397","SpanId":"ef8725dbfa40f186","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKG"}}
{"Timestamp":"2024-11-10T21:43:10.4189400+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d57c47decc250223e85a2a179bc2a397","SpanId":"ef8725dbfa40f186","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":24.2583,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.2583"}]}}
{"Timestamp":"2024-11-10T21:43:10.4204329+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d57c47decc250223e85a2a179bc2a397","SpanId":"ef8725dbfa40f186","Properties":{"ElapsedMilliseconds":29.834,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKG"}}
{"Timestamp":"2024-11-10T21:43:13.0450943+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9f5320f4e935d2ec4fc70ff2b5a61ce8","SpanId":"ea3e308eed3ed48a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKH"}}
{"Timestamp":"2024-11-10T21:43:13.0473505+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9f5320f4e935d2ec4fc70ff2b5a61ce8","SpanId":"ea3e308eed3ed48a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKH"}}
{"Timestamp":"2024-11-10T21:43:13.0485698+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9f5320f4e935d2ec4fc70ff2b5a61ce8","SpanId":"ea3e308eed3ed48a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKH"}}
{"Timestamp":"2024-11-10T21:43:13.0582581+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9f5320f4e935d2ec4fc70ff2b5a61ce8","SpanId":"ea3e308eed3ed48a","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKH"}}
{"Timestamp":"2024-11-10T21:43:13.0641402+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9f5320f4e935d2ec4fc70ff2b5a61ce8","SpanId":"ea3e308eed3ed48a","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKH"}}
{"Timestamp":"2024-11-10T21:43:13.0664527+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9f5320f4e935d2ec4fc70ff2b5a61ce8","SpanId":"ea3e308eed3ed48a","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKH"}}
{"Timestamp":"2024-11-10T21:43:13.0675340+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9f5320f4e935d2ec4fc70ff2b5a61ce8","SpanId":"ea3e308eed3ed48a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.499,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUKH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKH"}}
{"Timestamp":"2024-11-10T21:43:13.0693135+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9f5320f4e935d2ec4fc70ff2b5a61ce8","SpanId":"ea3e308eed3ed48a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKH"}}
{"Timestamp":"2024-11-10T21:43:13.0704420+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9f5320f4e935d2ec4fc70ff2b5a61ce8","SpanId":"ea3e308eed3ed48a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":23.1589,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.1589"}]}}
{"Timestamp":"2024-11-10T21:43:13.0725602+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9f5320f4e935d2ec4fc70ff2b5a61ce8","SpanId":"ea3e308eed3ed48a","Properties":{"ElapsedMilliseconds":27.5786,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKH"}}
{"Timestamp":"2024-11-10T21:43:13.0745762+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"949ddf5abe7456660d648e6c0a194e0a","SpanId":"d57e49c1be106ebc","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUKI"}}
{"Timestamp":"2024-11-10T21:43:13.0783163+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"949ddf5abe7456660d648e6c0a194e0a","SpanId":"d57e49c1be106ebc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUKI"}}
{"Timestamp":"2024-11-10T21:43:13.0795875+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"949ddf5abe7456660d648e6c0a194e0a","SpanId":"d57e49c1be106ebc","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUKI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUKI"}}
{"Timestamp":"2024-11-10T21:43:13.0887463+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"949ddf5abe7456660d648e6c0a194e0a","SpanId":"d57e49c1be106ebc","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUKI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUKI"}}
{"Timestamp":"2024-11-10T21:43:13.0915300+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"949ddf5abe7456660d648e6c0a194e0a","SpanId":"d57e49c1be106ebc","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUKI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUKI"}}
{"Timestamp":"2024-11-10T21:43:13.0933969+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"949ddf5abe7456660d648e6c0a194e0a","SpanId":"d57e49c1be106ebc","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":11.5862,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUKI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUKI"}}
{"Timestamp":"2024-11-10T21:43:13.0952099+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"949ddf5abe7456660d648e6c0a194e0a","SpanId":"d57e49c1be106ebc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUKI"}}
{"Timestamp":"2024-11-10T21:43:13.0967914+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"949ddf5abe7456660d648e6c0a194e0a","SpanId":"d57e49c1be106ebc","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":18.7356,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.7356"}]}}
{"Timestamp":"2024-11-10T21:43:13.0994425+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"949ddf5abe7456660d648e6c0a194e0a","SpanId":"d57e49c1be106ebc","Properties":{"ElapsedMilliseconds":24.8832,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUKI"}}
{"Timestamp":"2024-11-10T21:43:13.2198264+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f7f155c817d04950095c26d94884ee3e","SpanId":"54358cb61229f699","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKJ"}}
{"Timestamp":"2024-11-10T21:43:13.2230208+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f7f155c817d04950095c26d94884ee3e","SpanId":"54358cb61229f699","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKJ"}}
{"Timestamp":"2024-11-10T21:43:13.2250558+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f7f155c817d04950095c26d94884ee3e","SpanId":"54358cb61229f699","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKJ"}}
{"Timestamp":"2024-11-10T21:43:13.2265941+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ddf9de2f0a3633e6bed88613019141ed","SpanId":"c1a9d50e7553aa3b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKK"}}
{"Timestamp":"2024-11-10T21:43:13.2322066+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ddf9de2f0a3633e6bed88613019141ed","SpanId":"c1a9d50e7553aa3b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKK"}}
{"Timestamp":"2024-11-10T21:43:13.2334585+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ddf9de2f0a3633e6bed88613019141ed","SpanId":"c1a9d50e7553aa3b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKK"}}
{"Timestamp":"2024-11-10T21:43:13.2395597+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f7f155c817d04950095c26d94884ee3e","SpanId":"54358cb61229f699","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKJ"}}
{"Timestamp":"2024-11-10T21:43:13.2411746+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ddf9de2f0a3633e6bed88613019141ed","SpanId":"c1a9d50e7553aa3b","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKK"}}
{"Timestamp":"2024-11-10T21:43:13.2467561+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f7f155c817d04950095c26d94884ee3e","SpanId":"54358cb61229f699","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKJ"}}
{"Timestamp":"2024-11-10T21:43:13.2493910+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ddf9de2f0a3633e6bed88613019141ed","SpanId":"c1a9d50e7553aa3b","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKK"}}
{"Timestamp":"2024-11-10T21:43:13.2514350+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f7f155c817d04950095c26d94884ee3e","SpanId":"54358cb61229f699","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKJ"}}
{"Timestamp":"2024-11-10T21:43:13.2543819+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ddf9de2f0a3633e6bed88613019141ed","SpanId":"c1a9d50e7553aa3b","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKK"}}
{"Timestamp":"2024-11-10T21:43:13.2552649+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f7f155c817d04950095c26d94884ee3e","SpanId":"54358cb61229f699","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":27.4608,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUKJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKJ"}}
{"Timestamp":"2024-11-10T21:43:13.2567292+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ddf9de2f0a3633e6bed88613019141ed","SpanId":"c1a9d50e7553aa3b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":21.5621,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUKK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKK"}}
{"Timestamp":"2024-11-10T21:43:13.2576551+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f7f155c817d04950095c26d94884ee3e","SpanId":"54358cb61229f699","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKJ"}}
{"Timestamp":"2024-11-10T21:43:13.2585525+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ddf9de2f0a3633e6bed88613019141ed","SpanId":"c1a9d50e7553aa3b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKK"}}
{"Timestamp":"2024-11-10T21:43:13.2593078+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f7f155c817d04950095c26d94884ee3e","SpanId":"54358cb61229f699","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":36.4839,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"36.4839"}]}}
{"Timestamp":"2024-11-10T21:43:13.2599200+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ddf9de2f0a3633e6bed88613019141ed","SpanId":"c1a9d50e7553aa3b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":27.8106,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.8106"}]}}
{"Timestamp":"2024-11-10T21:43:13.2614977+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f7f155c817d04950095c26d94884ee3e","SpanId":"54358cb61229f699","Properties":{"ElapsedMilliseconds":41.772,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKJ"}}
{"Timestamp":"2024-11-10T21:43:13.2637956+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ddf9de2f0a3633e6bed88613019141ed","SpanId":"c1a9d50e7553aa3b","Properties":{"ElapsedMilliseconds":37.1649,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKK"}}
{"Timestamp":"2024-11-10T21:43:13.2644794+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0b865bc8706b86a93c1be537e8c873d4","SpanId":"7f5d13bdfdd2fe54","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUKL"}}
{"Timestamp":"2024-11-10T21:43:13.2685082+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5af73f67b06b13ccf3303af4a37a84f2","SpanId":"6edd9c803ae11579","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKM:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKM"}}
{"Timestamp":"2024-11-10T21:43:13.2741346+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0b865bc8706b86a93c1be537e8c873d4","SpanId":"7f5d13bdfdd2fe54","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUKL"}}
{"Timestamp":"2024-11-10T21:43:13.2752074+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5af73f67b06b13ccf3303af4a37a84f2","SpanId":"6edd9c803ae11579","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKM:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKM"}}
{"Timestamp":"2024-11-10T21:43:13.2756288+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0b865bc8706b86a93c1be537e8c873d4","SpanId":"7f5d13bdfdd2fe54","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUKL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUKL"}}
{"Timestamp":"2024-11-10T21:43:13.2762826+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5af73f67b06b13ccf3303af4a37a84f2","SpanId":"6edd9c803ae11579","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUKM:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKM"}}
{"Timestamp":"2024-11-10T21:43:13.2820238+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0b865bc8706b86a93c1be537e8c873d4","SpanId":"7f5d13bdfdd2fe54","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUKL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUKL"}}
{"Timestamp":"2024-11-10T21:43:13.2832506+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5af73f67b06b13ccf3303af4a37a84f2","SpanId":"6edd9c803ae11579","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUKM:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKM"}}
{"Timestamp":"2024-11-10T21:43:13.2838990+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0b865bc8706b86a93c1be537e8c873d4","SpanId":"7f5d13bdfdd2fe54","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUKL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUKL"}}
{"Timestamp":"2024-11-10T21:43:13.2863382+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5af73f67b06b13ccf3303af4a37a84f2","SpanId":"6edd9c803ae11579","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUKM:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKM"}}
{"Timestamp":"2024-11-10T21:43:13.2871886+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0b865bc8706b86a93c1be537e8c873d4","SpanId":"7f5d13bdfdd2fe54","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":9.6014,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUKL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUKL"}}
{"Timestamp":"2024-11-10T21:43:13.2883994+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5af73f67b06b13ccf3303af4a37a84f2","SpanId":"6edd9c803ae11579","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":9.4513,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUKM:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKM"}}
{"Timestamp":"2024-11-10T21:43:13.2892362+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0b865bc8706b86a93c1be537e8c873d4","SpanId":"7f5d13bdfdd2fe54","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUKL"}}
{"Timestamp":"2024-11-10T21:43:13.2904486+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5af73f67b06b13ccf3303af4a37a84f2","SpanId":"6edd9c803ae11579","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKM:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKM"}}
{"Timestamp":"2024-11-10T21:43:13.2912231+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0b865bc8706b86a93c1be537e8c873d4","SpanId":"7f5d13bdfdd2fe54","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":17.7704,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.7704"}]}}
{"Timestamp":"2024-11-10T21:43:13.2919295+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5af73f67b06b13ccf3303af4a37a84f2","SpanId":"6edd9c803ae11579","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":16.9133,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.9133"}]}}
{"Timestamp":"2024-11-10T21:43:13.2931630+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0b865bc8706b86a93c1be537e8c873d4","SpanId":"7f5d13bdfdd2fe54","Properties":{"ElapsedMilliseconds":28.7765,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUKL"}}
{"Timestamp":"2024-11-10T21:43:13.2948835+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5af73f67b06b13ccf3303af4a37a84f2","SpanId":"6edd9c803ae11579","Properties":{"ElapsedMilliseconds":27.0218,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKM:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKM"}}
{"Timestamp":"2024-11-10T21:43:14.5306169+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6e4ba96b3fe7618050a46916cf8d1575","SpanId":"d6123259b9f884d0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKN"}}
{"Timestamp":"2024-11-10T21:43:14.5326782+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6e4ba96b3fe7618050a46916cf8d1575","SpanId":"d6123259b9f884d0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKN"}}
{"Timestamp":"2024-11-10T21:43:14.5337041+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6e4ba96b3fe7618050a46916cf8d1575","SpanId":"d6123259b9f884d0","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKN"}}
{"Timestamp":"2024-11-10T21:43:14.5431187+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6e4ba96b3fe7618050a46916cf8d1575","SpanId":"d6123259b9f884d0","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKN"}}
{"Timestamp":"2024-11-10T21:43:14.5483004+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6e4ba96b3fe7618050a46916cf8d1575","SpanId":"d6123259b9f884d0","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKN"}}
{"Timestamp":"2024-11-10T21:43:14.5508111+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6e4ba96b3fe7618050a46916cf8d1575","SpanId":"d6123259b9f884d0","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKN"}}
{"Timestamp":"2024-11-10T21:43:14.5531593+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6e4ba96b3fe7618050a46916cf8d1575","SpanId":"d6123259b9f884d0","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.9754,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUKN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKN"}}
{"Timestamp":"2024-11-10T21:43:14.5552580+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6e4ba96b3fe7618050a46916cf8d1575","SpanId":"d6123259b9f884d0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKN"}}
{"Timestamp":"2024-11-10T21:43:14.5561962+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6e4ba96b3fe7618050a46916cf8d1575","SpanId":"d6123259b9f884d0","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":23.6555,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.6555"}]}}
{"Timestamp":"2024-11-10T21:43:14.5586741+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6e4ba96b3fe7618050a46916cf8d1575","SpanId":"d6123259b9f884d0","Properties":{"ElapsedMilliseconds":28.0846,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKN"}}
{"Timestamp":"2024-11-10T21:43:14.5610803+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0b33374bb812aa80a32acf2e8dbf4c9a","SpanId":"d98dcaa00fda2e11","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKO"}}
{"Timestamp":"2024-11-10T21:43:14.5644818+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0b33374bb812aa80a32acf2e8dbf4c9a","SpanId":"d98dcaa00fda2e11","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKO"}}
{"Timestamp":"2024-11-10T21:43:14.5656409+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0b33374bb812aa80a32acf2e8dbf4c9a","SpanId":"d98dcaa00fda2e11","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUKO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKO"}}
{"Timestamp":"2024-11-10T21:43:14.5729435+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0b33374bb812aa80a32acf2e8dbf4c9a","SpanId":"d98dcaa00fda2e11","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUKO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKO"}}
{"Timestamp":"2024-11-10T21:43:14.5753212+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0b33374bb812aa80a32acf2e8dbf4c9a","SpanId":"d98dcaa00fda2e11","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUKO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKO"}}
{"Timestamp":"2024-11-10T21:43:14.5766838+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0b33374bb812aa80a32acf2e8dbf4c9a","SpanId":"d98dcaa00fda2e11","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":9.1554,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUKO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKO"}}
{"Timestamp":"2024-11-10T21:43:14.5775830+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0b33374bb812aa80a32acf2e8dbf4c9a","SpanId":"d98dcaa00fda2e11","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKO"}}
{"Timestamp":"2024-11-10T21:43:14.5783455+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0b33374bb812aa80a32acf2e8dbf4c9a","SpanId":"d98dcaa00fda2e11","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":14.1311,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.1311"}]}}
{"Timestamp":"2024-11-10T21:43:14.5799392+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0b33374bb812aa80a32acf2e8dbf4c9a","SpanId":"d98dcaa00fda2e11","Properties":{"ElapsedMilliseconds":18.8921,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKO"}}
{"Timestamp":"2024-11-10T21:43:14.5895604+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5d6d11b9277954f05ab85ffacd851f63","SpanId":"756294474121b17b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKP"}}
{"Timestamp":"2024-11-10T21:43:14.5908819+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5d6d11b9277954f05ab85ffacd851f63","SpanId":"756294474121b17b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKP"}}
{"Timestamp":"2024-11-10T21:43:14.5917489+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5d6d11b9277954f05ab85ffacd851f63","SpanId":"756294474121b17b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKP"}}
{"Timestamp":"2024-11-10T21:43:14.5953207+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5d6d11b9277954f05ab85ffacd851f63","SpanId":"756294474121b17b","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKP"}}
{"Timestamp":"2024-11-10T21:43:14.5977814+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5d6d11b9277954f05ab85ffacd851f63","SpanId":"756294474121b17b","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKP"}}
{"Timestamp":"2024-11-10T21:43:14.5994047+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5d6d11b9277954f05ab85ffacd851f63","SpanId":"756294474121b17b","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKP"}}
{"Timestamp":"2024-11-10T21:43:14.6003241+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5d6d11b9277954f05ab85ffacd851f63","SpanId":"756294474121b17b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":7.5709,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUKP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKP"}}
{"Timestamp":"2024-11-10T21:43:14.6012059+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5d6d11b9277954f05ab85ffacd851f63","SpanId":"756294474121b17b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKP"}}
{"Timestamp":"2024-11-10T21:43:14.6020680+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5d6d11b9277954f05ab85ffacd851f63","SpanId":"756294474121b17b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":11.2196,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.2196"}]}}
{"Timestamp":"2024-11-10T21:43:14.6037515+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5d6d11b9277954f05ab85ffacd851f63","SpanId":"756294474121b17b","Properties":{"ElapsedMilliseconds":14.1949,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKP"}}
{"Timestamp":"2024-11-10T21:43:14.6080663+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fdffa0e86953bb20a8180db08b02afdf","SpanId":"afed1ec72261d93e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKQ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUKQ"}}
{"Timestamp":"2024-11-10T21:43:14.6103317+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fdffa0e86953bb20a8180db08b02afdf","SpanId":"afed1ec72261d93e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKQ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUKQ"}}
{"Timestamp":"2024-11-10T21:43:14.6112015+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fdffa0e86953bb20a8180db08b02afdf","SpanId":"afed1ec72261d93e","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c4e19e87-d6eb-4030-ae87-56bce24c4ac0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81IMO9OUKQ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUKQ"}}
{"Timestamp":"2024-11-10T21:43:14.6245503+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fdffa0e86953bb20a8180db08b02afdf","SpanId":"afed1ec72261d93e","Properties":{"elapsed":"6","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c4e19e87-d6eb-4030-ae87-56bce24c4ac0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81IMO9OUKQ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUKQ"}}
{"Timestamp":"2024-11-10T21:43:14.6296341+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fdffa0e86953bb20a8180db08b02afdf","SpanId":"afed1ec72261d93e","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c4e19e87-d6eb-4030-ae87-56bce24c4ac0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81IMO9OUKQ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUKQ"}}
{"Timestamp":"2024-11-10T21:43:14.6315636+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fdffa0e86953bb20a8180db08b02afdf","SpanId":"afed1ec72261d93e","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c4e19e87-d6eb-4030-ae87-56bce24c4ac0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81IMO9OUKQ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUKQ"}}
{"Timestamp":"2024-11-10T21:43:14.6326472+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fdffa0e86953bb20a8180db08b02afdf","SpanId":"afed1ec72261d93e","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":19.7985,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUKQ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUKQ"}}
{"Timestamp":"2024-11-10T21:43:14.6337759+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fdffa0e86953bb20a8180db08b02afdf","SpanId":"afed1ec72261d93e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKQ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUKQ"}}
{"Timestamp":"2024-11-10T21:43:14.6346733+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fdffa0e86953bb20a8180db08b02afdf","SpanId":"afed1ec72261d93e","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":24.5652,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.5652"}]}}
{"Timestamp":"2024-11-10T21:43:14.6376944+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fdffa0e86953bb20a8180db08b02afdf","SpanId":"afed1ec72261d93e","Properties":{"ElapsedMilliseconds":29.6215,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKQ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUKQ"}}
{"Timestamp":"2024-11-10T21:43:16.3802111+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"250046ef51034135bd7520e460ce9cf7","SpanId":"f45234966fb0a660","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKR"}}
{"Timestamp":"2024-11-10T21:43:16.3851909+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"250046ef51034135bd7520e460ce9cf7","SpanId":"f45234966fb0a660","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKR"}}
{"Timestamp":"2024-11-10T21:43:16.3873946+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"250046ef51034135bd7520e460ce9cf7","SpanId":"f45234966fb0a660","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKR"}}
{"Timestamp":"2024-11-10T21:43:16.3972135+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"250046ef51034135bd7520e460ce9cf7","SpanId":"f45234966fb0a660","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKR"}}
{"Timestamp":"2024-11-10T21:43:16.4010791+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"250046ef51034135bd7520e460ce9cf7","SpanId":"f45234966fb0a660","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKR"}}
{"Timestamp":"2024-11-10T21:43:16.4030908+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"250046ef51034135bd7520e460ce9cf7","SpanId":"f45234966fb0a660","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKR"}}
{"Timestamp":"2024-11-10T21:43:16.4054615+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"250046ef51034135bd7520e460ce9cf7","SpanId":"f45234966fb0a660","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.4249,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUKR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKR"}}
{"Timestamp":"2024-11-10T21:43:16.4071551+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"250046ef51034135bd7520e460ce9cf7","SpanId":"f45234966fb0a660","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKR"}}
{"Timestamp":"2024-11-10T21:43:16.4088455+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"250046ef51034135bd7520e460ce9cf7","SpanId":"f45234966fb0a660","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":23.7343,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.7343"}]}}
{"Timestamp":"2024-11-10T21:43:16.4100902+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"250046ef51034135bd7520e460ce9cf7","SpanId":"f45234966fb0a660","Properties":{"ElapsedMilliseconds":29.9078,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKR"}}
{"Timestamp":"2024-11-10T21:43:16.4116401+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"21321717633604352a45fb488bb42128","SpanId":"6f2e4340956bef7a","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2227","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKS:00000001","RequestPath":"/api/Schedules/2227","ConnectionId":"0HN81IMO9OUKS"}}
{"Timestamp":"2024-11-10T21:43:16.4147456+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"21321717633604352a45fb488bb42128","SpanId":"6f2e4340956bef7a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKS:00000001","RequestPath":"/api/Schedules/2227","ConnectionId":"0HN81IMO9OUKS"}}
{"Timestamp":"2024-11-10T21:43:16.4175081+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"21321717633604352a45fb488bb42128","SpanId":"6f2e4340956bef7a","Properties":{"RouteData":"{action = \"Delete\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"55e23e45-3560-4b1a-a38c-d0f5bbb1b569","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81IMO9OUKS:00000001","RequestPath":"/api/Schedules/2227","ConnectionId":"0HN81IMO9OUKS"}}
{"Timestamp":"2024-11-10T21:43:16.4316993+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"21321717633604352a45fb488bb42128","SpanId":"6f2e4340956bef7a","Properties":{"elapsed":"4","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e23e45-3560-4b1a-a38c-d0f5bbb1b569","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81IMO9OUKS:00000001","RequestPath":"/api/Schedules/2227","ConnectionId":"0HN81IMO9OUKS"}}
{"Timestamp":"2024-11-10T21:43:16.4433956+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"21321717633604352a45fb488bb42128","SpanId":"6f2e4340956bef7a","Properties":{"elapsed":"3","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[user_id], [s].[schedule_id], [s].[id]\r\nFROM [Schedule_User] AS [s]\r\nWHERE [s].[schedule_id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e23e45-3560-4b1a-a38c-d0f5bbb1b569","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81IMO9OUKS:00000001","RequestPath":"/api/Schedules/2227","ConnectionId":"0HN81IMO9OUKS"}}
{"Timestamp":"2024-11-10T21:43:16.4858022+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"21321717633604352a45fb488bb42128","SpanId":"6f2e4340956bef7a","Properties":{"elapsed":"11","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [Schedule_User]\r\nOUTPUT 1\r\nWHERE [schedule_id] = @p0 AND [user_id] = @p1;\r\nDELETE FROM [Schedules]\r\nOUTPUT 1\r\nWHERE [Id] = @p2;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e23e45-3560-4b1a-a38c-d0f5bbb1b569","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81IMO9OUKS:00000001","RequestPath":"/api/Schedules/2227","ConnectionId":"0HN81IMO9OUKS"}}
{"Timestamp":"2024-11-10T21:43:16.5092862+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"21321717633604352a45fb488bb42128","SpanId":"6f2e4340956bef7a","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"55e23e45-3560-4b1a-a38c-d0f5bbb1b569","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81IMO9OUKS:00000001","RequestPath":"/api/Schedules/2227","ConnectionId":"0HN81IMO9OUKS"}}
{"Timestamp":"2024-11-10T21:43:16.5108080+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"21321717633604352a45fb488bb42128","SpanId":"6f2e4340956bef7a","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","ElapsedMilliseconds":91.8624,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUKS:00000001","RequestPath":"/api/Schedules/2227","ConnectionId":"0HN81IMO9OUKS"}}
{"Timestamp":"2024-11-10T21:43:16.5127736+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"21321717633604352a45fb488bb42128","SpanId":"6f2e4340956bef7a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKS:00000001","RequestPath":"/api/Schedules/2227","ConnectionId":"0HN81IMO9OUKS"}}
{"Timestamp":"2024-11-10T21:43:16.5135780+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"21321717633604352a45fb488bb42128","SpanId":"6f2e4340956bef7a","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/Schedules/2227","StatusCode":200,"Elapsed":98.8975,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"98.8975"}]}}
{"Timestamp":"2024-11-10T21:43:16.5151757+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"21321717633604352a45fb488bb42128","SpanId":"6f2e4340956bef7a","Properties":{"ElapsedMilliseconds":103.616,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2227","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKS:00000001","RequestPath":"/api/Schedules/2227","ConnectionId":"0HN81IMO9OUKS"}}
{"Timestamp":"2024-11-10T21:43:17.7320804+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"924224c4dfe6b79ba2ef5f04f735725e","SpanId":"00665a95fe240552","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKT"}}
{"Timestamp":"2024-11-10T21:43:17.7338477+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"924224c4dfe6b79ba2ef5f04f735725e","SpanId":"00665a95fe240552","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKT"}}
{"Timestamp":"2024-11-10T21:43:17.7345081+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"924224c4dfe6b79ba2ef5f04f735725e","SpanId":"00665a95fe240552","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKT"}}
{"Timestamp":"2024-11-10T21:43:17.7438990+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"924224c4dfe6b79ba2ef5f04f735725e","SpanId":"00665a95fe240552","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKT"}}
{"Timestamp":"2024-11-10T21:43:17.7479708+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"924224c4dfe6b79ba2ef5f04f735725e","SpanId":"00665a95fe240552","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKT"}}
{"Timestamp":"2024-11-10T21:43:17.7494920+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"924224c4dfe6b79ba2ef5f04f735725e","SpanId":"00665a95fe240552","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKT"}}
{"Timestamp":"2024-11-10T21:43:17.7504015+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"924224c4dfe6b79ba2ef5f04f735725e","SpanId":"00665a95fe240552","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":14.3845,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUKT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKT"}}
{"Timestamp":"2024-11-10T21:43:17.7515045+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"924224c4dfe6b79ba2ef5f04f735725e","SpanId":"00665a95fe240552","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKT"}}
{"Timestamp":"2024-11-10T21:43:17.7522318+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"924224c4dfe6b79ba2ef5f04f735725e","SpanId":"00665a95fe240552","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":18.4728,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.4728"}]}}
{"Timestamp":"2024-11-10T21:43:17.7543706+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"924224c4dfe6b79ba2ef5f04f735725e","SpanId":"00665a95fe240552","Properties":{"ElapsedMilliseconds":22.345,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKT"}}
{"Timestamp":"2024-11-10T21:43:17.7575920+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e86b0b34db0ab293027d9b997d550502","SpanId":"06de0c5db27c6851","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKU"}}
{"Timestamp":"2024-11-10T21:43:17.7596319+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e86b0b34db0ab293027d9b997d550502","SpanId":"06de0c5db27c6851","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKU"}}
{"Timestamp":"2024-11-10T21:43:17.7606020+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e86b0b34db0ab293027d9b997d550502","SpanId":"06de0c5db27c6851","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUKU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKU"}}
{"Timestamp":"2024-11-10T21:43:17.7679248+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e86b0b34db0ab293027d9b997d550502","SpanId":"06de0c5db27c6851","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUKU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKU"}}
{"Timestamp":"2024-11-10T21:43:17.7724057+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e86b0b34db0ab293027d9b997d550502","SpanId":"06de0c5db27c6851","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUKU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKU"}}
{"Timestamp":"2024-11-10T21:43:17.7750489+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e86b0b34db0ab293027d9b997d550502","SpanId":"06de0c5db27c6851","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":12.9792,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUKU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKU"}}
{"Timestamp":"2024-11-10T21:43:17.7769512+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e86b0b34db0ab293027d9b997d550502","SpanId":"06de0c5db27c6851","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKU"}}
{"Timestamp":"2024-11-10T21:43:17.7781173+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e86b0b34db0ab293027d9b997d550502","SpanId":"06de0c5db27c6851","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":18.7204,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.7204"}]}}
{"Timestamp":"2024-11-10T21:43:17.7800604+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e86b0b34db0ab293027d9b997d550502","SpanId":"06de0c5db27c6851","Properties":{"ElapsedMilliseconds":22.6086,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUKU"}}
{"Timestamp":"2024-11-10T21:43:41.6173376+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b6e2c01af42a0153662c3fde9cea7f44","SpanId":"689a9807707487e3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKV"}}
{"Timestamp":"2024-11-10T21:43:41.6256935+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b6e2c01af42a0153662c3fde9cea7f44","SpanId":"689a9807707487e3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKV"}}
{"Timestamp":"2024-11-10T21:43:41.6266689+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b6e2c01af42a0153662c3fde9cea7f44","SpanId":"689a9807707487e3","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKV"}}
{"Timestamp":"2024-11-10T21:43:41.6427263+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b6e2c01af42a0153662c3fde9cea7f44","SpanId":"689a9807707487e3","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKV"}}
{"Timestamp":"2024-11-10T21:43:41.6485069+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b6e2c01af42a0153662c3fde9cea7f44","SpanId":"689a9807707487e3","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKV"}}
{"Timestamp":"2024-11-10T21:43:41.6515123+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b6e2c01af42a0153662c3fde9cea7f44","SpanId":"689a9807707487e3","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUKV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKV"}}
{"Timestamp":"2024-11-10T21:43:41.6532632+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b6e2c01af42a0153662c3fde9cea7f44","SpanId":"689a9807707487e3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":25.1286,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUKV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKV"}}
{"Timestamp":"2024-11-10T21:43:41.6546119+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b6e2c01af42a0153662c3fde9cea7f44","SpanId":"689a9807707487e3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUKV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKV"}}
{"Timestamp":"2024-11-10T21:43:41.6554379+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b6e2c01af42a0153662c3fde9cea7f44","SpanId":"689a9807707487e3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":29.8749,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.8749"}]}}
{"Timestamp":"2024-11-10T21:43:41.6577204+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b6e2c01af42a0153662c3fde9cea7f44","SpanId":"689a9807707487e3","Properties":{"ElapsedMilliseconds":40.5446,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUKV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUKV"}}
{"Timestamp":"2024-11-10T21:43:41.6602980+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3f9cee91b93f5242905335098cce2da2","SpanId":"f69bd8637691d7bb","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUL0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUL0"}}
{"Timestamp":"2024-11-10T21:43:41.6689144+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3f9cee91b93f5242905335098cce2da2","SpanId":"f69bd8637691d7bb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUL0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUL0"}}
{"Timestamp":"2024-11-10T21:43:41.6699297+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3f9cee91b93f5242905335098cce2da2","SpanId":"f69bd8637691d7bb","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUL0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUL0"}}
{"Timestamp":"2024-11-10T21:43:41.6781364+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3f9cee91b93f5242905335098cce2da2","SpanId":"f69bd8637691d7bb","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUL0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUL0"}}
{"Timestamp":"2024-11-10T21:43:41.6816060+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3f9cee91b93f5242905335098cce2da2","SpanId":"f69bd8637691d7bb","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUL0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUL0"}}
{"Timestamp":"2024-11-10T21:43:41.6835196+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3f9cee91b93f5242905335098cce2da2","SpanId":"f69bd8637691d7bb","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":11.1353,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUL0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUL0"}}
{"Timestamp":"2024-11-10T21:43:41.6849577+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3f9cee91b93f5242905335098cce2da2","SpanId":"f69bd8637691d7bb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUL0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUL0"}}
{"Timestamp":"2024-11-10T21:43:41.6860297+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3f9cee91b93f5242905335098cce2da2","SpanId":"f69bd8637691d7bb","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":17.4633,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.4633"}]}}
{"Timestamp":"2024-11-10T21:43:41.6878042+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3f9cee91b93f5242905335098cce2da2","SpanId":"f69bd8637691d7bb","Properties":{"ElapsedMilliseconds":27.5991,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUL0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUL0"}}
{"Timestamp":"2024-11-10T21:43:41.6921775+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0a0708fd15066ee57cd0a7f87e269c7d","SpanId":"5bea20777c8c27b3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUL1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL1"}}
{"Timestamp":"2024-11-10T21:43:41.6945580+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0a0708fd15066ee57cd0a7f87e269c7d","SpanId":"5bea20777c8c27b3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUL1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL1"}}
{"Timestamp":"2024-11-10T21:43:41.6962328+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0a0708fd15066ee57cd0a7f87e269c7d","SpanId":"5bea20777c8c27b3","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUL1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL1"}}
{"Timestamp":"2024-11-10T21:43:41.7072311+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0a0708fd15066ee57cd0a7f87e269c7d","SpanId":"5bea20777c8c27b3","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUL1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL1"}}
{"Timestamp":"2024-11-10T21:43:41.7128709+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0a0708fd15066ee57cd0a7f87e269c7d","SpanId":"5bea20777c8c27b3","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUL1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL1"}}
{"Timestamp":"2024-11-10T21:43:41.7163412+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0a0708fd15066ee57cd0a7f87e269c7d","SpanId":"5bea20777c8c27b3","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUL1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL1"}}
{"Timestamp":"2024-11-10T21:43:41.7177011+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0a0708fd15066ee57cd0a7f87e269c7d","SpanId":"5bea20777c8c27b3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":18.6052,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUL1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL1"}}
{"Timestamp":"2024-11-10T21:43:41.7190836+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0a0708fd15066ee57cd0a7f87e269c7d","SpanId":"5bea20777c8c27b3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUL1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL1"}}
{"Timestamp":"2024-11-10T21:43:41.7198923+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0a0708fd15066ee57cd0a7f87e269c7d","SpanId":"5bea20777c8c27b3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":25.4198,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.4198"}]}}
{"Timestamp":"2024-11-10T21:43:41.7219229+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0a0708fd15066ee57cd0a7f87e269c7d","SpanId":"5bea20777c8c27b3","Properties":{"ElapsedMilliseconds":29.7898,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUL1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL1"}}
{"Timestamp":"2024-11-10T21:43:41.7246814+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ff9663421a38bf69a534e7e3274c8385","SpanId":"d228fa739bdf9777","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUL2:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUL2"}}
{"Timestamp":"2024-11-10T21:43:41.7278802+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ff9663421a38bf69a534e7e3274c8385","SpanId":"d228fa739bdf9777","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUL2:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUL2"}}
{"Timestamp":"2024-11-10T21:43:41.7291401+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ff9663421a38bf69a534e7e3274c8385","SpanId":"d228fa739bdf9777","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c4e19e87-d6eb-4030-ae87-56bce24c4ac0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81IMO9OUL2:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUL2"}}
{"Timestamp":"2024-11-10T21:43:41.7390069+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ff9663421a38bf69a534e7e3274c8385","SpanId":"d228fa739bdf9777","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c4e19e87-d6eb-4030-ae87-56bce24c4ac0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81IMO9OUL2:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUL2"}}
{"Timestamp":"2024-11-10T21:43:41.7455161+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ff9663421a38bf69a534e7e3274c8385","SpanId":"d228fa739bdf9777","Properties":{"elapsed":"4","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c4e19e87-d6eb-4030-ae87-56bce24c4ac0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81IMO9OUL2:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUL2"}}
{"Timestamp":"2024-11-10T21:43:41.7482063+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ff9663421a38bf69a534e7e3274c8385","SpanId":"d228fa739bdf9777","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c4e19e87-d6eb-4030-ae87-56bce24c4ac0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81IMO9OUL2:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUL2"}}
{"Timestamp":"2024-11-10T21:43:41.7497179+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ff9663421a38bf69a534e7e3274c8385","SpanId":"d228fa739bdf9777","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":19.0214,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUL2:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUL2"}}
{"Timestamp":"2024-11-10T21:43:41.7508566+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ff9663421a38bf69a534e7e3274c8385","SpanId":"d228fa739bdf9777","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUL2:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUL2"}}
{"Timestamp":"2024-11-10T21:43:41.7516990+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ff9663421a38bf69a534e7e3274c8385","SpanId":"d228fa739bdf9777","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":24.0333,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.0333"}]}}
{"Timestamp":"2024-11-10T21:43:41.7533349+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ff9663421a38bf69a534e7e3274c8385","SpanId":"d228fa739bdf9777","Properties":{"ElapsedMilliseconds":28.7439,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUL2:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUL2"}}
{"Timestamp":"2024-11-10T21:43:43.1811413+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2ca4a96684028c598d4abfe9461547ee","SpanId":"4760a98b24f3e538","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUL3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL3"}}
{"Timestamp":"2024-11-10T21:43:43.1851858+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2ca4a96684028c598d4abfe9461547ee","SpanId":"4760a98b24f3e538","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUL3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL3"}}
{"Timestamp":"2024-11-10T21:43:43.1867329+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2ca4a96684028c598d4abfe9461547ee","SpanId":"4760a98b24f3e538","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUL3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL3"}}
{"Timestamp":"2024-11-10T21:43:43.1970157+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2ca4a96684028c598d4abfe9461547ee","SpanId":"4760a98b24f3e538","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUL3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL3"}}
{"Timestamp":"2024-11-10T21:43:43.2031659+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2ca4a96684028c598d4abfe9461547ee","SpanId":"4760a98b24f3e538","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUL3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL3"}}
{"Timestamp":"2024-11-10T21:43:43.2050034+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2ca4a96684028c598d4abfe9461547ee","SpanId":"4760a98b24f3e538","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUL3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL3"}}
{"Timestamp":"2024-11-10T21:43:43.2059102+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2ca4a96684028c598d4abfe9461547ee","SpanId":"4760a98b24f3e538","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.0961,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUL3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL3"}}
{"Timestamp":"2024-11-10T21:43:43.2067267+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2ca4a96684028c598d4abfe9461547ee","SpanId":"4760a98b24f3e538","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUL3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL3"}}
{"Timestamp":"2024-11-10T21:43:43.2076181+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2ca4a96684028c598d4abfe9461547ee","SpanId":"4760a98b24f3e538","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":22.5445,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.5445"}]}}
{"Timestamp":"2024-11-10T21:43:43.2091283+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2ca4a96684028c598d4abfe9461547ee","SpanId":"4760a98b24f3e538","Properties":{"ElapsedMilliseconds":28.0597,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUL3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL3"}}
{"Timestamp":"2024-11-10T21:43:43.2106724+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9cc90fcf1aa82ced10250e5a9fc1912c","SpanId":"bc85976021f4db57","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2228","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUL4:00000001","RequestPath":"/api/Schedules/2228","ConnectionId":"0HN81IMO9OUL4"}}
{"Timestamp":"2024-11-10T21:43:43.2163982+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9cc90fcf1aa82ced10250e5a9fc1912c","SpanId":"bc85976021f4db57","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUL4:00000001","RequestPath":"/api/Schedules/2228","ConnectionId":"0HN81IMO9OUL4"}}
{"Timestamp":"2024-11-10T21:43:43.2170921+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9cc90fcf1aa82ced10250e5a9fc1912c","SpanId":"bc85976021f4db57","Properties":{"RouteData":"{action = \"Delete\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"55e23e45-3560-4b1a-a38c-d0f5bbb1b569","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81IMO9OUL4:00000001","RequestPath":"/api/Schedules/2228","ConnectionId":"0HN81IMO9OUL4"}}
{"Timestamp":"2024-11-10T21:43:43.2208007+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9cc90fcf1aa82ced10250e5a9fc1912c","SpanId":"bc85976021f4db57","Properties":{"elapsed":"1","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e23e45-3560-4b1a-a38c-d0f5bbb1b569","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81IMO9OUL4:00000001","RequestPath":"/api/Schedules/2228","ConnectionId":"0HN81IMO9OUL4"}}
{"Timestamp":"2024-11-10T21:43:43.2236970+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9cc90fcf1aa82ced10250e5a9fc1912c","SpanId":"bc85976021f4db57","Properties":{"elapsed":"1","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[user_id], [s].[schedule_id], [s].[id]\r\nFROM [Schedule_User] AS [s]\r\nWHERE [s].[schedule_id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e23e45-3560-4b1a-a38c-d0f5bbb1b569","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81IMO9OUL4:00000001","RequestPath":"/api/Schedules/2228","ConnectionId":"0HN81IMO9OUL4"}}
{"Timestamp":"2024-11-10T21:43:43.2291082+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9cc90fcf1aa82ced10250e5a9fc1912c","SpanId":"bc85976021f4db57","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [Schedule_User]\r\nOUTPUT 1\r\nWHERE [schedule_id] = @p0 AND [user_id] = @p1;\r\nDELETE FROM [Schedules]\r\nOUTPUT 1\r\nWHERE [Id] = @p2;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e23e45-3560-4b1a-a38c-d0f5bbb1b569","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81IMO9OUL4:00000001","RequestPath":"/api/Schedules/2228","ConnectionId":"0HN81IMO9OUL4"}}
{"Timestamp":"2024-11-10T21:43:43.2343836+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"9cc90fcf1aa82ced10250e5a9fc1912c","SpanId":"bc85976021f4db57","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"55e23e45-3560-4b1a-a38c-d0f5bbb1b569","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81IMO9OUL4:00000001","RequestPath":"/api/Schedules/2228","ConnectionId":"0HN81IMO9OUL4"}}
{"Timestamp":"2024-11-10T21:43:43.2349586+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9cc90fcf1aa82ced10250e5a9fc1912c","SpanId":"bc85976021f4db57","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","ElapsedMilliseconds":16.4092,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUL4:00000001","RequestPath":"/api/Schedules/2228","ConnectionId":"0HN81IMO9OUL4"}}
{"Timestamp":"2024-11-10T21:43:43.2363130+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9cc90fcf1aa82ced10250e5a9fc1912c","SpanId":"bc85976021f4db57","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUL4:00000001","RequestPath":"/api/Schedules/2228","ConnectionId":"0HN81IMO9OUL4"}}
{"Timestamp":"2024-11-10T21:43:43.2368879+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9cc90fcf1aa82ced10250e5a9fc1912c","SpanId":"bc85976021f4db57","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/Schedules/2228","StatusCode":200,"Elapsed":20.6278,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.6278"}]}}
{"Timestamp":"2024-11-10T21:43:43.2380813+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9cc90fcf1aa82ced10250e5a9fc1912c","SpanId":"bc85976021f4db57","Properties":{"ElapsedMilliseconds":27.4538,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2228","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUL4:00000001","RequestPath":"/api/Schedules/2228","ConnectionId":"0HN81IMO9OUL4"}}
{"Timestamp":"2024-11-10T21:43:45.0272745+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2fe0337c12720e68aa34529d306e833c","SpanId":"3b711586aee7f2f1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUL5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL5"}}
{"Timestamp":"2024-11-10T21:43:45.0287978+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2fe0337c12720e68aa34529d306e833c","SpanId":"3b711586aee7f2f1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUL5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL5"}}
{"Timestamp":"2024-11-10T21:43:45.0294419+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2fe0337c12720e68aa34529d306e833c","SpanId":"3b711586aee7f2f1","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUL5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL5"}}
{"Timestamp":"2024-11-10T21:43:45.0374144+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2fe0337c12720e68aa34529d306e833c","SpanId":"3b711586aee7f2f1","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUL5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL5"}}
{"Timestamp":"2024-11-10T21:43:45.0412694+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2fe0337c12720e68aa34529d306e833c","SpanId":"3b711586aee7f2f1","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUL5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL5"}}
{"Timestamp":"2024-11-10T21:43:45.0428478+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2fe0337c12720e68aa34529d306e833c","SpanId":"3b711586aee7f2f1","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUL5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL5"}}
{"Timestamp":"2024-11-10T21:43:45.0435782+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2fe0337c12720e68aa34529d306e833c","SpanId":"3b711586aee7f2f1","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":12.5238,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUL5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL5"}}
{"Timestamp":"2024-11-10T21:43:45.0442863+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2fe0337c12720e68aa34529d306e833c","SpanId":"3b711586aee7f2f1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUL5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL5"}}
{"Timestamp":"2024-11-10T21:43:45.0448512+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2fe0337c12720e68aa34529d306e833c","SpanId":"3b711586aee7f2f1","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":16.1166,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.1166"}]}}
{"Timestamp":"2024-11-10T21:43:45.0460490+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2fe0337c12720e68aa34529d306e833c","SpanId":"3b711586aee7f2f1","Properties":{"ElapsedMilliseconds":18.8436,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUL5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL5"}}
{"Timestamp":"2024-11-10T21:43:45.0487467+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"523b811544003e3b4968d7592f274a4a","SpanId":"62281367df74d3de","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUL6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUL6"}}
{"Timestamp":"2024-11-10T21:43:45.0528027+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"523b811544003e3b4968d7592f274a4a","SpanId":"62281367df74d3de","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUL6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUL6"}}
{"Timestamp":"2024-11-10T21:43:45.0543580+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"523b811544003e3b4968d7592f274a4a","SpanId":"62281367df74d3de","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUL6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUL6"}}
{"Timestamp":"2024-11-10T21:43:45.0625645+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"523b811544003e3b4968d7592f274a4a","SpanId":"62281367df74d3de","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUL6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUL6"}}
{"Timestamp":"2024-11-10T21:43:45.0653891+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"523b811544003e3b4968d7592f274a4a","SpanId":"62281367df74d3de","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUL6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUL6"}}
{"Timestamp":"2024-11-10T21:43:45.0678693+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"523b811544003e3b4968d7592f274a4a","SpanId":"62281367df74d3de","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":11.4792,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUL6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUL6"}}
{"Timestamp":"2024-11-10T21:43:45.0702899+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"523b811544003e3b4968d7592f274a4a","SpanId":"62281367df74d3de","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUL6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUL6"}}
{"Timestamp":"2024-11-10T21:43:45.0720058+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"523b811544003e3b4968d7592f274a4a","SpanId":"62281367df74d3de","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":19.4486,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.4486"}]}}
{"Timestamp":"2024-11-10T21:43:45.0737561+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"523b811544003e3b4968d7592f274a4a","SpanId":"62281367df74d3de","Properties":{"ElapsedMilliseconds":25.1727,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUL6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUL6"}}
{"Timestamp":"2024-11-10T21:44:03.4575815+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"46c413effe87a9af3b6e0af4dadc861e","SpanId":"b220bb2ca9e713d0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUL7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL7"}}
{"Timestamp":"2024-11-10T21:44:03.4594192+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"46c413effe87a9af3b6e0af4dadc861e","SpanId":"b220bb2ca9e713d0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUL7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL7"}}
{"Timestamp":"2024-11-10T21:44:03.4601770+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"46c413effe87a9af3b6e0af4dadc861e","SpanId":"b220bb2ca9e713d0","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUL7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL7"}}
{"Timestamp":"2024-11-10T21:44:03.4685201+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"46c413effe87a9af3b6e0af4dadc861e","SpanId":"b220bb2ca9e713d0","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUL7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL7"}}
{"Timestamp":"2024-11-10T21:44:03.4732650+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"46c413effe87a9af3b6e0af4dadc861e","SpanId":"b220bb2ca9e713d0","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUL7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL7"}}
{"Timestamp":"2024-11-10T21:44:03.4752624+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"46c413effe87a9af3b6e0af4dadc861e","SpanId":"b220bb2ca9e713d0","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUL7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL7"}}
{"Timestamp":"2024-11-10T21:44:03.4766739+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"46c413effe87a9af3b6e0af4dadc861e","SpanId":"b220bb2ca9e713d0","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":14.8363,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUL7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL7"}}
{"Timestamp":"2024-11-10T21:44:03.4774941+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"46c413effe87a9af3b6e0af4dadc861e","SpanId":"b220bb2ca9e713d0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUL7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL7"}}
{"Timestamp":"2024-11-10T21:44:03.4782737+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"46c413effe87a9af3b6e0af4dadc861e","SpanId":"b220bb2ca9e713d0","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":18.9701,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.9701"}]}}
{"Timestamp":"2024-11-10T21:44:03.4795464+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"46c413effe87a9af3b6e0af4dadc861e","SpanId":"b220bb2ca9e713d0","Properties":{"ElapsedMilliseconds":22.0079,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUL7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL7"}}
{"Timestamp":"2024-11-10T21:44:03.4815506+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d13274a82c0a88ec0fcb038d5ab755c9","SpanId":"61168694eb400517","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUL8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUL8"}}
{"Timestamp":"2024-11-10T21:44:03.4849009+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d13274a82c0a88ec0fcb038d5ab755c9","SpanId":"61168694eb400517","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUL8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUL8"}}
{"Timestamp":"2024-11-10T21:44:03.4858961+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d13274a82c0a88ec0fcb038d5ab755c9","SpanId":"61168694eb400517","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUL8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUL8"}}
{"Timestamp":"2024-11-10T21:44:03.4941110+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d13274a82c0a88ec0fcb038d5ab755c9","SpanId":"61168694eb400517","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUL8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUL8"}}
{"Timestamp":"2024-11-10T21:44:03.4970814+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d13274a82c0a88ec0fcb038d5ab755c9","SpanId":"61168694eb400517","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUL8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUL8"}}
{"Timestamp":"2024-11-10T21:44:03.4987160+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d13274a82c0a88ec0fcb038d5ab755c9","SpanId":"61168694eb400517","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":11.3123,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUL8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUL8"}}
{"Timestamp":"2024-11-10T21:44:03.4996124+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d13274a82c0a88ec0fcb038d5ab755c9","SpanId":"61168694eb400517","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUL8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUL8"}}
{"Timestamp":"2024-11-10T21:44:03.5004161+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d13274a82c0a88ec0fcb038d5ab755c9","SpanId":"61168694eb400517","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":15.7809,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.7809"}]}}
{"Timestamp":"2024-11-10T21:44:03.5018193+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d13274a82c0a88ec0fcb038d5ab755c9","SpanId":"61168694eb400517","Properties":{"ElapsedMilliseconds":20.2909,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUL8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUL8"}}
{"Timestamp":"2024-11-10T21:44:03.5061240+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c4fc5c7b17ce7e9f81a6a1b075b9b913","SpanId":"0ed7baee32d49913","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUL9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL9"}}
{"Timestamp":"2024-11-10T21:44:03.5088114+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c4fc5c7b17ce7e9f81a6a1b075b9b913","SpanId":"0ed7baee32d49913","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUL9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL9"}}
{"Timestamp":"2024-11-10T21:44:03.5094935+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c4fc5c7b17ce7e9f81a6a1b075b9b913","SpanId":"0ed7baee32d49913","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUL9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL9"}}
{"Timestamp":"2024-11-10T21:44:03.5179191+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c4fc5c7b17ce7e9f81a6a1b075b9b913","SpanId":"0ed7baee32d49913","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUL9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL9"}}
{"Timestamp":"2024-11-10T21:44:03.5214566+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c4fc5c7b17ce7e9f81a6a1b075b9b913","SpanId":"0ed7baee32d49913","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUL9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL9"}}
{"Timestamp":"2024-11-10T21:44:03.5245589+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c4fc5c7b17ce7e9f81a6a1b075b9b913","SpanId":"0ed7baee32d49913","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUL9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL9"}}
{"Timestamp":"2024-11-10T21:44:03.5256470+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c4fc5c7b17ce7e9f81a6a1b075b9b913","SpanId":"0ed7baee32d49913","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.0288,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUL9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL9"}}
{"Timestamp":"2024-11-10T21:44:03.5266442+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c4fc5c7b17ce7e9f81a6a1b075b9b913","SpanId":"0ed7baee32d49913","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUL9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL9"}}
{"Timestamp":"2024-11-10T21:44:03.5278190+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c4fc5c7b17ce7e9f81a6a1b075b9b913","SpanId":"0ed7baee32d49913","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":19.0711,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.0711"}]}}
{"Timestamp":"2024-11-10T21:44:03.5293457+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c4fc5c7b17ce7e9f81a6a1b075b9b913","SpanId":"0ed7baee32d49913","Properties":{"ElapsedMilliseconds":23.4234,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUL9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUL9"}}
{"Timestamp":"2024-11-10T21:44:03.5322761+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9cc3213adf6bdb9abae93fbe5d663739","SpanId":"d7589c6e653a9a74","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OULA"}}
{"Timestamp":"2024-11-10T21:44:03.5354544+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9cc3213adf6bdb9abae93fbe5d663739","SpanId":"d7589c6e653a9a74","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OULA"}}
{"Timestamp":"2024-11-10T21:44:03.5364944+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9cc3213adf6bdb9abae93fbe5d663739","SpanId":"d7589c6e653a9a74","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c4e19e87-d6eb-4030-ae87-56bce24c4ac0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81IMO9OULA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OULA"}}
{"Timestamp":"2024-11-10T21:44:03.5448670+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9cc3213adf6bdb9abae93fbe5d663739","SpanId":"d7589c6e653a9a74","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c4e19e87-d6eb-4030-ae87-56bce24c4ac0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81IMO9OULA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OULA"}}
{"Timestamp":"2024-11-10T21:44:03.5497042+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9cc3213adf6bdb9abae93fbe5d663739","SpanId":"d7589c6e653a9a74","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c4e19e87-d6eb-4030-ae87-56bce24c4ac0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81IMO9OULA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OULA"}}
{"Timestamp":"2024-11-10T21:44:03.5514167+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9cc3213adf6bdb9abae93fbe5d663739","SpanId":"d7589c6e653a9a74","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c4e19e87-d6eb-4030-ae87-56bce24c4ac0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81IMO9OULA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OULA"}}
{"Timestamp":"2024-11-10T21:44:03.5529638+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9cc3213adf6bdb9abae93fbe5d663739","SpanId":"d7589c6e653a9a74","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":14.0973,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OULA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OULA"}}
{"Timestamp":"2024-11-10T21:44:03.5540341+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9cc3213adf6bdb9abae93fbe5d663739","SpanId":"d7589c6e653a9a74","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OULA"}}
{"Timestamp":"2024-11-10T21:44:03.5556181+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9cc3213adf6bdb9abae93fbe5d663739","SpanId":"d7589c6e653a9a74","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":20.3539,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.3539"}]}}
{"Timestamp":"2024-11-10T21:44:03.5576368+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9cc3213adf6bdb9abae93fbe5d663739","SpanId":"d7589c6e653a9a74","Properties":{"ElapsedMilliseconds":25.3961,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OULA"}}
{"Timestamp":"2024-11-10T21:44:04.8776630+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f87f205c9c99fbddc8f1e0793c13e80e","SpanId":"a415bfbd7af224ba","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULB"}}
{"Timestamp":"2024-11-10T21:44:04.8805488+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f87f205c9c99fbddc8f1e0793c13e80e","SpanId":"a415bfbd7af224ba","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULB"}}
{"Timestamp":"2024-11-10T21:44:04.8974518+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f87f205c9c99fbddc8f1e0793c13e80e","SpanId":"a415bfbd7af224ba","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULB"}}
{"Timestamp":"2024-11-10T21:44:04.9069625+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f87f205c9c99fbddc8f1e0793c13e80e","SpanId":"a415bfbd7af224ba","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULB"}}
{"Timestamp":"2024-11-10T21:44:04.9115253+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f87f205c9c99fbddc8f1e0793c13e80e","SpanId":"a415bfbd7af224ba","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULB"}}
{"Timestamp":"2024-11-10T21:44:04.9145288+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f87f205c9c99fbddc8f1e0793c13e80e","SpanId":"a415bfbd7af224ba","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULB"}}
{"Timestamp":"2024-11-10T21:44:04.9164254+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f87f205c9c99fbddc8f1e0793c13e80e","SpanId":"a415bfbd7af224ba","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.3241,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OULB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULB"}}
{"Timestamp":"2024-11-10T21:44:04.9177130+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f87f205c9c99fbddc8f1e0793c13e80e","SpanId":"a415bfbd7af224ba","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULB"}}
{"Timestamp":"2024-11-10T21:44:04.9189620+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f87f205c9c99fbddc8f1e0793c13e80e","SpanId":"a415bfbd7af224ba","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":38.5856,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"38.5856"}]}}
{"Timestamp":"2024-11-10T21:44:04.9207873+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f87f205c9c99fbddc8f1e0793c13e80e","SpanId":"a415bfbd7af224ba","Properties":{"ElapsedMilliseconds":43.1441,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULB"}}
{"Timestamp":"2024-11-10T21:44:04.9236866+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"766477e97330999094afb78a083dd9df","SpanId":"5e9e75499d1dda88","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2229","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULC:00000001","RequestPath":"/api/Schedules/2229","ConnectionId":"0HN81IMO9OULC"}}
{"Timestamp":"2024-11-10T21:44:04.9295161+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"766477e97330999094afb78a083dd9df","SpanId":"5e9e75499d1dda88","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULC:00000001","RequestPath":"/api/Schedules/2229","ConnectionId":"0HN81IMO9OULC"}}
{"Timestamp":"2024-11-10T21:44:04.9308832+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"766477e97330999094afb78a083dd9df","SpanId":"5e9e75499d1dda88","Properties":{"RouteData":"{action = \"Delete\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"55e23e45-3560-4b1a-a38c-d0f5bbb1b569","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81IMO9OULC:00000001","RequestPath":"/api/Schedules/2229","ConnectionId":"0HN81IMO9OULC"}}
{"Timestamp":"2024-11-10T21:44:04.9365486+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"766477e97330999094afb78a083dd9df","SpanId":"5e9e75499d1dda88","Properties":{"elapsed":"2","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e23e45-3560-4b1a-a38c-d0f5bbb1b569","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81IMO9OULC:00000001","RequestPath":"/api/Schedules/2229","ConnectionId":"0HN81IMO9OULC"}}
{"Timestamp":"2024-11-10T21:44:04.9419723+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"766477e97330999094afb78a083dd9df","SpanId":"5e9e75499d1dda88","Properties":{"elapsed":"2","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[user_id], [s].[schedule_id], [s].[id]\r\nFROM [Schedule_User] AS [s]\r\nWHERE [s].[schedule_id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e23e45-3560-4b1a-a38c-d0f5bbb1b569","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81IMO9OULC:00000001","RequestPath":"/api/Schedules/2229","ConnectionId":"0HN81IMO9OULC"}}
{"Timestamp":"2024-11-10T21:44:04.9505247+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"766477e97330999094afb78a083dd9df","SpanId":"5e9e75499d1dda88","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [Schedule_User]\r\nOUTPUT 1\r\nWHERE [schedule_id] = @p0 AND [user_id] = @p1;\r\nDELETE FROM [Schedules]\r\nOUTPUT 1\r\nWHERE [Id] = @p2;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e23e45-3560-4b1a-a38c-d0f5bbb1b569","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81IMO9OULC:00000001","RequestPath":"/api/Schedules/2229","ConnectionId":"0HN81IMO9OULC"}}
{"Timestamp":"2024-11-10T21:44:04.9540973+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"766477e97330999094afb78a083dd9df","SpanId":"5e9e75499d1dda88","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"55e23e45-3560-4b1a-a38c-d0f5bbb1b569","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81IMO9OULC:00000001","RequestPath":"/api/Schedules/2229","ConnectionId":"0HN81IMO9OULC"}}
{"Timestamp":"2024-11-10T21:44:04.9553825+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"766477e97330999094afb78a083dd9df","SpanId":"5e9e75499d1dda88","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","ElapsedMilliseconds":22.1663,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OULC:00000001","RequestPath":"/api/Schedules/2229","ConnectionId":"0HN81IMO9OULC"}}
{"Timestamp":"2024-11-10T21:44:04.9576010+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"766477e97330999094afb78a083dd9df","SpanId":"5e9e75499d1dda88","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULC:00000001","RequestPath":"/api/Schedules/2229","ConnectionId":"0HN81IMO9OULC"}}
{"Timestamp":"2024-11-10T21:44:04.9591643+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"766477e97330999094afb78a083dd9df","SpanId":"5e9e75499d1dda88","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/Schedules/2229","StatusCode":200,"Elapsed":29.697,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.6970"}]}}
{"Timestamp":"2024-11-10T21:44:04.9612161+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"766477e97330999094afb78a083dd9df","SpanId":"5e9e75499d1dda88","Properties":{"ElapsedMilliseconds":37.6589,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2229","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULC:00000001","RequestPath":"/api/Schedules/2229","ConnectionId":"0HN81IMO9OULC"}}
{"Timestamp":"2024-11-10T21:44:06.7159408+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2636cbd7776702dea5150af7faede8da","SpanId":"d3a127be9b6d5b13","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULD"}}
{"Timestamp":"2024-11-10T21:44:06.7182095+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2636cbd7776702dea5150af7faede8da","SpanId":"d3a127be9b6d5b13","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULD"}}
{"Timestamp":"2024-11-10T21:44:06.7194544+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2636cbd7776702dea5150af7faede8da","SpanId":"d3a127be9b6d5b13","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULD"}}
{"Timestamp":"2024-11-10T21:44:06.7315567+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2636cbd7776702dea5150af7faede8da","SpanId":"d3a127be9b6d5b13","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULD"}}
{"Timestamp":"2024-11-10T21:44:06.7360385+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2636cbd7776702dea5150af7faede8da","SpanId":"d3a127be9b6d5b13","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULD"}}
{"Timestamp":"2024-11-10T21:44:06.7390760+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2636cbd7776702dea5150af7faede8da","SpanId":"d3a127be9b6d5b13","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULD"}}
{"Timestamp":"2024-11-10T21:44:06.7402709+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2636cbd7776702dea5150af7faede8da","SpanId":"d3a127be9b6d5b13","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":18.3417,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OULD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULD"}}
{"Timestamp":"2024-11-10T21:44:06.7420047+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2636cbd7776702dea5150af7faede8da","SpanId":"d3a127be9b6d5b13","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULD"}}
{"Timestamp":"2024-11-10T21:44:06.7426681+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2636cbd7776702dea5150af7faede8da","SpanId":"d3a127be9b6d5b13","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":24.6276,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.6276"}]}}
{"Timestamp":"2024-11-10T21:44:06.7439200+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2636cbd7776702dea5150af7faede8da","SpanId":"d3a127be9b6d5b13","Properties":{"ElapsedMilliseconds":27.9867,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULD"}}
{"Timestamp":"2024-11-10T21:44:06.7466054+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"604f4f874cc92db9258d6ebee997c19d","SpanId":"3a9a685dd1183278","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OULE"}}
{"Timestamp":"2024-11-10T21:44:06.7494288+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"604f4f874cc92db9258d6ebee997c19d","SpanId":"3a9a685dd1183278","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OULE"}}
{"Timestamp":"2024-11-10T21:44:06.7503594+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"604f4f874cc92db9258d6ebee997c19d","SpanId":"3a9a685dd1183278","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OULE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OULE"}}
{"Timestamp":"2024-11-10T21:44:06.7615599+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"604f4f874cc92db9258d6ebee997c19d","SpanId":"3a9a685dd1183278","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OULE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OULE"}}
{"Timestamp":"2024-11-10T21:44:06.7647748+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"604f4f874cc92db9258d6ebee997c19d","SpanId":"3a9a685dd1183278","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OULE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OULE"}}
{"Timestamp":"2024-11-10T21:44:06.7661693+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"604f4f874cc92db9258d6ebee997c19d","SpanId":"3a9a685dd1183278","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":14.0832,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OULE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OULE"}}
{"Timestamp":"2024-11-10T21:44:06.7672593+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"604f4f874cc92db9258d6ebee997c19d","SpanId":"3a9a685dd1183278","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OULE"}}
{"Timestamp":"2024-11-10T21:44:06.7681267+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"604f4f874cc92db9258d6ebee997c19d","SpanId":"3a9a685dd1183278","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":19.0305,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.0305"}]}}
{"Timestamp":"2024-11-10T21:44:06.7697671+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"604f4f874cc92db9258d6ebee997c19d","SpanId":"3a9a685dd1183278","Properties":{"ElapsedMilliseconds":23.1829,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OULE"}}
{"Timestamp":"2024-11-10T21:44:16.4494842+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"50b697328dba000d2970e4422307272a","SpanId":"31fb4bcf607cb627","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULF"}}
{"Timestamp":"2024-11-10T21:44:16.4535630+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"50b697328dba000d2970e4422307272a","SpanId":"31fb4bcf607cb627","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULF"}}
{"Timestamp":"2024-11-10T21:44:16.4547610+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"50b697328dba000d2970e4422307272a","SpanId":"31fb4bcf607cb627","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULF"}}
{"Timestamp":"2024-11-10T21:44:16.4666420+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"50b697328dba000d2970e4422307272a","SpanId":"31fb4bcf607cb627","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULF"}}
{"Timestamp":"2024-11-10T21:44:16.4716174+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"50b697328dba000d2970e4422307272a","SpanId":"31fb4bcf607cb627","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULF"}}
{"Timestamp":"2024-11-10T21:44:16.4747265+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"50b697328dba000d2970e4422307272a","SpanId":"31fb4bcf607cb627","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULF"}}
{"Timestamp":"2024-11-10T21:44:16.4761340+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"50b697328dba000d2970e4422307272a","SpanId":"31fb4bcf607cb627","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":19.0842,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OULF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULF"}}
{"Timestamp":"2024-11-10T21:44:16.4773226+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"50b697328dba000d2970e4422307272a","SpanId":"31fb4bcf607cb627","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULF"}}
{"Timestamp":"2024-11-10T21:44:16.4786660+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"50b697328dba000d2970e4422307272a","SpanId":"31fb4bcf607cb627","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":25.1451,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.1451"}]}}
{"Timestamp":"2024-11-10T21:44:16.4806070+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"50b697328dba000d2970e4422307272a","SpanId":"31fb4bcf607cb627","Properties":{"ElapsedMilliseconds":31.2417,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULF"}}
{"Timestamp":"2024-11-10T21:45:56.5212861+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"69bfa83cffeaa56a7a03e00b783b3cfa","SpanId":"f667c1f51771ba19","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULG"}}
{"Timestamp":"2024-11-10T21:45:56.5290832+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"69bfa83cffeaa56a7a03e00b783b3cfa","SpanId":"f667c1f51771ba19","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULG"}}
{"Timestamp":"2024-11-10T21:45:56.5301394+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"69bfa83cffeaa56a7a03e00b783b3cfa","SpanId":"f667c1f51771ba19","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OULG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULG"}}
{"Timestamp":"2024-11-10T21:45:56.5492260+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"69bfa83cffeaa56a7a03e00b783b3cfa","SpanId":"f667c1f51771ba19","Properties":{"elapsed":"12","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OULG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULG"}}
{"Timestamp":"2024-11-10T21:45:56.5566927+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"69bfa83cffeaa56a7a03e00b783b3cfa","SpanId":"f667c1f51771ba19","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OULG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULG"}}
{"Timestamp":"2024-11-10T21:45:56.5591963+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"69bfa83cffeaa56a7a03e00b783b3cfa","SpanId":"f667c1f51771ba19","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OULG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULG"}}
{"Timestamp":"2024-11-10T21:45:56.5602651+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"69bfa83cffeaa56a7a03e00b783b3cfa","SpanId":"f667c1f51771ba19","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":28.4411,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OULG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULG"}}
{"Timestamp":"2024-11-10T21:45:56.5619628+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"69bfa83cffeaa56a7a03e00b783b3cfa","SpanId":"f667c1f51771ba19","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULG"}}
{"Timestamp":"2024-11-10T21:45:56.5628295+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"69bfa83cffeaa56a7a03e00b783b3cfa","SpanId":"f667c1f51771ba19","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":33.8153,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.8153"}]}}
{"Timestamp":"2024-11-10T21:45:56.5652727+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"69bfa83cffeaa56a7a03e00b783b3cfa","SpanId":"f667c1f51771ba19","Properties":{"ElapsedMilliseconds":44.0392,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULG"}}
{"Timestamp":"2024-11-10T21:46:01.5500186+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d7dc35e99d364fb963841fb05cc19a7e","SpanId":"f3bc57c63110837f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULH"}}
{"Timestamp":"2024-11-10T21:46:01.5541329+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d7dc35e99d364fb963841fb05cc19a7e","SpanId":"f3bc57c63110837f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULH"}}
{"Timestamp":"2024-11-10T21:46:01.5553502+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d7dc35e99d364fb963841fb05cc19a7e","SpanId":"f3bc57c63110837f","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULH"}}
{"Timestamp":"2024-11-10T21:46:01.5643880+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d7dc35e99d364fb963841fb05cc19a7e","SpanId":"f3bc57c63110837f","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULH"}}
{"Timestamp":"2024-11-10T21:46:01.5703091+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d7dc35e99d364fb963841fb05cc19a7e","SpanId":"f3bc57c63110837f","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULH"}}
{"Timestamp":"2024-11-10T21:46:01.5736250+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d7dc35e99d364fb963841fb05cc19a7e","SpanId":"f3bc57c63110837f","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULH"}}
{"Timestamp":"2024-11-10T21:46:01.5743389+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d7dc35e99d364fb963841fb05cc19a7e","SpanId":"f3bc57c63110837f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.8855,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OULH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULH"}}
{"Timestamp":"2024-11-10T21:46:01.5750955+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d7dc35e99d364fb963841fb05cc19a7e","SpanId":"f3bc57c63110837f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULH"}}
{"Timestamp":"2024-11-10T21:46:01.5756050+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d7dc35e99d364fb963841fb05cc19a7e","SpanId":"f3bc57c63110837f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":21.7243,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.7243"}]}}
{"Timestamp":"2024-11-10T21:46:01.5766973+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d7dc35e99d364fb963841fb05cc19a7e","SpanId":"f3bc57c63110837f","Properties":{"ElapsedMilliseconds":26.7197,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULH"}}
{"Timestamp":"2024-11-10T21:46:04.5924542+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6fe437140e32c41d86d7c65bf41ac193","SpanId":"721978a69de9447e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULI"}}
{"Timestamp":"2024-11-10T21:46:04.5946688+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6fe437140e32c41d86d7c65bf41ac193","SpanId":"721978a69de9447e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULI"}}
{"Timestamp":"2024-11-10T21:46:04.5958116+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6fe437140e32c41d86d7c65bf41ac193","SpanId":"721978a69de9447e","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULI"}}
{"Timestamp":"2024-11-10T21:46:04.6048545+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6fe437140e32c41d86d7c65bf41ac193","SpanId":"721978a69de9447e","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULI"}}
{"Timestamp":"2024-11-10T21:46:04.6089542+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6fe437140e32c41d86d7c65bf41ac193","SpanId":"721978a69de9447e","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULI"}}
{"Timestamp":"2024-11-10T21:46:04.6110628+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6fe437140e32c41d86d7c65bf41ac193","SpanId":"721978a69de9447e","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULI"}}
{"Timestamp":"2024-11-10T21:46:04.6122780+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6fe437140e32c41d86d7c65bf41ac193","SpanId":"721978a69de9447e","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.0064,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OULI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULI"}}
{"Timestamp":"2024-11-10T21:46:04.6133221+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6fe437140e32c41d86d7c65bf41ac193","SpanId":"721978a69de9447e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULI"}}
{"Timestamp":"2024-11-10T21:46:04.6147071+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6fe437140e32c41d86d7c65bf41ac193","SpanId":"721978a69de9447e","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":20.0739,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.0739"}]}}
{"Timestamp":"2024-11-10T21:46:04.6162259+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6fe437140e32c41d86d7c65bf41ac193","SpanId":"721978a69de9447e","Properties":{"ElapsedMilliseconds":23.7792,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULI"}}
{"Timestamp":"2024-11-10T21:46:04.6271134+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"af9ce36e3b96b8185ff536f74c9f396d","SpanId":"faa75d7df0e9f96c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OULJ"}}
{"Timestamp":"2024-11-10T21:46:04.6295658+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ef3b247f2b37f9ec64f45e7ec46ada44","SpanId":"ad907cad067729e0","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OULK"}}
{"Timestamp":"2024-11-10T21:46:04.6312590+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"af9ce36e3b96b8185ff536f74c9f396d","SpanId":"faa75d7df0e9f96c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OULJ"}}
{"Timestamp":"2024-11-10T21:46:04.6348174+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"af9ce36e3b96b8185ff536f74c9f396d","SpanId":"faa75d7df0e9f96c","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OULJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OULJ"}}
{"Timestamp":"2024-11-10T21:46:04.6331991+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ef3b247f2b37f9ec64f45e7ec46ada44","SpanId":"ad907cad067729e0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OULK"}}
{"Timestamp":"2024-11-10T21:46:04.6393904+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ef3b247f2b37f9ec64f45e7ec46ada44","SpanId":"ad907cad067729e0","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OULK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OULK"}}
{"Timestamp":"2024-11-10T21:46:04.6514844+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"af9ce36e3b96b8185ff536f74c9f396d","SpanId":"faa75d7df0e9f96c","Properties":{"elapsed":"12","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OULJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OULJ"}}
{"Timestamp":"2024-11-10T21:46:04.6534712+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ef3b247f2b37f9ec64f45e7ec46ada44","SpanId":"ad907cad067729e0","Properties":{"elapsed":"10","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OULK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OULK"}}
{"Timestamp":"2024-11-10T21:46:04.6538016+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"af9ce36e3b96b8185ff536f74c9f396d","SpanId":"faa75d7df0e9f96c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OULJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OULJ"}}
{"Timestamp":"2024-11-10T21:46:04.6557163+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ef3b247f2b37f9ec64f45e7ec46ada44","SpanId":"ad907cad067729e0","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OULK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OULK"}}
{"Timestamp":"2024-11-10T21:46:04.6572576+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"af9ce36e3b96b8185ff536f74c9f396d","SpanId":"faa75d7df0e9f96c","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":19.6794,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OULJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OULJ"}}
{"Timestamp":"2024-11-10T21:46:04.6583864+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ef3b247f2b37f9ec64f45e7ec46ada44","SpanId":"ad907cad067729e0","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":16.8508,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OULK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OULK"}}
{"Timestamp":"2024-11-10T21:46:04.6598181+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"af9ce36e3b96b8185ff536f74c9f396d","SpanId":"faa75d7df0e9f96c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OULJ"}}
{"Timestamp":"2024-11-10T21:46:04.6614321+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ef3b247f2b37f9ec64f45e7ec46ada44","SpanId":"ad907cad067729e0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OULK"}}
{"Timestamp":"2024-11-10T21:46:04.6626091+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"af9ce36e3b96b8185ff536f74c9f396d","SpanId":"faa75d7df0e9f96c","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":31.8918,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"31.8918"}]}}
{"Timestamp":"2024-11-10T21:46:04.6637215+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ef3b247f2b37f9ec64f45e7ec46ada44","SpanId":"ad907cad067729e0","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":30.8679,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.8679"}]}}
{"Timestamp":"2024-11-10T21:46:04.6651065+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"af9ce36e3b96b8185ff536f74c9f396d","SpanId":"faa75d7df0e9f96c","Properties":{"ElapsedMilliseconds":38.0207,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OULJ"}}
{"Timestamp":"2024-11-10T21:46:04.6661265+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ef3b247f2b37f9ec64f45e7ec46ada44","SpanId":"ad907cad067729e0","Properties":{"ElapsedMilliseconds":36.575,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OULK"}}
{"Timestamp":"2024-11-10T21:46:10.4984890+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"18fbfcd91d682322c38c26f598bb9a89","SpanId":"95c77915a7962ede","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULL"}}
{"Timestamp":"2024-11-10T21:46:10.5090840+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"18fbfcd91d682322c38c26f598bb9a89","SpanId":"95c77915a7962ede","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULL"}}
{"Timestamp":"2024-11-10T21:46:10.5105098+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"18fbfcd91d682322c38c26f598bb9a89","SpanId":"95c77915a7962ede","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULL"}}
{"Timestamp":"2024-11-10T21:46:10.5187798+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"18fbfcd91d682322c38c26f598bb9a89","SpanId":"95c77915a7962ede","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULL"}}
{"Timestamp":"2024-11-10T21:46:10.5230420+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"18fbfcd91d682322c38c26f598bb9a89","SpanId":"95c77915a7962ede","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULL"}}
{"Timestamp":"2024-11-10T21:46:10.5246243+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"18fbfcd91d682322c38c26f598bb9a89","SpanId":"95c77915a7962ede","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULL"}}
{"Timestamp":"2024-11-10T21:46:10.5255555+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"18fbfcd91d682322c38c26f598bb9a89","SpanId":"95c77915a7962ede","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.3333,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OULL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULL"}}
{"Timestamp":"2024-11-10T21:46:10.5263344+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"18fbfcd91d682322c38c26f598bb9a89","SpanId":"95c77915a7962ede","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULL"}}
{"Timestamp":"2024-11-10T21:46:10.5277441+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"18fbfcd91d682322c38c26f598bb9a89","SpanId":"95c77915a7962ede","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":18.711,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.7110"}]}}
{"Timestamp":"2024-11-10T21:46:10.5295442+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"18fbfcd91d682322c38c26f598bb9a89","SpanId":"95c77915a7962ede","Properties":{"ElapsedMilliseconds":31.148,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULL"}}
{"Timestamp":"2024-11-10T21:46:10.5317218+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bb14178ab77c0bc4c1bf93266857afe8","SpanId":"7da2e71d018b7fe5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULM:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OULM"}}
{"Timestamp":"2024-11-10T21:46:10.5341208+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bb14178ab77c0bc4c1bf93266857afe8","SpanId":"7da2e71d018b7fe5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULM:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OULM"}}
{"Timestamp":"2024-11-10T21:46:10.5347929+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bb14178ab77c0bc4c1bf93266857afe8","SpanId":"7da2e71d018b7fe5","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OULM:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OULM"}}
{"Timestamp":"2024-11-10T21:46:10.5408581+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bb14178ab77c0bc4c1bf93266857afe8","SpanId":"7da2e71d018b7fe5","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OULM:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OULM"}}
{"Timestamp":"2024-11-10T21:46:10.5433502+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bb14178ab77c0bc4c1bf93266857afe8","SpanId":"7da2e71d018b7fe5","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OULM:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OULM"}}
{"Timestamp":"2024-11-10T21:46:10.5449515+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bb14178ab77c0bc4c1bf93266857afe8","SpanId":"7da2e71d018b7fe5","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":9.146,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OULM:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OULM"}}
{"Timestamp":"2024-11-10T21:46:10.5457511+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bb14178ab77c0bc4c1bf93266857afe8","SpanId":"7da2e71d018b7fe5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULM:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OULM"}}
{"Timestamp":"2024-11-10T21:46:10.5465745+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bb14178ab77c0bc4c1bf93266857afe8","SpanId":"7da2e71d018b7fe5","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":12.7669,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.7669"}]}}
{"Timestamp":"2024-11-10T21:46:10.5475662+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bb14178ab77c0bc4c1bf93266857afe8","SpanId":"7da2e71d018b7fe5","Properties":{"ElapsedMilliseconds":15.8987,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULM:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OULM"}}
{"Timestamp":"2024-11-10T21:46:10.5607916+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"86dc6bc3b9049226a4fa98a6039ed149","SpanId":"418787a97cb3c42d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULN"}}
{"Timestamp":"2024-11-10T21:46:10.5622061+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"86dc6bc3b9049226a4fa98a6039ed149","SpanId":"418787a97cb3c42d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULN"}}
{"Timestamp":"2024-11-10T21:46:10.5628835+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"86dc6bc3b9049226a4fa98a6039ed149","SpanId":"418787a97cb3c42d","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULN"}}
{"Timestamp":"2024-11-10T21:46:10.5664005+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"86dc6bc3b9049226a4fa98a6039ed149","SpanId":"418787a97cb3c42d","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULN"}}
{"Timestamp":"2024-11-10T21:46:10.5684877+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"86dc6bc3b9049226a4fa98a6039ed149","SpanId":"418787a97cb3c42d","Properties":{"elapsed":"0","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULN"}}
{"Timestamp":"2024-11-10T21:46:10.5711528+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"86dc6bc3b9049226a4fa98a6039ed149","SpanId":"418787a97cb3c42d","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULN"}}
{"Timestamp":"2024-11-10T21:46:10.5728209+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"86dc6bc3b9049226a4fa98a6039ed149","SpanId":"418787a97cb3c42d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":8.9329,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OULN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULN"}}
{"Timestamp":"2024-11-10T21:46:10.5741590+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"86dc6bc3b9049226a4fa98a6039ed149","SpanId":"418787a97cb3c42d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULN"}}
{"Timestamp":"2024-11-10T21:46:10.5747735+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"86dc6bc3b9049226a4fa98a6039ed149","SpanId":"418787a97cb3c42d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":12.6153,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.6153"}]}}
{"Timestamp":"2024-11-10T21:46:10.5758637+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"86dc6bc3b9049226a4fa98a6039ed149","SpanId":"418787a97cb3c42d","Properties":{"ElapsedMilliseconds":15.1286,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULN"}}
{"Timestamp":"2024-11-10T21:46:10.5791350+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e8f8b7ef820c1f024577669416b646c9","SpanId":"ac38be35295739b0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULO:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OULO"}}
{"Timestamp":"2024-11-10T21:46:10.5805598+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e8f8b7ef820c1f024577669416b646c9","SpanId":"ac38be35295739b0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULO:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OULO"}}
{"Timestamp":"2024-11-10T21:46:10.5814190+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e8f8b7ef820c1f024577669416b646c9","SpanId":"ac38be35295739b0","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c4e19e87-d6eb-4030-ae87-56bce24c4ac0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81IMO9OULO:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OULO"}}
{"Timestamp":"2024-11-10T21:46:10.5873172+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e8f8b7ef820c1f024577669416b646c9","SpanId":"ac38be35295739b0","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c4e19e87-d6eb-4030-ae87-56bce24c4ac0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81IMO9OULO:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OULO"}}
{"Timestamp":"2024-11-10T21:46:10.5918326+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e8f8b7ef820c1f024577669416b646c9","SpanId":"ac38be35295739b0","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c4e19e87-d6eb-4030-ae87-56bce24c4ac0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81IMO9OULO:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OULO"}}
{"Timestamp":"2024-11-10T21:46:10.5937390+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e8f8b7ef820c1f024577669416b646c9","SpanId":"ac38be35295739b0","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c4e19e87-d6eb-4030-ae87-56bce24c4ac0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81IMO9OULO:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OULO"}}
{"Timestamp":"2024-11-10T21:46:10.5954267+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e8f8b7ef820c1f024577669416b646c9","SpanId":"ac38be35295739b0","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":12.9176,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OULO:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OULO"}}
{"Timestamp":"2024-11-10T21:46:10.5971146+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e8f8b7ef820c1f024577669416b646c9","SpanId":"ac38be35295739b0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULO:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OULO"}}
{"Timestamp":"2024-11-10T21:46:10.5979306+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e8f8b7ef820c1f024577669416b646c9","SpanId":"ac38be35295739b0","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":17.5261,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.5261"}]}}
{"Timestamp":"2024-11-10T21:46:10.5989922+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e8f8b7ef820c1f024577669416b646c9","SpanId":"ac38be35295739b0","Properties":{"ElapsedMilliseconds":19.9222,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULO:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OULO"}}
{"Timestamp":"2024-11-10T21:47:40.9165142+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0559d7f3d1bd182aee5b603a165983f4","SpanId":"a133bd733f2bacf2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULP"}}
{"Timestamp":"2024-11-10T21:47:40.9271359+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0559d7f3d1bd182aee5b603a165983f4","SpanId":"a133bd733f2bacf2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULP"}}
{"Timestamp":"2024-11-10T21:47:40.9280011+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0559d7f3d1bd182aee5b603a165983f4","SpanId":"a133bd733f2bacf2","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULP"}}
{"Timestamp":"2024-11-10T21:47:40.9442140+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0559d7f3d1bd182aee5b603a165983f4","SpanId":"a133bd733f2bacf2","Properties":{"elapsed":"10","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULP"}}
{"Timestamp":"2024-11-10T21:47:40.9514260+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0559d7f3d1bd182aee5b603a165983f4","SpanId":"a133bd733f2bacf2","Properties":{"elapsed":"5","parameters":"@p7='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [ExpiredAt] = @p0, [IsRevoked] = @p1, [IsUsed] = @p2, [IssuedAt] = @p3, [JwtId] = @p4, [Token] = @p5, [userId] = @p6\r\nOUTPUT 1\r\nWHERE [Id] = @p7;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULP"}}
{"Timestamp":"2024-11-10T21:47:40.9530078+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0559d7f3d1bd182aee5b603a165983f4","SpanId":"a133bd733f2bacf2","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULP"}}
{"Timestamp":"2024-11-10T21:47:40.9540388+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0559d7f3d1bd182aee5b603a165983f4","SpanId":"a133bd733f2bacf2","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":24.8002,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OULP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULP"}}
{"Timestamp":"2024-11-10T21:47:40.9557121+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0559d7f3d1bd182aee5b603a165983f4","SpanId":"a133bd733f2bacf2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULP"}}
{"Timestamp":"2024-11-10T21:47:40.9564662+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0559d7f3d1bd182aee5b603a165983f4","SpanId":"a133bd733f2bacf2","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":29.4231,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.4231"}]}}
{"Timestamp":"2024-11-10T21:47:40.9576294+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0559d7f3d1bd182aee5b603a165983f4","SpanId":"a133bd733f2bacf2","Properties":{"ElapsedMilliseconds":41.2777,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULP"}}
{"Timestamp":"2024-11-10T21:48:27.1301244+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dc98590c730a94f51ac32877809d35f8","SpanId":"f31665db4750e18e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULQ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULQ"}}
{"Timestamp":"2024-11-10T21:48:27.1381644+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"dc98590c730a94f51ac32877809d35f8","SpanId":"f31665db4750e18e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULQ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULQ"}}
{"Timestamp":"2024-11-10T21:48:27.1393341+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"dc98590c730a94f51ac32877809d35f8","SpanId":"f31665db4750e18e","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OULQ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULQ"}}
{"Timestamp":"2024-11-10T21:48:27.1579275+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dc98590c730a94f51ac32877809d35f8","SpanId":"f31665db4750e18e","Properties":{"elapsed":"12","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OULQ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULQ"}}
{"Timestamp":"2024-11-10T21:48:27.1682670+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dc98590c730a94f51ac32877809d35f8","SpanId":"f31665db4750e18e","Properties":{"elapsed":"7","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OULQ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULQ"}}
{"Timestamp":"2024-11-10T21:48:27.1717785+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"dc98590c730a94f51ac32877809d35f8","SpanId":"f31665db4750e18e","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OULQ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULQ"}}
{"Timestamp":"2024-11-10T21:48:27.1734281+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"dc98590c730a94f51ac32877809d35f8","SpanId":"f31665db4750e18e","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":31.4923,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OULQ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULQ"}}
{"Timestamp":"2024-11-10T21:48:27.1751893+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"dc98590c730a94f51ac32877809d35f8","SpanId":"f31665db4750e18e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULQ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULQ"}}
{"Timestamp":"2024-11-10T21:48:27.1772478+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"dc98590c730a94f51ac32877809d35f8","SpanId":"f31665db4750e18e","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":39.1784,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"39.1784"}]}}
{"Timestamp":"2024-11-10T21:48:27.1789764+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dc98590c730a94f51ac32877809d35f8","SpanId":"f31665db4750e18e","Properties":{"ElapsedMilliseconds":48.8749,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULQ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULQ"}}
{"Timestamp":"2024-11-10T21:48:33.9338850+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"58db765799deab69b8c49cfb19071722","SpanId":"13bf9810e3e1503f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULR"}}
{"Timestamp":"2024-11-10T21:48:33.9369439+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"58db765799deab69b8c49cfb19071722","SpanId":"13bf9810e3e1503f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULR"}}
{"Timestamp":"2024-11-10T21:48:33.9387317+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"58db765799deab69b8c49cfb19071722","SpanId":"13bf9810e3e1503f","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULR"}}
{"Timestamp":"2024-11-10T21:48:33.9560890+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"58db765799deab69b8c49cfb19071722","SpanId":"13bf9810e3e1503f","Properties":{"elapsed":"10","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULR"}}
{"Timestamp":"2024-11-10T21:48:33.9644973+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"58db765799deab69b8c49cfb19071722","SpanId":"13bf9810e3e1503f","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULR"}}
{"Timestamp":"2024-11-10T21:48:33.9663667+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"58db765799deab69b8c49cfb19071722","SpanId":"13bf9810e3e1503f","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULR"}}
{"Timestamp":"2024-11-10T21:48:33.9676959+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"58db765799deab69b8c49cfb19071722","SpanId":"13bf9810e3e1503f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":27.0109,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OULR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULR"}}
{"Timestamp":"2024-11-10T21:48:33.9686909+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"58db765799deab69b8c49cfb19071722","SpanId":"13bf9810e3e1503f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULR"}}
{"Timestamp":"2024-11-10T21:48:33.9699676+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"58db765799deab69b8c49cfb19071722","SpanId":"13bf9810e3e1503f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":33.1725,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.1725"}]}}
{"Timestamp":"2024-11-10T21:48:33.9721854+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"58db765799deab69b8c49cfb19071722","SpanId":"13bf9810e3e1503f","Properties":{"ElapsedMilliseconds":38.341,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULR"}}
{"Timestamp":"2024-11-10T21:48:44.8395847+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"809f580f611c55a261135f500579167c","SpanId":"6c9a3d61d1bd7806","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULS"}}
{"Timestamp":"2024-11-10T21:48:44.8524360+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"809f580f611c55a261135f500579167c","SpanId":"6c9a3d61d1bd7806","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULS"}}
{"Timestamp":"2024-11-10T21:48:44.8533561+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"809f580f611c55a261135f500579167c","SpanId":"6c9a3d61d1bd7806","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OULS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULS"}}
{"Timestamp":"2024-11-10T21:48:44.8620388+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"809f580f611c55a261135f500579167c","SpanId":"6c9a3d61d1bd7806","Properties":{"elapsed":"2","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OULS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULS"}}
{"Timestamp":"2024-11-10T21:48:44.8685697+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"809f580f611c55a261135f500579167c","SpanId":"6c9a3d61d1bd7806","Properties":{"elapsed":"4","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OULS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULS"}}
{"Timestamp":"2024-11-10T21:48:44.8698440+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"809f580f611c55a261135f500579167c","SpanId":"6c9a3d61d1bd7806","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OULS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULS"}}
{"Timestamp":"2024-11-10T21:48:44.8704567+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"809f580f611c55a261135f500579167c","SpanId":"6c9a3d61d1bd7806","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":15.583,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OULS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULS"}}
{"Timestamp":"2024-11-10T21:48:44.8711682+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"809f580f611c55a261135f500579167c","SpanId":"6c9a3d61d1bd7806","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULS"}}
{"Timestamp":"2024-11-10T21:48:44.8717267+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"809f580f611c55a261135f500579167c","SpanId":"6c9a3d61d1bd7806","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":19.3485,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.3485"}]}}
{"Timestamp":"2024-11-10T21:48:44.8728018+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"809f580f611c55a261135f500579167c","SpanId":"6c9a3d61d1bd7806","Properties":{"ElapsedMilliseconds":33.2545,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULS"}}
{"Timestamp":"2024-11-10T21:51:43.1200743+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b3c4bec3e6c427a468f669199741f06d","SpanId":"3b37aa598c8fa193","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULT"}}
{"Timestamp":"2024-11-10T21:51:43.1302632+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b3c4bec3e6c427a468f669199741f06d","SpanId":"3b37aa598c8fa193","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULT"}}
{"Timestamp":"2024-11-10T21:51:43.1320181+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b3c4bec3e6c427a468f669199741f06d","SpanId":"3b37aa598c8fa193","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULT"}}
{"Timestamp":"2024-11-10T21:51:43.1581553+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b3c4bec3e6c427a468f669199741f06d","SpanId":"3b37aa598c8fa193","Properties":{"elapsed":"14","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULT"}}
{"Timestamp":"2024-11-10T21:51:43.1673041+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b3c4bec3e6c427a468f669199741f06d","SpanId":"3b37aa598c8fa193","Properties":{"elapsed":"6","parameters":"@p7='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [ExpiredAt] = @p0, [IsRevoked] = @p1, [IsUsed] = @p2, [IssuedAt] = @p3, [JwtId] = @p4, [Token] = @p5, [userId] = @p6\r\nOUTPUT 1\r\nWHERE [Id] = @p7;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULT"}}
{"Timestamp":"2024-11-10T21:51:43.1689544+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b3c4bec3e6c427a468f669199741f06d","SpanId":"3b37aa598c8fa193","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULT"}}
{"Timestamp":"2024-11-10T21:51:43.1708778+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b3c4bec3e6c427a468f669199741f06d","SpanId":"3b37aa598c8fa193","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":36.2859,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OULT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULT"}}
{"Timestamp":"2024-11-10T21:51:43.1719367+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b3c4bec3e6c427a468f669199741f06d","SpanId":"3b37aa598c8fa193","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULT"}}
{"Timestamp":"2024-11-10T21:51:43.1724815+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b3c4bec3e6c427a468f669199741f06d","SpanId":"3b37aa598c8fa193","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":42.4096,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"42.4096"}]}}
{"Timestamp":"2024-11-10T21:51:43.1734359+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b3c4bec3e6c427a468f669199741f06d","SpanId":"3b37aa598c8fa193","Properties":{"ElapsedMilliseconds":53.4286,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULT"}}
{"Timestamp":"2024-11-10T21:51:53.8975625+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8dcbf14f409ed6992731594e86599563","SpanId":"273ae672913e6f55","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULU"}}
{"Timestamp":"2024-11-10T21:51:53.9005433+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8dcbf14f409ed6992731594e86599563","SpanId":"273ae672913e6f55","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULU"}}
{"Timestamp":"2024-11-10T21:51:53.9018573+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8dcbf14f409ed6992731594e86599563","SpanId":"273ae672913e6f55","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OULU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULU"}}
{"Timestamp":"2024-11-10T21:51:53.9100889+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8dcbf14f409ed6992731594e86599563","SpanId":"273ae672913e6f55","Properties":{"elapsed":"2","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OULU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULU"}}
{"Timestamp":"2024-11-10T21:51:53.9143666+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8dcbf14f409ed6992731594e86599563","SpanId":"273ae672913e6f55","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OULU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULU"}}
{"Timestamp":"2024-11-10T21:51:53.9163004+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8dcbf14f409ed6992731594e86599563","SpanId":"273ae672913e6f55","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OULU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULU"}}
{"Timestamp":"2024-11-10T21:51:53.9173092+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8dcbf14f409ed6992731594e86599563","SpanId":"273ae672913e6f55","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":13.5192,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OULU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULU"}}
{"Timestamp":"2024-11-10T21:51:53.9185501+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8dcbf14f409ed6992731594e86599563","SpanId":"273ae672913e6f55","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULU"}}
{"Timestamp":"2024-11-10T21:51:53.9199124+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8dcbf14f409ed6992731594e86599563","SpanId":"273ae672913e6f55","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":19.5755,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.5755"}]}}
{"Timestamp":"2024-11-10T21:51:53.9212129+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8dcbf14f409ed6992731594e86599563","SpanId":"273ae672913e6f55","Properties":{"ElapsedMilliseconds":23.7205,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OULU"}}
{"Timestamp":"2024-11-10T21:51:58.5272082+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b6d374129b1061ea09d1085b88dca7b0","SpanId":"97b2864044e19283","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULV"}}
{"Timestamp":"2024-11-10T21:51:58.5306366+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b6d374129b1061ea09d1085b88dca7b0","SpanId":"97b2864044e19283","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULV"}}
{"Timestamp":"2024-11-10T21:51:58.5315330+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b6d374129b1061ea09d1085b88dca7b0","SpanId":"97b2864044e19283","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULV"}}
{"Timestamp":"2024-11-10T21:51:58.5395203+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b6d374129b1061ea09d1085b88dca7b0","SpanId":"97b2864044e19283","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULV"}}
{"Timestamp":"2024-11-10T21:51:58.5434896+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b6d374129b1061ea09d1085b88dca7b0","SpanId":"97b2864044e19283","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULV"}}
{"Timestamp":"2024-11-10T21:51:58.5450011+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b6d374129b1061ea09d1085b88dca7b0","SpanId":"97b2864044e19283","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OULV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULV"}}
{"Timestamp":"2024-11-10T21:51:58.5458825+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b6d374129b1061ea09d1085b88dca7b0","SpanId":"97b2864044e19283","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":12.8595,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OULV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULV"}}
{"Timestamp":"2024-11-10T21:51:58.5471142+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b6d374129b1061ea09d1085b88dca7b0","SpanId":"97b2864044e19283","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OULV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULV"}}
{"Timestamp":"2024-11-10T21:51:58.5478448+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b6d374129b1061ea09d1085b88dca7b0","SpanId":"97b2864044e19283","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":17.2623,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.2623"}]}}
{"Timestamp":"2024-11-10T21:51:58.5491792+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b6d374129b1061ea09d1085b88dca7b0","SpanId":"97b2864044e19283","Properties":{"ElapsedMilliseconds":22.1124,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OULV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OULV"}}
{"Timestamp":"2024-11-10T21:52:00.7460880+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"74ecd53bbaddf5b5b166c00d1648775f","SpanId":"0ecb80ba16c05dea","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUM0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM0"}}
{"Timestamp":"2024-11-10T21:52:00.7489127+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"74ecd53bbaddf5b5b166c00d1648775f","SpanId":"0ecb80ba16c05dea","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUM0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM0"}}
{"Timestamp":"2024-11-10T21:52:00.7501558+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"74ecd53bbaddf5b5b166c00d1648775f","SpanId":"0ecb80ba16c05dea","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUM0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM0"}}
{"Timestamp":"2024-11-10T21:52:00.7547306+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"74ecd53bbaddf5b5b166c00d1648775f","SpanId":"0ecb80ba16c05dea","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUM0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM0"}}
{"Timestamp":"2024-11-10T21:52:00.7577190+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"74ecd53bbaddf5b5b166c00d1648775f","SpanId":"0ecb80ba16c05dea","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUM0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM0"}}
{"Timestamp":"2024-11-10T21:52:00.7592135+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"74ecd53bbaddf5b5b166c00d1648775f","SpanId":"0ecb80ba16c05dea","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUM0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM0"}}
{"Timestamp":"2024-11-10T21:52:00.7601009+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"74ecd53bbaddf5b5b166c00d1648775f","SpanId":"0ecb80ba16c05dea","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":8.8111,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUM0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM0"}}
{"Timestamp":"2024-11-10T21:52:00.7612534+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"74ecd53bbaddf5b5b166c00d1648775f","SpanId":"0ecb80ba16c05dea","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUM0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM0"}}
{"Timestamp":"2024-11-10T21:52:00.7623301+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"74ecd53bbaddf5b5b166c00d1648775f","SpanId":"0ecb80ba16c05dea","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":13.4846,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.4846"}]}}
{"Timestamp":"2024-11-10T21:52:00.7645367+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"74ecd53bbaddf5b5b166c00d1648775f","SpanId":"0ecb80ba16c05dea","Properties":{"ElapsedMilliseconds":18.5116,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUM0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM0"}}
{"Timestamp":"2024-11-10T21:52:00.7789736+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"612149bada5ee9f3be32e6daf4a3a423","SpanId":"b4d76f3671016faa","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUM1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUM1"}}
{"Timestamp":"2024-11-10T21:52:00.7797804+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"de9c4097adc8bc819a33ea3fb4fc0f0f","SpanId":"0e24bb342d4af075","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUM2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUM2"}}
{"Timestamp":"2024-11-10T21:52:00.7820474+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"612149bada5ee9f3be32e6daf4a3a423","SpanId":"b4d76f3671016faa","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUM1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUM1"}}
{"Timestamp":"2024-11-10T21:52:00.7845698+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"de9c4097adc8bc819a33ea3fb4fc0f0f","SpanId":"0e24bb342d4af075","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUM2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUM2"}}
{"Timestamp":"2024-11-10T21:52:00.7849428+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"612149bada5ee9f3be32e6daf4a3a423","SpanId":"b4d76f3671016faa","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUM1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUM1"}}
{"Timestamp":"2024-11-10T21:52:00.7855861+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"de9c4097adc8bc819a33ea3fb4fc0f0f","SpanId":"0e24bb342d4af075","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUM2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUM2"}}
{"Timestamp":"2024-11-10T21:52:00.7984408+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"612149bada5ee9f3be32e6daf4a3a423","SpanId":"b4d76f3671016faa","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUM1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUM1"}}
{"Timestamp":"2024-11-10T21:52:00.8020421+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"612149bada5ee9f3be32e6daf4a3a423","SpanId":"b4d76f3671016faa","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUM1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUM1"}}
{"Timestamp":"2024-11-10T21:52:00.8037475+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"612149bada5ee9f3be32e6daf4a3a423","SpanId":"b4d76f3671016faa","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":16.2854,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUM1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUM1"}}
{"Timestamp":"2024-11-10T21:52:00.8054387+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"612149bada5ee9f3be32e6daf4a3a423","SpanId":"b4d76f3671016faa","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUM1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUM1"}}
{"Timestamp":"2024-11-10T21:52:00.8062492+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"612149bada5ee9f3be32e6daf4a3a423","SpanId":"b4d76f3671016faa","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":24.8041,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.8041"}]}}
{"Timestamp":"2024-11-10T21:52:00.8077130+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"612149bada5ee9f3be32e6daf4a3a423","SpanId":"b4d76f3671016faa","Properties":{"ElapsedMilliseconds":28.7665,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUM1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUM1"}}
{"Timestamp":"2024-11-10T21:52:00.8081320+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"de9c4097adc8bc819a33ea3fb4fc0f0f","SpanId":"0e24bb342d4af075","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUM2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUM2"}}
{"Timestamp":"2024-11-10T21:52:00.8133485+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"de9c4097adc8bc819a33ea3fb4fc0f0f","SpanId":"0e24bb342d4af075","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUM2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUM2"}}
{"Timestamp":"2024-11-10T21:52:00.8150500+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"de9c4097adc8bc819a33ea3fb4fc0f0f","SpanId":"0e24bb342d4af075","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":26.1903,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUM2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUM2"}}
{"Timestamp":"2024-11-10T21:52:00.8168575+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"de9c4097adc8bc819a33ea3fb4fc0f0f","SpanId":"0e24bb342d4af075","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUM2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUM2"}}
{"Timestamp":"2024-11-10T21:52:00.8175976+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"de9c4097adc8bc819a33ea3fb4fc0f0f","SpanId":"0e24bb342d4af075","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":33.218,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.2180"}]}}
{"Timestamp":"2024-11-10T21:52:00.8186389+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"de9c4097adc8bc819a33ea3fb4fc0f0f","SpanId":"0e24bb342d4af075","Properties":{"ElapsedMilliseconds":38.9612,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUM2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUM2"}}
{"Timestamp":"2024-11-10T21:54:43.1810266+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"271ee808bc7faff8d15018d118c63fe2","SpanId":"1485a73691f70486","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUM3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM3"}}
{"Timestamp":"2024-11-10T21:54:43.1886665+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"271ee808bc7faff8d15018d118c63fe2","SpanId":"1485a73691f70486","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUM3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM3"}}
{"Timestamp":"2024-11-10T21:54:43.1896799+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"271ee808bc7faff8d15018d118c63fe2","SpanId":"1485a73691f70486","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUM3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM3"}}
{"Timestamp":"2024-11-10T21:54:43.2103813+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"271ee808bc7faff8d15018d118c63fe2","SpanId":"1485a73691f70486","Properties":{"elapsed":"13","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUM3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM3"}}
{"Timestamp":"2024-11-10T21:54:43.2179708+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"271ee808bc7faff8d15018d118c63fe2","SpanId":"1485a73691f70486","Properties":{"elapsed":"5","parameters":"@p7='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [ExpiredAt] = @p0, [IsRevoked] = @p1, [IsUsed] = @p2, [IssuedAt] = @p3, [JwtId] = @p4, [Token] = @p5, [userId] = @p6\r\nOUTPUT 1\r\nWHERE [Id] = @p7;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUM3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM3"}}
{"Timestamp":"2024-11-10T21:54:43.2199375+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"271ee808bc7faff8d15018d118c63fe2","SpanId":"1485a73691f70486","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUM3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM3"}}
{"Timestamp":"2024-11-10T21:54:43.2212534+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"271ee808bc7faff8d15018d118c63fe2","SpanId":"1485a73691f70486","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":30.434,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUM3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM3"}}
{"Timestamp":"2024-11-10T21:54:43.2226081+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"271ee808bc7faff8d15018d118c63fe2","SpanId":"1485a73691f70486","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUM3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM3"}}
{"Timestamp":"2024-11-10T21:54:43.2232529+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"271ee808bc7faff8d15018d118c63fe2","SpanId":"1485a73691f70486","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":34.7543,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"34.7543"}]}}
{"Timestamp":"2024-11-10T21:54:43.2243961+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"271ee808bc7faff8d15018d118c63fe2","SpanId":"1485a73691f70486","Properties":{"ElapsedMilliseconds":43.4379,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUM3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM3"}}
{"Timestamp":"2024-11-10T21:56:11.4057771+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d72d7c9b307b6af05cb50a1da7976a98","SpanId":"c827a7affde71d39","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUM4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUM4"}}
{"Timestamp":"2024-11-10T21:56:11.4074507+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d72d7c9b307b6af05cb50a1da7976a98","SpanId":"c827a7affde71d39","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUM4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUM4"}}
{"Timestamp":"2024-11-10T21:56:11.4083667+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d72d7c9b307b6af05cb50a1da7976a98","SpanId":"c827a7affde71d39","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OUM4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUM4"}}
{"Timestamp":"2024-11-10T21:56:11.4242677+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d72d7c9b307b6af05cb50a1da7976a98","SpanId":"c827a7affde71d39","Properties":{"elapsed":"3","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OUM4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUM4"}}
{"Timestamp":"2024-11-10T21:56:11.4305499+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d72d7c9b307b6af05cb50a1da7976a98","SpanId":"c827a7affde71d39","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OUM4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUM4"}}
{"Timestamp":"2024-11-10T21:56:11.4331295+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d72d7c9b307b6af05cb50a1da7976a98","SpanId":"c827a7affde71d39","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OUM4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUM4"}}
{"Timestamp":"2024-11-10T21:56:11.4351836+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d72d7c9b307b6af05cb50a1da7976a98","SpanId":"c827a7affde71d39","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":25.4207,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUM4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUM4"}}
{"Timestamp":"2024-11-10T21:56:11.4364892+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d72d7c9b307b6af05cb50a1da7976a98","SpanId":"c827a7affde71d39","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUM4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUM4"}}
{"Timestamp":"2024-11-10T21:56:11.4375727+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d72d7c9b307b6af05cb50a1da7976a98","SpanId":"c827a7affde71d39","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":30.2024,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.2024"}]}}
{"Timestamp":"2024-11-10T21:56:11.4395670+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d72d7c9b307b6af05cb50a1da7976a98","SpanId":"c827a7affde71d39","Properties":{"ElapsedMilliseconds":33.8178,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUM4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUM4"}}
{"Timestamp":"2024-11-10T21:56:19.9350875+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"09fc99c76d599065fdcbc1bab69b30e9","SpanId":"e54af3f72f72100a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUM5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM5"}}
{"Timestamp":"2024-11-10T21:56:19.9384193+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"09fc99c76d599065fdcbc1bab69b30e9","SpanId":"e54af3f72f72100a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUM5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM5"}}
{"Timestamp":"2024-11-10T21:56:19.9405548+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"09fc99c76d599065fdcbc1bab69b30e9","SpanId":"e54af3f72f72100a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUM5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM5"}}
{"Timestamp":"2024-11-10T21:56:19.9496994+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"09fc99c76d599065fdcbc1bab69b30e9","SpanId":"e54af3f72f72100a","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUM5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM5"}}
{"Timestamp":"2024-11-10T21:56:19.9556589+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"09fc99c76d599065fdcbc1bab69b30e9","SpanId":"e54af3f72f72100a","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUM5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM5"}}
{"Timestamp":"2024-11-10T21:56:19.9581038+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"09fc99c76d599065fdcbc1bab69b30e9","SpanId":"e54af3f72f72100a","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUM5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM5"}}
{"Timestamp":"2024-11-10T21:56:19.9594745+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"09fc99c76d599065fdcbc1bab69b30e9","SpanId":"e54af3f72f72100a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.3444,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUM5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM5"}}
{"Timestamp":"2024-11-10T21:56:19.9602346+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"09fc99c76d599065fdcbc1bab69b30e9","SpanId":"e54af3f72f72100a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUM5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM5"}}
{"Timestamp":"2024-11-10T21:56:19.9608514+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"09fc99c76d599065fdcbc1bab69b30e9","SpanId":"e54af3f72f72100a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":22.6476,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.6476"}]}}
{"Timestamp":"2024-11-10T21:56:19.9625613+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"09fc99c76d599065fdcbc1bab69b30e9","SpanId":"e54af3f72f72100a","Properties":{"ElapsedMilliseconds":27.5112,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUM5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM5"}}
{"Timestamp":"2024-11-10T21:56:22.6570243+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d7d97dbd1292d2c6a222e5d33e6981a6","SpanId":"af93e7205afb779d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUM6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM6"}}
{"Timestamp":"2024-11-10T21:56:22.6603310+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d7d97dbd1292d2c6a222e5d33e6981a6","SpanId":"af93e7205afb779d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUM6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM6"}}
{"Timestamp":"2024-11-10T21:56:22.6610949+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d7d97dbd1292d2c6a222e5d33e6981a6","SpanId":"af93e7205afb779d","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUM6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM6"}}
{"Timestamp":"2024-11-10T21:56:22.6696019+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d7d97dbd1292d2c6a222e5d33e6981a6","SpanId":"af93e7205afb779d","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUM6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM6"}}
{"Timestamp":"2024-11-10T21:56:22.6758654+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d7d97dbd1292d2c6a222e5d33e6981a6","SpanId":"af93e7205afb779d","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUM6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM6"}}
{"Timestamp":"2024-11-10T21:56:22.6779299+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d7d97dbd1292d2c6a222e5d33e6981a6","SpanId":"af93e7205afb779d","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUM6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM6"}}
{"Timestamp":"2024-11-10T21:56:22.6795875+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d7d97dbd1292d2c6a222e5d33e6981a6","SpanId":"af93e7205afb779d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.7067,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUM6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM6"}}
{"Timestamp":"2024-11-10T21:56:22.6827641+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d7d97dbd1292d2c6a222e5d33e6981a6","SpanId":"af93e7205afb779d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUM6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM6"}}
{"Timestamp":"2024-11-10T21:56:22.6841829+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d7d97dbd1292d2c6a222e5d33e6981a6","SpanId":"af93e7205afb779d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":24.0284,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.0284"}]}}
{"Timestamp":"2024-11-10T21:56:22.6861540+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d7d97dbd1292d2c6a222e5d33e6981a6","SpanId":"af93e7205afb779d","Properties":{"ElapsedMilliseconds":29.2659,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUM6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM6"}}
{"Timestamp":"2024-11-10T21:56:22.6910655+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8e1eb66fceadd88aaf39d42996c8f5e1","SpanId":"00b0f839ae8aa054","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUM7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUM7"}}
{"Timestamp":"2024-11-10T21:56:22.6927920+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"364642a65bf7001f98defffe32126225","SpanId":"16b3c510c2c68185","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUM8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUM8"}}
{"Timestamp":"2024-11-10T21:56:22.6948284+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8e1eb66fceadd88aaf39d42996c8f5e1","SpanId":"00b0f839ae8aa054","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUM7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUM7"}}
{"Timestamp":"2024-11-10T21:56:22.6971510+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"364642a65bf7001f98defffe32126225","SpanId":"16b3c510c2c68185","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUM8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUM8"}}
{"Timestamp":"2024-11-10T21:56:22.6980238+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8e1eb66fceadd88aaf39d42996c8f5e1","SpanId":"00b0f839ae8aa054","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUM7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUM7"}}
{"Timestamp":"2024-11-10T21:56:22.6988912+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"364642a65bf7001f98defffe32126225","SpanId":"16b3c510c2c68185","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUM8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUM8"}}
{"Timestamp":"2024-11-10T21:56:22.7085865+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8e1eb66fceadd88aaf39d42996c8f5e1","SpanId":"00b0f839ae8aa054","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUM7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUM7"}}
{"Timestamp":"2024-11-10T21:56:22.7106547+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8e1eb66fceadd88aaf39d42996c8f5e1","SpanId":"00b0f839ae8aa054","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUM7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUM7"}}
{"Timestamp":"2024-11-10T21:56:22.7112635+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"364642a65bf7001f98defffe32126225","SpanId":"16b3c510c2c68185","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUM8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUM8"}}
{"Timestamp":"2024-11-10T21:56:22.7118955+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8e1eb66fceadd88aaf39d42996c8f5e1","SpanId":"00b0f839ae8aa054","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":11.8266,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUM7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUM7"}}
{"Timestamp":"2024-11-10T21:56:22.7142047+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"364642a65bf7001f98defffe32126225","SpanId":"16b3c510c2c68185","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUM8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUM8"}}
{"Timestamp":"2024-11-10T21:56:22.7162136+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8e1eb66fceadd88aaf39d42996c8f5e1","SpanId":"00b0f839ae8aa054","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUM7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUM7"}}
{"Timestamp":"2024-11-10T21:56:22.7179179+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"364642a65bf7001f98defffe32126225","SpanId":"16b3c510c2c68185","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":16.8131,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUM8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUM8"}}
{"Timestamp":"2024-11-10T21:56:22.7185415+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8e1eb66fceadd88aaf39d42996c8f5e1","SpanId":"00b0f839ae8aa054","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":23.9852,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.9852"}]}}
{"Timestamp":"2024-11-10T21:56:22.7201717+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"364642a65bf7001f98defffe32126225","SpanId":"16b3c510c2c68185","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUM8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUM8"}}
{"Timestamp":"2024-11-10T21:56:22.7218635+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8e1eb66fceadd88aaf39d42996c8f5e1","SpanId":"00b0f839ae8aa054","Properties":{"ElapsedMilliseconds":30.8048,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUM7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUM7"}}
{"Timestamp":"2024-11-10T21:56:22.7230851+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"364642a65bf7001f98defffe32126225","SpanId":"16b3c510c2c68185","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":26.1251,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.1251"}]}}
{"Timestamp":"2024-11-10T21:56:22.7304230+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"364642a65bf7001f98defffe32126225","SpanId":"16b3c510c2c68185","Properties":{"ElapsedMilliseconds":37.7836,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUM8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUM8"}}
{"Timestamp":"2024-11-10T21:56:27.9200227+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f8e9ccdee915cfc22f3b078a37eeb403","SpanId":"7ad4680332117304","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUM9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM9"}}
{"Timestamp":"2024-11-10T21:56:27.9242263+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f8e9ccdee915cfc22f3b078a37eeb403","SpanId":"7ad4680332117304","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUM9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM9"}}
{"Timestamp":"2024-11-10T21:56:27.9255699+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f8e9ccdee915cfc22f3b078a37eeb403","SpanId":"7ad4680332117304","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUM9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM9"}}
{"Timestamp":"2024-11-10T21:56:27.9354291+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f8e9ccdee915cfc22f3b078a37eeb403","SpanId":"7ad4680332117304","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUM9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM9"}}
{"Timestamp":"2024-11-10T21:56:27.9421014+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f8e9ccdee915cfc22f3b078a37eeb403","SpanId":"7ad4680332117304","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUM9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM9"}}
{"Timestamp":"2024-11-10T21:56:27.9448729+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f8e9ccdee915cfc22f3b078a37eeb403","SpanId":"7ad4680332117304","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUM9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM9"}}
{"Timestamp":"2024-11-10T21:56:27.9460513+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f8e9ccdee915cfc22f3b078a37eeb403","SpanId":"7ad4680332117304","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.8544,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUM9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM9"}}
{"Timestamp":"2024-11-10T21:56:27.9476962+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f8e9ccdee915cfc22f3b078a37eeb403","SpanId":"7ad4680332117304","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUM9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM9"}}
{"Timestamp":"2024-11-10T21:56:27.9483981+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f8e9ccdee915cfc22f3b078a37eeb403","SpanId":"7ad4680332117304","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":24.3417,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.3417"}]}}
{"Timestamp":"2024-11-10T21:56:27.9496629+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f8e9ccdee915cfc22f3b078a37eeb403","SpanId":"7ad4680332117304","Properties":{"ElapsedMilliseconds":29.8033,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUM9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUM9"}}
{"Timestamp":"2024-11-10T21:56:27.9516214+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6bdd2a99c02828a6f39e162bd5b8e280","SpanId":"10d65c23cb8fa467","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMA:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUMA"}}
{"Timestamp":"2024-11-10T21:56:27.9544228+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6bdd2a99c02828a6f39e162bd5b8e280","SpanId":"10d65c23cb8fa467","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMA:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUMA"}}
{"Timestamp":"2024-11-10T21:56:27.9554776+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6bdd2a99c02828a6f39e162bd5b8e280","SpanId":"10d65c23cb8fa467","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUMA:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUMA"}}
{"Timestamp":"2024-11-10T21:56:27.9643208+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6bdd2a99c02828a6f39e162bd5b8e280","SpanId":"10d65c23cb8fa467","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUMA:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUMA"}}
{"Timestamp":"2024-11-10T21:56:27.9671158+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6bdd2a99c02828a6f39e162bd5b8e280","SpanId":"10d65c23cb8fa467","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUMA:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUMA"}}
{"Timestamp":"2024-11-10T21:56:27.9682147+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6bdd2a99c02828a6f39e162bd5b8e280","SpanId":"10d65c23cb8fa467","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":10.9618,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUMA:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUMA"}}
{"Timestamp":"2024-11-10T21:56:27.9698458+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6bdd2a99c02828a6f39e162bd5b8e280","SpanId":"10d65c23cb8fa467","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMA:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUMA"}}
{"Timestamp":"2024-11-10T21:56:27.9710169+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6bdd2a99c02828a6f39e162bd5b8e280","SpanId":"10d65c23cb8fa467","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":16.7806,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.7806"}]}}
{"Timestamp":"2024-11-10T21:56:27.9726506+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6bdd2a99c02828a6f39e162bd5b8e280","SpanId":"10d65c23cb8fa467","Properties":{"ElapsedMilliseconds":21.076,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMA:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUMA"}}
{"Timestamp":"2024-11-10T21:56:28.6697528+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"896cee2c3c9cf0db726c83f2ad9fbd14","SpanId":"815dab71a27727ab","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMB"}}
{"Timestamp":"2024-11-10T21:56:28.6731033+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"896cee2c3c9cf0db726c83f2ad9fbd14","SpanId":"815dab71a27727ab","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMB"}}
{"Timestamp":"2024-11-10T21:56:28.6743279+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"896cee2c3c9cf0db726c83f2ad9fbd14","SpanId":"815dab71a27727ab","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMB"}}
{"Timestamp":"2024-11-10T21:56:28.6830715+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"896cee2c3c9cf0db726c83f2ad9fbd14","SpanId":"815dab71a27727ab","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMB"}}
{"Timestamp":"2024-11-10T21:56:28.6881581+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"896cee2c3c9cf0db726c83f2ad9fbd14","SpanId":"815dab71a27727ab","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMB"}}
{"Timestamp":"2024-11-10T21:56:28.6916124+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"896cee2c3c9cf0db726c83f2ad9fbd14","SpanId":"815dab71a27727ab","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMB"}}
{"Timestamp":"2024-11-10T21:56:28.6934417+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"896cee2c3c9cf0db726c83f2ad9fbd14","SpanId":"815dab71a27727ab","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.071,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUMB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMB"}}
{"Timestamp":"2024-11-10T21:56:28.6948707+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"896cee2c3c9cf0db726c83f2ad9fbd14","SpanId":"815dab71a27727ab","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMB"}}
{"Timestamp":"2024-11-10T21:56:28.6959061+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"896cee2c3c9cf0db726c83f2ad9fbd14","SpanId":"815dab71a27727ab","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":23.2251,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.2251"}]}}
{"Timestamp":"2024-11-10T21:56:28.6973493+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"896cee2c3c9cf0db726c83f2ad9fbd14","SpanId":"815dab71a27727ab","Properties":{"ElapsedMilliseconds":27.727,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMB"}}
{"Timestamp":"2024-11-10T21:56:28.7014488+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1d31f2a27bb85cb7915078aeb04ce977","SpanId":"9908a860e2d53b0e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMC:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUMC"}}
{"Timestamp":"2024-11-10T21:56:28.7038797+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1d31f2a27bb85cb7915078aeb04ce977","SpanId":"9908a860e2d53b0e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMC:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUMC"}}
{"Timestamp":"2024-11-10T21:56:28.7047067+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1d31f2a27bb85cb7915078aeb04ce977","SpanId":"9908a860e2d53b0e","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c4e19e87-d6eb-4030-ae87-56bce24c4ac0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81IMO9OUMC:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUMC"}}
{"Timestamp":"2024-11-10T21:56:28.7134152+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1d31f2a27bb85cb7915078aeb04ce977","SpanId":"9908a860e2d53b0e","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c4e19e87-d6eb-4030-ae87-56bce24c4ac0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81IMO9OUMC:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUMC"}}
{"Timestamp":"2024-11-10T21:56:28.7184827+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1d31f2a27bb85cb7915078aeb04ce977","SpanId":"9908a860e2d53b0e","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c4e19e87-d6eb-4030-ae87-56bce24c4ac0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81IMO9OUMC:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUMC"}}
{"Timestamp":"2024-11-10T21:56:28.7201826+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1d31f2a27bb85cb7915078aeb04ce977","SpanId":"9908a860e2d53b0e","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c4e19e87-d6eb-4030-ae87-56bce24c4ac0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81IMO9OUMC:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUMC"}}
{"Timestamp":"2024-11-10T21:56:28.7211368+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1d31f2a27bb85cb7915078aeb04ce977","SpanId":"9908a860e2d53b0e","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":14.3037,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUMC:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUMC"}}
{"Timestamp":"2024-11-10T21:56:28.7221494+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1d31f2a27bb85cb7915078aeb04ce977","SpanId":"9908a860e2d53b0e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMC:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUMC"}}
{"Timestamp":"2024-11-10T21:56:28.7234041+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1d31f2a27bb85cb7915078aeb04ce977","SpanId":"9908a860e2d53b0e","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":19.6764,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.6764"}]}}
{"Timestamp":"2024-11-10T21:56:28.7253357+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1d31f2a27bb85cb7915078aeb04ce977","SpanId":"9908a860e2d53b0e","Properties":{"ElapsedMilliseconds":23.9068,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMC:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUMC"}}
{"Timestamp":"2024-11-10T22:00:54.8129200+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ec4978a4f379b3d4fca7116179ec4ed0","SpanId":"b48a13f6b22b8858","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMD:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUMD"}}
{"Timestamp":"2024-11-10T22:00:54.8192247+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ec4978a4f379b3d4fca7116179ec4ed0","SpanId":"b48a13f6b22b8858","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMD:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUMD"}}
{"Timestamp":"2024-11-10T22:00:54.8198420+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ec4978a4f379b3d4fca7116179ec4ed0","SpanId":"b48a13f6b22b8858","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OUMD:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUMD"}}
{"Timestamp":"2024-11-10T22:00:54.8451736+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ec4978a4f379b3d4fca7116179ec4ed0","SpanId":"b48a13f6b22b8858","Properties":{"elapsed":"10","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OUMD:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUMD"}}
{"Timestamp":"2024-11-10T22:00:54.8558392+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ec4978a4f379b3d4fca7116179ec4ed0","SpanId":"b48a13f6b22b8858","Properties":{"elapsed":"6","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OUMD:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUMD"}}
{"Timestamp":"2024-11-10T22:00:54.8583041+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ec4978a4f379b3d4fca7116179ec4ed0","SpanId":"b48a13f6b22b8858","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OUMD:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUMD"}}
{"Timestamp":"2024-11-10T22:00:54.8607797+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ec4978a4f379b3d4fca7116179ec4ed0","SpanId":"b48a13f6b22b8858","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":39.7064,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUMD:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUMD"}}
{"Timestamp":"2024-11-10T22:00:54.8625818+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ec4978a4f379b3d4fca7116179ec4ed0","SpanId":"b48a13f6b22b8858","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMD:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUMD"}}
{"Timestamp":"2024-11-10T22:00:54.8641616+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ec4978a4f379b3d4fca7116179ec4ed0","SpanId":"b48a13f6b22b8858","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":45.0094,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"45.0094"}]}}
{"Timestamp":"2024-11-10T22:00:54.8661011+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ec4978a4f379b3d4fca7116179ec4ed0","SpanId":"b48a13f6b22b8858","Properties":{"ElapsedMilliseconds":53.266,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMD:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUMD"}}
{"Timestamp":"2024-11-10T22:00:58.3826900+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fba25716c96932d42f21fa5921082dd2","SpanId":"31a7181650b2bb5f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUME:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUME"}}
{"Timestamp":"2024-11-10T22:00:58.3859868+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fba25716c96932d42f21fa5921082dd2","SpanId":"31a7181650b2bb5f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUME:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUME"}}
{"Timestamp":"2024-11-10T22:00:58.3871345+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fba25716c96932d42f21fa5921082dd2","SpanId":"31a7181650b2bb5f","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUME:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUME"}}
{"Timestamp":"2024-11-10T22:00:58.3984341+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fba25716c96932d42f21fa5921082dd2","SpanId":"31a7181650b2bb5f","Properties":{"elapsed":"8","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUME:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUME"}}
{"Timestamp":"2024-11-10T22:00:58.4028151+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fba25716c96932d42f21fa5921082dd2","SpanId":"31a7181650b2bb5f","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUME:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUME"}}
{"Timestamp":"2024-11-10T22:00:58.4043579+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fba25716c96932d42f21fa5921082dd2","SpanId":"31a7181650b2bb5f","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUME:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUME"}}
{"Timestamp":"2024-11-10T22:00:58.4059102+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fba25716c96932d42f21fa5921082dd2","SpanId":"31a7181650b2bb5f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.7616,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUME:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUME"}}
{"Timestamp":"2024-11-10T22:00:58.4067580+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fba25716c96932d42f21fa5921082dd2","SpanId":"31a7181650b2bb5f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUME:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUME"}}
{"Timestamp":"2024-11-10T22:00:58.4074544+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fba25716c96932d42f21fa5921082dd2","SpanId":"31a7181650b2bb5f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":21.626,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.6260"}]}}
{"Timestamp":"2024-11-10T22:00:58.4088216+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fba25716c96932d42f21fa5921082dd2","SpanId":"31a7181650b2bb5f","Properties":{"ElapsedMilliseconds":26.1495,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUME:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUME"}}
{"Timestamp":"2024-11-10T22:01:07.3091294+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"36ba3afc612b930cd0f52ee387bdaf76","SpanId":"78d03c9f4dca278a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMF"}}
{"Timestamp":"2024-11-10T22:01:07.3127632+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"36ba3afc612b930cd0f52ee387bdaf76","SpanId":"78d03c9f4dca278a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMF"}}
{"Timestamp":"2024-11-10T22:01:07.3138735+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"36ba3afc612b930cd0f52ee387bdaf76","SpanId":"78d03c9f4dca278a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMF"}}
{"Timestamp":"2024-11-10T22:01:07.3437650+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"36ba3afc612b930cd0f52ee387bdaf76","SpanId":"78d03c9f4dca278a","Properties":{"elapsed":"24","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMF"}}
{"Timestamp":"2024-11-10T22:01:07.3582785+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"051cab52223be33dcc8c7e2ad32deea5","SpanId":"86bdc89dd19a86e7","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUMG"}}
{"Timestamp":"2024-11-10T22:01:07.3598440+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"36ba3afc612b930cd0f52ee387bdaf76","SpanId":"78d03c9f4dca278a","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMF"}}
{"Timestamp":"2024-11-10T22:01:07.3608387+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"051cab52223be33dcc8c7e2ad32deea5","SpanId":"86bdc89dd19a86e7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUMG"}}
{"Timestamp":"2024-11-10T22:01:07.3626877+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"36ba3afc612b930cd0f52ee387bdaf76","SpanId":"78d03c9f4dca278a","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMF"}}
{"Timestamp":"2024-11-10T22:01:07.3643146+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"051cab52223be33dcc8c7e2ad32deea5","SpanId":"86bdc89dd19a86e7","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUMG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUMG"}}
{"Timestamp":"2024-11-10T22:01:07.3665585+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"36ba3afc612b930cd0f52ee387bdaf76","SpanId":"78d03c9f4dca278a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":50.3883,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUMF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMF"}}
{"Timestamp":"2024-11-10T22:01:07.3699109+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"36ba3afc612b930cd0f52ee387bdaf76","SpanId":"78d03c9f4dca278a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMF"}}
{"Timestamp":"2024-11-10T22:01:07.3708297+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"36ba3afc612b930cd0f52ee387bdaf76","SpanId":"78d03c9f4dca278a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":58.2424,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"58.2424"}]}}
{"Timestamp":"2024-11-10T22:01:07.3732044+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"36ba3afc612b930cd0f52ee387bdaf76","SpanId":"78d03c9f4dca278a","Properties":{"ElapsedMilliseconds":64.117,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMF"}}
{"Timestamp":"2024-11-10T22:01:07.3806494+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cf56043c9b460956a76ea312d8883819","SpanId":"b35d8c4df3f30111","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUMH"}}
{"Timestamp":"2024-11-10T22:01:07.3836515+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"051cab52223be33dcc8c7e2ad32deea5","SpanId":"86bdc89dd19a86e7","Properties":{"elapsed":"13","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUMG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUMG"}}
{"Timestamp":"2024-11-10T22:01:07.3957824+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cf56043c9b460956a76ea312d8883819","SpanId":"b35d8c4df3f30111","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUMH"}}
{"Timestamp":"2024-11-10T22:01:07.3983030+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"051cab52223be33dcc8c7e2ad32deea5","SpanId":"86bdc89dd19a86e7","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUMG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUMG"}}
{"Timestamp":"2024-11-10T22:01:07.3991432+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cf56043c9b460956a76ea312d8883819","SpanId":"b35d8c4df3f30111","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUMH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUMH"}}
{"Timestamp":"2024-11-10T22:01:07.4005011+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"051cab52223be33dcc8c7e2ad32deea5","SpanId":"86bdc89dd19a86e7","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":31.4607,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUMG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUMG"}}
{"Timestamp":"2024-11-10T22:01:07.4049441+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"051cab52223be33dcc8c7e2ad32deea5","SpanId":"86bdc89dd19a86e7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUMG"}}
{"Timestamp":"2024-11-10T22:01:07.4061305+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"051cab52223be33dcc8c7e2ad32deea5","SpanId":"86bdc89dd19a86e7","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":45.6185,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"45.6185"}]}}
{"Timestamp":"2024-11-10T22:01:07.4083057+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"051cab52223be33dcc8c7e2ad32deea5","SpanId":"86bdc89dd19a86e7","Properties":{"ElapsedMilliseconds":50.0559,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUMG"}}
{"Timestamp":"2024-11-10T22:01:07.4164424+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cf56043c9b460956a76ea312d8883819","SpanId":"b35d8c4df3f30111","Properties":{"elapsed":"11","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUMH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUMH"}}
{"Timestamp":"2024-11-10T22:01:07.4205358+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cf56043c9b460956a76ea312d8883819","SpanId":"b35d8c4df3f30111","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUMH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUMH"}}
{"Timestamp":"2024-11-10T22:01:07.4224944+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cf56043c9b460956a76ea312d8883819","SpanId":"b35d8c4df3f30111","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":19.3996,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUMH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUMH"}}
{"Timestamp":"2024-11-10T22:01:07.4235639+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cf56043c9b460956a76ea312d8883819","SpanId":"b35d8c4df3f30111","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUMH"}}
{"Timestamp":"2024-11-10T22:01:07.4243875+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cf56043c9b460956a76ea312d8883819","SpanId":"b35d8c4df3f30111","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":28.9781,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.9781"}]}}
{"Timestamp":"2024-11-10T22:01:07.4257758+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cf56043c9b460956a76ea312d8883819","SpanId":"b35d8c4df3f30111","Properties":{"ElapsedMilliseconds":45.142,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUMH"}}
{"Timestamp":"2024-11-10T22:01:29.0462277+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3036009395d6fd9e44199e4521c4e4bd","SpanId":"b2bbdf2cbfc70dee","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMI"}}
{"Timestamp":"2024-11-10T22:01:29.0504184+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3036009395d6fd9e44199e4521c4e4bd","SpanId":"b2bbdf2cbfc70dee","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMI"}}
{"Timestamp":"2024-11-10T22:01:29.0514889+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3036009395d6fd9e44199e4521c4e4bd","SpanId":"b2bbdf2cbfc70dee","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMI"}}
{"Timestamp":"2024-11-10T22:01:29.0711209+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3036009395d6fd9e44199e4521c4e4bd","SpanId":"b2bbdf2cbfc70dee","Properties":{"elapsed":"15","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMI"}}
{"Timestamp":"2024-11-10T22:01:29.0751710+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3036009395d6fd9e44199e4521c4e4bd","SpanId":"b2bbdf2cbfc70dee","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMI"}}
{"Timestamp":"2024-11-10T22:01:29.0773010+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3036009395d6fd9e44199e4521c4e4bd","SpanId":"b2bbdf2cbfc70dee","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMI"}}
{"Timestamp":"2024-11-10T22:01:29.0783205+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3036009395d6fd9e44199e4521c4e4bd","SpanId":"b2bbdf2cbfc70dee","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":25.669,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUMI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMI"}}
{"Timestamp":"2024-11-10T22:01:29.0792441+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3036009395d6fd9e44199e4521c4e4bd","SpanId":"b2bbdf2cbfc70dee","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMI"}}
{"Timestamp":"2024-11-10T22:01:29.0805255+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3036009395d6fd9e44199e4521c4e4bd","SpanId":"b2bbdf2cbfc70dee","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":30.1656,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.1656"}]}}
{"Timestamp":"2024-11-10T22:01:29.0818821+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3036009395d6fd9e44199e4521c4e4bd","SpanId":"b2bbdf2cbfc70dee","Properties":{"ElapsedMilliseconds":35.7518,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMI"}}
{"Timestamp":"2024-11-10T22:01:29.0841528+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7fbd9f5bb738f4ac144fccac18e4d42a","SpanId":"4e434263ef476bbf","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUMJ"}}
{"Timestamp":"2024-11-10T22:01:29.0875879+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7fbd9f5bb738f4ac144fccac18e4d42a","SpanId":"4e434263ef476bbf","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUMJ"}}
{"Timestamp":"2024-11-10T22:01:29.0890422+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7fbd9f5bb738f4ac144fccac18e4d42a","SpanId":"4e434263ef476bbf","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUMJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUMJ"}}
{"Timestamp":"2024-11-10T22:01:29.0982086+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7fbd9f5bb738f4ac144fccac18e4d42a","SpanId":"4e434263ef476bbf","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUMJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUMJ"}}
{"Timestamp":"2024-11-10T22:01:29.1001951+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7fbd9f5bb738f4ac144fccac18e4d42a","SpanId":"4e434263ef476bbf","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUMJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUMJ"}}
{"Timestamp":"2024-11-10T22:01:29.1012416+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7fbd9f5bb738f4ac144fccac18e4d42a","SpanId":"4e434263ef476bbf","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":9.4937,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUMJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUMJ"}}
{"Timestamp":"2024-11-10T22:01:29.1022951+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7fbd9f5bb738f4ac144fccac18e4d42a","SpanId":"4e434263ef476bbf","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUMJ"}}
{"Timestamp":"2024-11-10T22:01:29.1031563+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7fbd9f5bb738f4ac144fccac18e4d42a","SpanId":"4e434263ef476bbf","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":15.815,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.8150"}]}}
{"Timestamp":"2024-11-10T22:01:29.1048328+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7fbd9f5bb738f4ac144fccac18e4d42a","SpanId":"4e434263ef476bbf","Properties":{"ElapsedMilliseconds":20.6801,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUMJ"}}
{"Timestamp":"2024-11-10T22:01:30.8444499+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c10b13f40e87ce0c7b93c0a84c66da1b","SpanId":"b3c42f2066447185","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMK"}}
{"Timestamp":"2024-11-10T22:01:30.8488675+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c10b13f40e87ce0c7b93c0a84c66da1b","SpanId":"b3c42f2066447185","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMK"}}
{"Timestamp":"2024-11-10T22:01:30.8504547+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c10b13f40e87ce0c7b93c0a84c66da1b","SpanId":"b3c42f2066447185","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMK"}}
{"Timestamp":"2024-11-10T22:01:30.8616327+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c10b13f40e87ce0c7b93c0a84c66da1b","SpanId":"b3c42f2066447185","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMK"}}
{"Timestamp":"2024-11-10T22:01:30.8689586+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c10b13f40e87ce0c7b93c0a84c66da1b","SpanId":"b3c42f2066447185","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMK"}}
{"Timestamp":"2024-11-10T22:01:30.8716049+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c10b13f40e87ce0c7b93c0a84c66da1b","SpanId":"b3c42f2066447185","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMK"}}
{"Timestamp":"2024-11-10T22:01:30.8732756+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c10b13f40e87ce0c7b93c0a84c66da1b","SpanId":"b3c42f2066447185","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.6282,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUMK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMK"}}
{"Timestamp":"2024-11-10T22:01:30.8753638+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c10b13f40e87ce0c7b93c0a84c66da1b","SpanId":"b3c42f2066447185","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMK"}}
{"Timestamp":"2024-11-10T22:01:30.8760034+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c10b13f40e87ce0c7b93c0a84c66da1b","SpanId":"b3c42f2066447185","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":27.2274,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.2274"}]}}
{"Timestamp":"2024-11-10T22:01:30.8770133+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c10b13f40e87ce0c7b93c0a84c66da1b","SpanId":"b3c42f2066447185","Properties":{"ElapsedMilliseconds":32.594,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMK"}}
{"Timestamp":"2024-11-10T22:01:30.8809119+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1f5cd1a14fd68b4df5e4d872f6636dea","SpanId":"62b749d1fca0ca1a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUML:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUML"}}
{"Timestamp":"2024-11-10T22:01:30.8826255+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1f5cd1a14fd68b4df5e4d872f6636dea","SpanId":"62b749d1fca0ca1a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUML:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUML"}}
{"Timestamp":"2024-11-10T22:01:30.8831825+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1f5cd1a14fd68b4df5e4d872f6636dea","SpanId":"62b749d1fca0ca1a","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c4e19e87-d6eb-4030-ae87-56bce24c4ac0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81IMO9OUML:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUML"}}
{"Timestamp":"2024-11-10T22:01:30.8896748+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1f5cd1a14fd68b4df5e4d872f6636dea","SpanId":"62b749d1fca0ca1a","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c4e19e87-d6eb-4030-ae87-56bce24c4ac0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81IMO9OUML:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUML"}}
{"Timestamp":"2024-11-10T22:01:30.8950773+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1f5cd1a14fd68b4df5e4d872f6636dea","SpanId":"62b749d1fca0ca1a","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c4e19e87-d6eb-4030-ae87-56bce24c4ac0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81IMO9OUML:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUML"}}
{"Timestamp":"2024-11-10T22:01:30.8962735+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1f5cd1a14fd68b4df5e4d872f6636dea","SpanId":"62b749d1fca0ca1a","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c4e19e87-d6eb-4030-ae87-56bce24c4ac0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81IMO9OUML:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUML"}}
{"Timestamp":"2024-11-10T22:01:30.8971092+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1f5cd1a14fd68b4df5e4d872f6636dea","SpanId":"62b749d1fca0ca1a","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":12.7066,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUML:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUML"}}
{"Timestamp":"2024-11-10T22:01:30.8978532+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1f5cd1a14fd68b4df5e4d872f6636dea","SpanId":"62b749d1fca0ca1a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUML:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUML"}}
{"Timestamp":"2024-11-10T22:01:30.8984525+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1f5cd1a14fd68b4df5e4d872f6636dea","SpanId":"62b749d1fca0ca1a","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":15.9437,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.9437"}]}}
{"Timestamp":"2024-11-10T22:01:30.8995233+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1f5cd1a14fd68b4df5e4d872f6636dea","SpanId":"62b749d1fca0ca1a","Properties":{"ElapsedMilliseconds":18.7126,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUML:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81IMO9OUML"}}
{"Timestamp":"2024-11-10T22:01:41.4623116+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6ab94ad4e26fdd7b0fbbecce0aaac26d","SpanId":"24b338cf3c62c82a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMM"}}
{"Timestamp":"2024-11-10T22:01:41.4648132+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6ab94ad4e26fdd7b0fbbecce0aaac26d","SpanId":"24b338cf3c62c82a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMM"}}
{"Timestamp":"2024-11-10T22:01:41.4662883+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6ab94ad4e26fdd7b0fbbecce0aaac26d","SpanId":"24b338cf3c62c82a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMM"}}
{"Timestamp":"2024-11-10T22:01:41.4766239+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6ab94ad4e26fdd7b0fbbecce0aaac26d","SpanId":"24b338cf3c62c82a","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMM"}}
{"Timestamp":"2024-11-10T22:01:41.4816604+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6ab94ad4e26fdd7b0fbbecce0aaac26d","SpanId":"24b338cf3c62c82a","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMM"}}
{"Timestamp":"2024-11-10T22:01:41.4838975+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6ab94ad4e26fdd7b0fbbecce0aaac26d","SpanId":"24b338cf3c62c82a","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMM"}}
{"Timestamp":"2024-11-10T22:01:41.4846425+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6ab94ad4e26fdd7b0fbbecce0aaac26d","SpanId":"24b338cf3c62c82a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.9564,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUMM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMM"}}
{"Timestamp":"2024-11-10T22:01:41.4854649+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6ab94ad4e26fdd7b0fbbecce0aaac26d","SpanId":"24b338cf3c62c82a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMM"}}
{"Timestamp":"2024-11-10T22:01:41.4860860+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6ab94ad4e26fdd7b0fbbecce0aaac26d","SpanId":"24b338cf3c62c82a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":21.5034,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.5034"}]}}
{"Timestamp":"2024-11-10T22:01:41.4872977+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6ab94ad4e26fdd7b0fbbecce0aaac26d","SpanId":"24b338cf3c62c82a","Properties":{"ElapsedMilliseconds":25.0639,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMM"}}
{"Timestamp":"2024-11-10T22:01:41.4898196+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"41f63fe49043073d6f25a2bc7b6885e3","SpanId":"3c022300cf26b443","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUMN"}}
{"Timestamp":"2024-11-10T22:01:41.4930069+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"41f63fe49043073d6f25a2bc7b6885e3","SpanId":"3c022300cf26b443","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUMN"}}
{"Timestamp":"2024-11-10T22:01:41.4937484+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"41f63fe49043073d6f25a2bc7b6885e3","SpanId":"3c022300cf26b443","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUMN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUMN"}}
{"Timestamp":"2024-11-10T22:01:41.4987363+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"41f63fe49043073d6f25a2bc7b6885e3","SpanId":"3c022300cf26b443","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUMN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUMN"}}
{"Timestamp":"2024-11-10T22:01:41.5006615+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"41f63fe49043073d6f25a2bc7b6885e3","SpanId":"3c022300cf26b443","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUMN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUMN"}}
{"Timestamp":"2024-11-10T22:01:41.5018956+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"41f63fe49043073d6f25a2bc7b6885e3","SpanId":"3c022300cf26b443","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":6.994,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUMN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUMN"}}
{"Timestamp":"2024-11-10T22:01:41.5029237+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"41f63fe49043073d6f25a2bc7b6885e3","SpanId":"3c022300cf26b443","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUMN"}}
{"Timestamp":"2024-11-10T22:01:41.5036646+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"41f63fe49043073d6f25a2bc7b6885e3","SpanId":"3c022300cf26b443","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":10.8927,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"10.8927"}]}}
{"Timestamp":"2024-11-10T22:01:41.5056463+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"41f63fe49043073d6f25a2bc7b6885e3","SpanId":"3c022300cf26b443","Properties":{"ElapsedMilliseconds":15.8377,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUMN"}}
{"Timestamp":"2024-11-10T22:01:41.6142910+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cbe7ef2bd9ae64de550b85eabf464062","SpanId":"0a42b2ab8f24143a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMO"}}
{"Timestamp":"2024-11-10T22:01:41.6182619+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cbe7ef2bd9ae64de550b85eabf464062","SpanId":"0a42b2ab8f24143a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMO"}}
{"Timestamp":"2024-11-10T22:01:41.6198304+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cbe7ef2bd9ae64de550b85eabf464062","SpanId":"0a42b2ab8f24143a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMO"}}
{"Timestamp":"2024-11-10T22:01:43.2261002+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cbe7ef2bd9ae64de550b85eabf464062","SpanId":"0a42b2ab8f24143a","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMO"}}
{"Timestamp":"2024-11-10T22:01:43.2314421+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cbe7ef2bd9ae64de550b85eabf464062","SpanId":"0a42b2ab8f24143a","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMO"}}
{"Timestamp":"2024-11-10T22:01:43.2330801+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cbe7ef2bd9ae64de550b85eabf464062","SpanId":"0a42b2ab8f24143a","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMO"}}
{"Timestamp":"2024-11-10T22:01:43.2339477+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cbe7ef2bd9ae64de550b85eabf464062","SpanId":"0a42b2ab8f24143a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":1611.5449,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUMO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMO"}}
{"Timestamp":"2024-11-10T22:01:43.2347317+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cbe7ef2bd9ae64de550b85eabf464062","SpanId":"0a42b2ab8f24143a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMO"}}
{"Timestamp":"2024-11-10T22:01:43.2362939+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cbe7ef2bd9ae64de550b85eabf464062","SpanId":"0a42b2ab8f24143a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":1618.0916,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1618.0916"}]}}
{"Timestamp":"2024-11-10T22:01:43.2376412+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cbe7ef2bd9ae64de550b85eabf464062","SpanId":"0a42b2ab8f24143a","Properties":{"ElapsedMilliseconds":1623.3873,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMO"}}
{"Timestamp":"2024-11-10T22:01:43.5752759+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5b9c35508be52f678ab81601ef2fe450","SpanId":"a47e192e3cfa2930","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMP"}}
{"Timestamp":"2024-11-10T22:01:43.5791210+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5b9c35508be52f678ab81601ef2fe450","SpanId":"a47e192e3cfa2930","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMP"}}
{"Timestamp":"2024-11-10T22:01:43.5820262+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5b9c35508be52f678ab81601ef2fe450","SpanId":"a47e192e3cfa2930","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMP"}}
{"Timestamp":"2024-11-10T22:01:43.5920172+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5b9c35508be52f678ab81601ef2fe450","SpanId":"a47e192e3cfa2930","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMP"}}
{"Timestamp":"2024-11-10T22:01:43.5982143+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5b9c35508be52f678ab81601ef2fe450","SpanId":"a47e192e3cfa2930","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMP"}}
{"Timestamp":"2024-11-10T22:01:43.6008126+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5b9c35508be52f678ab81601ef2fe450","SpanId":"a47e192e3cfa2930","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMP"}}
{"Timestamp":"2024-11-10T22:01:43.6023924+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5b9c35508be52f678ab81601ef2fe450","SpanId":"a47e192e3cfa2930","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.9099,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUMP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMP"}}
{"Timestamp":"2024-11-10T22:01:43.6038081+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5b9c35508be52f678ab81601ef2fe450","SpanId":"a47e192e3cfa2930","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMP"}}
{"Timestamp":"2024-11-10T22:01:43.6048756+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5b9c35508be52f678ab81601ef2fe450","SpanId":"a47e192e3cfa2930","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":25.9551,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.9551"}]}}
{"Timestamp":"2024-11-10T22:01:43.6074047+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5b9c35508be52f678ab81601ef2fe450","SpanId":"a47e192e3cfa2930","Properties":{"ElapsedMilliseconds":32.148,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMP"}}
{"Timestamp":"2024-11-10T22:01:43.6239682+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"22efa9b05774b854eef9bf28542e4816","SpanId":"4cc9b136f5702ebd","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUMQ"}}
{"Timestamp":"2024-11-10T22:01:43.6246215+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4c39b2d65f6415a20fb5c889fdebe910","SpanId":"0f5e6b184b9859bd","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUMR"}}
{"Timestamp":"2024-11-10T22:01:43.6279094+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"22efa9b05774b854eef9bf28542e4816","SpanId":"4cc9b136f5702ebd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUMQ"}}
{"Timestamp":"2024-11-10T22:01:43.6304443+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4c39b2d65f6415a20fb5c889fdebe910","SpanId":"0f5e6b184b9859bd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUMR"}}
{"Timestamp":"2024-11-10T22:01:43.6318804+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"22efa9b05774b854eef9bf28542e4816","SpanId":"4cc9b136f5702ebd","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUMQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUMQ"}}
{"Timestamp":"2024-11-10T22:01:43.6344876+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4c39b2d65f6415a20fb5c889fdebe910","SpanId":"0f5e6b184b9859bd","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUMR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUMR"}}
{"Timestamp":"2024-11-10T22:01:43.6460945+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"22efa9b05774b854eef9bf28542e4816","SpanId":"4cc9b136f5702ebd","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUMQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUMQ"}}
{"Timestamp":"2024-11-10T22:01:43.6485393+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"22efa9b05774b854eef9bf28542e4816","SpanId":"4cc9b136f5702ebd","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUMQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUMQ"}}
{"Timestamp":"2024-11-10T22:01:43.6504375+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"22efa9b05774b854eef9bf28542e4816","SpanId":"4cc9b136f5702ebd","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":13.8397,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUMQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUMQ"}}
{"Timestamp":"2024-11-10T22:01:43.6530514+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"22efa9b05774b854eef9bf28542e4816","SpanId":"4cc9b136f5702ebd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUMQ"}}
{"Timestamp":"2024-11-10T22:01:43.6545135+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"22efa9b05774b854eef9bf28542e4816","SpanId":"4cc9b136f5702ebd","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":27.0979,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.0979"}]}}
{"Timestamp":"2024-11-10T22:01:43.6562126+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"22efa9b05774b854eef9bf28542e4816","SpanId":"4cc9b136f5702ebd","Properties":{"ElapsedMilliseconds":32.2456,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUMQ"}}
{"Timestamp":"2024-11-10T22:01:43.6592440+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4c39b2d65f6415a20fb5c889fdebe910","SpanId":"0f5e6b184b9859bd","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUMR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUMR"}}
{"Timestamp":"2024-11-10T22:01:43.6613100+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4c39b2d65f6415a20fb5c889fdebe910","SpanId":"0f5e6b184b9859bd","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUMR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUMR"}}
{"Timestamp":"2024-11-10T22:01:43.6624575+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4c39b2d65f6415a20fb5c889fdebe910","SpanId":"0f5e6b184b9859bd","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":23.6215,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUMR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUMR"}}
{"Timestamp":"2024-11-10T22:01:43.6635955+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4c39b2d65f6415a20fb5c889fdebe910","SpanId":"0f5e6b184b9859bd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUMR"}}
{"Timestamp":"2024-11-10T22:01:43.6654755+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4c39b2d65f6415a20fb5c889fdebe910","SpanId":"0f5e6b184b9859bd","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":35.3383,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.3383"}]}}
{"Timestamp":"2024-11-10T22:01:43.6698017+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4c39b2d65f6415a20fb5c889fdebe910","SpanId":"0f5e6b184b9859bd","Properties":{"ElapsedMilliseconds":45.2379,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUMR"}}
{"Timestamp":"2024-11-10T22:02:58.0204464+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ab91a0c44fae083e29fc92fa87a586fe","SpanId":"8708c962c3846b66","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMS"}}
{"Timestamp":"2024-11-10T22:02:58.0232731+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ab91a0c44fae083e29fc92fa87a586fe","SpanId":"8708c962c3846b66","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMS"}}
{"Timestamp":"2024-11-10T22:02:58.0242770+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ab91a0c44fae083e29fc92fa87a586fe","SpanId":"8708c962c3846b66","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMS"}}
{"Timestamp":"2024-11-10T22:02:58.0420300+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ab91a0c44fae083e29fc92fa87a586fe","SpanId":"8708c962c3846b66","Properties":{"elapsed":"14","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMS"}}
{"Timestamp":"2024-11-10T22:02:58.0503800+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ab91a0c44fae083e29fc92fa87a586fe","SpanId":"8708c962c3846b66","Properties":{"elapsed":"5","parameters":"@p7='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [ExpiredAt] = @p0, [IsRevoked] = @p1, [IsUsed] = @p2, [IssuedAt] = @p3, [JwtId] = @p4, [Token] = @p5, [userId] = @p6\r\nOUTPUT 1\r\nWHERE [Id] = @p7;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMS"}}
{"Timestamp":"2024-11-10T22:02:58.0523387+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ab91a0c44fae083e29fc92fa87a586fe","SpanId":"8708c962c3846b66","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMS"}}
{"Timestamp":"2024-11-10T22:02:58.0533227+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ab91a0c44fae083e29fc92fa87a586fe","SpanId":"8708c962c3846b66","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":27.5256,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUMS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMS"}}
{"Timestamp":"2024-11-10T22:02:58.0541123+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ab91a0c44fae083e29fc92fa87a586fe","SpanId":"8708c962c3846b66","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMS"}}
{"Timestamp":"2024-11-10T22:02:58.0551532+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ab91a0c44fae083e29fc92fa87a586fe","SpanId":"8708c962c3846b66","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":31.9554,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"31.9554"}]}}
{"Timestamp":"2024-11-10T22:02:58.0568663+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ab91a0c44fae083e29fc92fa87a586fe","SpanId":"8708c962c3846b66","Properties":{"ElapsedMilliseconds":36.4542,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMS"}}
{"Timestamp":"2024-11-10T22:03:16.9055243+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f2bbfdc19e6d22064703b83db382d005","SpanId":"4ce46ec4e07fdc40","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":40,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMT"}}
{"Timestamp":"2024-11-10T22:03:16.9071948+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f2bbfdc19e6d22064703b83db382d005","SpanId":"4ce46ec4e07fdc40","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMT"}}
{"Timestamp":"2024-11-10T22:03:16.9078757+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f2bbfdc19e6d22064703b83db382d005","SpanId":"4ce46ec4e07fdc40","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMT"}}
{"Timestamp":"2024-11-10T22:03:16.9173293+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f2bbfdc19e6d22064703b83db382d005","SpanId":"4ce46ec4e07fdc40","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Microsoft.AspNetCore.Mvc.ValidationProblemDetails","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMT"}}
{"Timestamp":"2024-11-10T22:03:16.9378730+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f2bbfdc19e6d22064703b83db382d005","SpanId":"4ce46ec4e07fdc40","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":28.7083,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUMT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMT"}}
{"Timestamp":"2024-11-10T22:03:16.9394139+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f2bbfdc19e6d22064703b83db382d005","SpanId":"4ce46ec4e07fdc40","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMT"}}
{"Timestamp":"2024-11-10T22:03:16.9404994+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f2bbfdc19e6d22064703b83db382d005","SpanId":"4ce46ec4e07fdc40","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":400,"Elapsed":33.3596,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.3596"}]}}
{"Timestamp":"2024-11-10T22:03:16.9434056+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f2bbfdc19e6d22064703b83db382d005","SpanId":"4ce46ec4e07fdc40","Properties":{"ElapsedMilliseconds":37.9016,"StatusCode":400,"ContentType":"application/problem+json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMT"}}
{"Timestamp":"2024-11-10T22:20:34.8985865+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"af9599df8a97d981b850b74d62100034","SpanId":"9722d082995ea5fa","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUMU"}}
{"Timestamp":"2024-11-10T22:20:34.9244134+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"af9599df8a97d981b850b74d62100034","SpanId":"9722d082995ea5fa","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUMU"}}
{"Timestamp":"2024-11-10T22:20:34.9324486+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"af9599df8a97d981b850b74d62100034","SpanId":"9722d082995ea5fa","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OUMU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUMU"}}
{"Timestamp":"2024-11-10T22:20:34.9922307+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"af9599df8a97d981b850b74d62100034","SpanId":"9722d082995ea5fa","Properties":{"elapsed":"8","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OUMU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUMU"}}
{"Timestamp":"2024-11-10T22:20:35.0081315+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"af9599df8a97d981b850b74d62100034","SpanId":"9722d082995ea5fa","Properties":{"elapsed":"6","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OUMU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUMU"}}
{"Timestamp":"2024-11-10T22:20:35.0113141+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"af9599df8a97d981b850b74d62100034","SpanId":"9722d082995ea5fa","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OUMU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUMU"}}
{"Timestamp":"2024-11-10T22:20:35.0131284+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"af9599df8a97d981b850b74d62100034","SpanId":"9722d082995ea5fa","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":74.6572,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUMU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUMU"}}
{"Timestamp":"2024-11-10T22:20:35.0143504+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"af9599df8a97d981b850b74d62100034","SpanId":"9722d082995ea5fa","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUMU"}}
{"Timestamp":"2024-11-10T22:20:35.0156249+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"af9599df8a97d981b850b74d62100034","SpanId":"9722d082995ea5fa","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":96.7071,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"96.7071"}]}}
{"Timestamp":"2024-11-10T22:20:35.0172211+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"af9599df8a97d981b850b74d62100034","SpanId":"9722d082995ea5fa","Properties":{"ElapsedMilliseconds":151.079,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUMU"}}
{"Timestamp":"2024-11-10T22:20:41.0686247+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5676e4b977e9a983b6eeeab0e0abb7b0","SpanId":"e03089d9f023ea59","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMV"}}
{"Timestamp":"2024-11-10T22:20:41.0734617+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5676e4b977e9a983b6eeeab0e0abb7b0","SpanId":"e03089d9f023ea59","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMV"}}
{"Timestamp":"2024-11-10T22:20:41.0746374+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5676e4b977e9a983b6eeeab0e0abb7b0","SpanId":"e03089d9f023ea59","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMV"}}
{"Timestamp":"2024-11-10T22:20:41.0858436+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5676e4b977e9a983b6eeeab0e0abb7b0","SpanId":"e03089d9f023ea59","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMV"}}
{"Timestamp":"2024-11-10T22:20:41.0906722+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5676e4b977e9a983b6eeeab0e0abb7b0","SpanId":"e03089d9f023ea59","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMV"}}
{"Timestamp":"2024-11-10T22:20:41.0921313+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5676e4b977e9a983b6eeeab0e0abb7b0","SpanId":"e03089d9f023ea59","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUMV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMV"}}
{"Timestamp":"2024-11-10T22:20:41.0928803+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5676e4b977e9a983b6eeeab0e0abb7b0","SpanId":"e03089d9f023ea59","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.0258,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUMV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMV"}}
{"Timestamp":"2024-11-10T22:20:41.0935982+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5676e4b977e9a983b6eeeab0e0abb7b0","SpanId":"e03089d9f023ea59","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUMV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMV"}}
{"Timestamp":"2024-11-10T22:20:41.0943265+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5676e4b977e9a983b6eeeab0e0abb7b0","SpanId":"e03089d9f023ea59","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":20.9179,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.9179"}]}}
{"Timestamp":"2024-11-10T22:20:41.0955431+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5676e4b977e9a983b6eeeab0e0abb7b0","SpanId":"e03089d9f023ea59","Properties":{"ElapsedMilliseconds":26.8156,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUMV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUMV"}}
{"Timestamp":"2024-11-10T22:20:43.9533019+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b25d22a74e919038b1584e7aa5227429","SpanId":"b21dd76ac510bade","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUN0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN0"}}
{"Timestamp":"2024-11-10T22:20:43.9551343+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b25d22a74e919038b1584e7aa5227429","SpanId":"b21dd76ac510bade","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUN0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN0"}}
{"Timestamp":"2024-11-10T22:20:43.9560861+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b25d22a74e919038b1584e7aa5227429","SpanId":"b21dd76ac510bade","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUN0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN0"}}
{"Timestamp":"2024-11-10T22:20:43.9609691+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b25d22a74e919038b1584e7aa5227429","SpanId":"b21dd76ac510bade","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUN0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN0"}}
{"Timestamp":"2024-11-10T22:20:43.9649545+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b25d22a74e919038b1584e7aa5227429","SpanId":"b21dd76ac510bade","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUN0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN0"}}
{"Timestamp":"2024-11-10T22:20:43.9677910+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b25d22a74e919038b1584e7aa5227429","SpanId":"b21dd76ac510bade","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUN0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN0"}}
{"Timestamp":"2024-11-10T22:20:43.9686466+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b25d22a74e919038b1584e7aa5227429","SpanId":"b21dd76ac510bade","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":10.9379,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUN0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN0"}}
{"Timestamp":"2024-11-10T22:20:43.9705772+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b25d22a74e919038b1584e7aa5227429","SpanId":"b21dd76ac510bade","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUN0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN0"}}
{"Timestamp":"2024-11-10T22:20:43.9713440+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b25d22a74e919038b1584e7aa5227429","SpanId":"b21dd76ac510bade","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":16.2937,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.2937"}]}}
{"Timestamp":"2024-11-10T22:20:43.9731139+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b25d22a74e919038b1584e7aa5227429","SpanId":"b21dd76ac510bade","Properties":{"ElapsedMilliseconds":19.8862,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUN0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN0"}}
{"Timestamp":"2024-11-10T22:20:43.9990208+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4a5828bda9366a4aa83e1765b417a8c2","SpanId":"78c115e414c27583","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUN1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUN1"}}
{"Timestamp":"2024-11-10T22:20:44.0017869+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"891daca1cebd2cc3fa33a35c41261f29","SpanId":"71d1ef385039afd3","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUN2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUN2"}}
{"Timestamp":"2024-11-10T22:20:44.0152800+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4a5828bda9366a4aa83e1765b417a8c2","SpanId":"78c115e414c27583","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUN1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUN1"}}
{"Timestamp":"2024-11-10T22:20:44.0175046+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"891daca1cebd2cc3fa33a35c41261f29","SpanId":"71d1ef385039afd3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUN2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUN2"}}
{"Timestamp":"2024-11-10T22:20:44.0183219+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4a5828bda9366a4aa83e1765b417a8c2","SpanId":"78c115e414c27583","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUN1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUN1"}}
{"Timestamp":"2024-11-10T22:20:44.0192762+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"891daca1cebd2cc3fa33a35c41261f29","SpanId":"71d1ef385039afd3","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUN2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUN2"}}
{"Timestamp":"2024-11-10T22:20:44.0293364+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4a5828bda9366a4aa83e1765b417a8c2","SpanId":"78c115e414c27583","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUN1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUN1"}}
{"Timestamp":"2024-11-10T22:20:44.0322814+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4a5828bda9366a4aa83e1765b417a8c2","SpanId":"78c115e414c27583","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUN1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUN1"}}
{"Timestamp":"2024-11-10T22:20:44.0349019+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4a5828bda9366a4aa83e1765b417a8c2","SpanId":"78c115e414c27583","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":14.1542,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUN1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUN1"}}
{"Timestamp":"2024-11-10T22:20:44.0372829+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4a5828bda9366a4aa83e1765b417a8c2","SpanId":"78c115e414c27583","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUN1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUN1"}}
{"Timestamp":"2024-11-10T22:20:44.0375593+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"891daca1cebd2cc3fa33a35c41261f29","SpanId":"71d1ef385039afd3","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUN2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUN2"}}
{"Timestamp":"2024-11-10T22:20:44.0385353+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4a5828bda9366a4aa83e1765b417a8c2","SpanId":"78c115e414c27583","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":23.6017,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.6017"}]}}
{"Timestamp":"2024-11-10T22:20:44.0408274+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"891daca1cebd2cc3fa33a35c41261f29","SpanId":"71d1ef385039afd3","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUN2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUN2"}}
{"Timestamp":"2024-11-10T22:20:44.0429681+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4a5828bda9366a4aa83e1765b417a8c2","SpanId":"78c115e414c27583","Properties":{"ElapsedMilliseconds":44.0044,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUN1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUN1"}}
{"Timestamp":"2024-11-10T22:20:44.0444201+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"891daca1cebd2cc3fa33a35c41261f29","SpanId":"71d1ef385039afd3","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":22.2179,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUN2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUN2"}}
{"Timestamp":"2024-11-10T22:20:44.0491215+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"891daca1cebd2cc3fa33a35c41261f29","SpanId":"71d1ef385039afd3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUN2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUN2"}}
{"Timestamp":"2024-11-10T22:20:44.0501934+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"891daca1cebd2cc3fa33a35c41261f29","SpanId":"71d1ef385039afd3","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":32.7932,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"32.7932"}]}}
{"Timestamp":"2024-11-10T22:20:44.0537815+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"891daca1cebd2cc3fa33a35c41261f29","SpanId":"71d1ef385039afd3","Properties":{"ElapsedMilliseconds":51.9551,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUN2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUN2"}}
{"Timestamp":"2024-11-10T22:21:49.5186507+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b6e76ae536a6e3778c4c7ff765d52700","SpanId":"74eff8d5d3d36bb2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUN3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN3"}}
{"Timestamp":"2024-11-10T22:21:49.5316095+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b6e76ae536a6e3778c4c7ff765d52700","SpanId":"74eff8d5d3d36bb2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUN3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN3"}}
{"Timestamp":"2024-11-10T22:21:49.5328535+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b6e76ae536a6e3778c4c7ff765d52700","SpanId":"74eff8d5d3d36bb2","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUN3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN3"}}
{"Timestamp":"2024-11-10T22:21:49.5472024+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b6e76ae536a6e3778c4c7ff765d52700","SpanId":"74eff8d5d3d36bb2","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUN3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN3"}}
{"Timestamp":"2024-11-10T22:21:49.5564043+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b6e76ae536a6e3778c4c7ff765d52700","SpanId":"74eff8d5d3d36bb2","Properties":{"elapsed":"6","parameters":"@p7='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [ExpiredAt] = @p0, [IsRevoked] = @p1, [IsUsed] = @p2, [IssuedAt] = @p3, [JwtId] = @p4, [Token] = @p5, [userId] = @p6\r\nOUTPUT 1\r\nWHERE [Id] = @p7;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUN3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN3"}}
{"Timestamp":"2024-11-10T22:21:49.5590429+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b6e76ae536a6e3778c4c7ff765d52700","SpanId":"74eff8d5d3d36bb2","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUN3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN3"}}
{"Timestamp":"2024-11-10T22:21:49.5602889+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b6e76ae536a6e3778c4c7ff765d52700","SpanId":"74eff8d5d3d36bb2","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":25.4145,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUN3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN3"}}
{"Timestamp":"2024-11-10T22:21:49.5620666+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b6e76ae536a6e3778c4c7ff765d52700","SpanId":"74eff8d5d3d36bb2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUN3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN3"}}
{"Timestamp":"2024-11-10T22:21:49.5637116+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b6e76ae536a6e3778c4c7ff765d52700","SpanId":"74eff8d5d3d36bb2","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":32.1623,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"32.1623"}]}}
{"Timestamp":"2024-11-10T22:21:49.5658914+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b6e76ae536a6e3778c4c7ff765d52700","SpanId":"74eff8d5d3d36bb2","Properties":{"ElapsedMilliseconds":47.1004,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUN3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN3"}}
{"Timestamp":"2024-11-10T22:21:57.0440116+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ba102c530f3873b9f684d9b36b0a6156","SpanId":"5eb2d90b0b342426","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUN4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUN4"}}
{"Timestamp":"2024-11-10T22:21:57.0461190+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ba102c530f3873b9f684d9b36b0a6156","SpanId":"5eb2d90b0b342426","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUN4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUN4"}}
{"Timestamp":"2024-11-10T22:21:57.0480881+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ba102c530f3873b9f684d9b36b0a6156","SpanId":"5eb2d90b0b342426","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OUN4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUN4"}}
{"Timestamp":"2024-11-10T22:21:57.0559571+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ba102c530f3873b9f684d9b36b0a6156","SpanId":"5eb2d90b0b342426","Properties":{"elapsed":"3","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OUN4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUN4"}}
{"Timestamp":"2024-11-10T22:21:57.0648014+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ba102c530f3873b9f684d9b36b0a6156","SpanId":"5eb2d90b0b342426","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OUN4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUN4"}}
{"Timestamp":"2024-11-10T22:21:57.0674950+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ba102c530f3873b9f684d9b36b0a6156","SpanId":"5eb2d90b0b342426","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OUN4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUN4"}}
{"Timestamp":"2024-11-10T22:21:57.0688244+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ba102c530f3873b9f684d9b36b0a6156","SpanId":"5eb2d90b0b342426","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":19.1369,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUN4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUN4"}}
{"Timestamp":"2024-11-10T22:21:57.0699370+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ba102c530f3873b9f684d9b36b0a6156","SpanId":"5eb2d90b0b342426","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUN4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUN4"}}
{"Timestamp":"2024-11-10T22:21:57.0707443+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ba102c530f3873b9f684d9b36b0a6156","SpanId":"5eb2d90b0b342426","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":24.7403,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.7403"}]}}
{"Timestamp":"2024-11-10T22:21:57.0723553+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ba102c530f3873b9f684d9b36b0a6156","SpanId":"5eb2d90b0b342426","Properties":{"ElapsedMilliseconds":28.346,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUN4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUN4"}}
{"Timestamp":"2024-11-10T22:21:58.4778072+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c6d93e617d25044ef9d714d140979f27","SpanId":"5813ee69fdb0e4ff","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUN5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN5"}}
{"Timestamp":"2024-11-10T22:21:58.4827679+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c6d93e617d25044ef9d714d140979f27","SpanId":"5813ee69fdb0e4ff","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUN5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN5"}}
{"Timestamp":"2024-11-10T22:21:58.4835135+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c6d93e617d25044ef9d714d140979f27","SpanId":"5813ee69fdb0e4ff","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUN5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN5"}}
{"Timestamp":"2024-11-10T22:22:00.7073198+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c6d93e617d25044ef9d714d140979f27","SpanId":"5813ee69fdb0e4ff","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUN5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN5"}}
{"Timestamp":"2024-11-10T22:22:00.7144477+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c6d93e617d25044ef9d714d140979f27","SpanId":"5813ee69fdb0e4ff","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUN5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN5"}}
{"Timestamp":"2024-11-10T22:22:00.7171133+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c6d93e617d25044ef9d714d140979f27","SpanId":"5813ee69fdb0e4ff","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUN5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN5"}}
{"Timestamp":"2024-11-10T22:22:00.7189014+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c6d93e617d25044ef9d714d140979f27","SpanId":"5813ee69fdb0e4ff","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":2234.2259,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUN5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN5"}}
{"Timestamp":"2024-11-10T22:22:00.7202572+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c6d93e617d25044ef9d714d140979f27","SpanId":"5813ee69fdb0e4ff","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUN5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN5"}}
{"Timestamp":"2024-11-10T22:22:00.7210847+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c6d93e617d25044ef9d714d140979f27","SpanId":"5813ee69fdb0e4ff","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":2238.3689,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2238.3689"}]}}
{"Timestamp":"2024-11-10T22:22:00.7224121+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c6d93e617d25044ef9d714d140979f27","SpanId":"5813ee69fdb0e4ff","Properties":{"ElapsedMilliseconds":2244.6631,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUN5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN5"}}
{"Timestamp":"2024-11-10T22:22:01.1613066+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e538297c342bd14f30e506a939564c9e","SpanId":"d2fbb8717ba13a67","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUN6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN6"}}
{"Timestamp":"2024-11-10T22:22:01.1648434+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e538297c342bd14f30e506a939564c9e","SpanId":"d2fbb8717ba13a67","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUN6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN6"}}
{"Timestamp":"2024-11-10T22:22:01.1656716+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e538297c342bd14f30e506a939564c9e","SpanId":"d2fbb8717ba13a67","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUN6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN6"}}
{"Timestamp":"2024-11-10T22:22:01.1703451+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e538297c342bd14f30e506a939564c9e","SpanId":"d2fbb8717ba13a67","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUN6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN6"}}
{"Timestamp":"2024-11-10T22:22:01.1763592+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e538297c342bd14f30e506a939564c9e","SpanId":"d2fbb8717ba13a67","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUN6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN6"}}
{"Timestamp":"2024-11-10T22:22:01.1803219+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e538297c342bd14f30e506a939564c9e","SpanId":"d2fbb8717ba13a67","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUN6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN6"}}
{"Timestamp":"2024-11-10T22:22:01.1815476+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e538297c342bd14f30e506a939564c9e","SpanId":"d2fbb8717ba13a67","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":14.6985,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUN6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN6"}}
{"Timestamp":"2024-11-10T22:22:01.1826122+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e538297c342bd14f30e506a939564c9e","SpanId":"d2fbb8717ba13a67","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUN6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN6"}}
{"Timestamp":"2024-11-10T22:22:01.1842406+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e538297c342bd14f30e506a939564c9e","SpanId":"d2fbb8717ba13a67","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":19.5616,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.5616"}]}}
{"Timestamp":"2024-11-10T22:22:01.1855614+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e538297c342bd14f30e506a939564c9e","SpanId":"d2fbb8717ba13a67","Properties":{"ElapsedMilliseconds":24.3515,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUN6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN6"}}
{"Timestamp":"2024-11-10T22:22:01.1885990+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"56f899862d3f693d6b0701bbea8edd8f","SpanId":"92822918623ea41a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUN7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUN7"}}
{"Timestamp":"2024-11-10T22:22:01.1900286+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ba81077c7bfac4c06dc715d80736be68","SpanId":"3971eec26178f39f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUN8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUN8"}}
{"Timestamp":"2024-11-10T22:22:01.2013575+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"56f899862d3f693d6b0701bbea8edd8f","SpanId":"92822918623ea41a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUN7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUN7"}}
{"Timestamp":"2024-11-10T22:22:01.2045003+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ba81077c7bfac4c06dc715d80736be68","SpanId":"3971eec26178f39f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUN8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUN8"}}
{"Timestamp":"2024-11-10T22:22:01.2052444+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"56f899862d3f693d6b0701bbea8edd8f","SpanId":"92822918623ea41a","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUN7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUN7"}}
{"Timestamp":"2024-11-10T22:22:01.2061510+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ba81077c7bfac4c06dc715d80736be68","SpanId":"3971eec26178f39f","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUN8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUN8"}}
{"Timestamp":"2024-11-10T22:22:01.2139769+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"56f899862d3f693d6b0701bbea8edd8f","SpanId":"92822918623ea41a","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUN7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUN7"}}
{"Timestamp":"2024-11-10T22:22:01.2164865+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"56f899862d3f693d6b0701bbea8edd8f","SpanId":"92822918623ea41a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"63b60358-d45c-4a03-91ac-2f42590439ac","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUN7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUN7"}}
{"Timestamp":"2024-11-10T22:22:01.2164791+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ba81077c7bfac4c06dc715d80736be68","SpanId":"3971eec26178f39f","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUN8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUN8"}}
{"Timestamp":"2024-11-10T22:22:01.2186941+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"56f899862d3f693d6b0701bbea8edd8f","SpanId":"92822918623ea41a","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":11.2621,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUN7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUN7"}}
{"Timestamp":"2024-11-10T22:22:01.2208183+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ba81077c7bfac4c06dc715d80736be68","SpanId":"3971eec26178f39f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUN8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUN8"}}
{"Timestamp":"2024-11-10T22:22:01.2220959+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"56f899862d3f693d6b0701bbea8edd8f","SpanId":"92822918623ea41a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUN7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUN7"}}
{"Timestamp":"2024-11-10T22:22:01.2229972+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ba81077c7bfac4c06dc715d80736be68","SpanId":"3971eec26178f39f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":14.1473,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUN8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUN8"}}
{"Timestamp":"2024-11-10T22:22:01.2237669+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"56f899862d3f693d6b0701bbea8edd8f","SpanId":"92822918623ea41a","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":22.7648,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.7648"}]}}
{"Timestamp":"2024-11-10T22:22:01.2246232+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ba81077c7bfac4c06dc715d80736be68","SpanId":"3971eec26178f39f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUN8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUN8"}}
{"Timestamp":"2024-11-10T22:22:01.2272472+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"56f899862d3f693d6b0701bbea8edd8f","SpanId":"92822918623ea41a","Properties":{"ElapsedMilliseconds":38.6803,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUN7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81IMO9OUN7"}}
{"Timestamp":"2024-11-10T22:22:01.2279271+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ba81077c7bfac4c06dc715d80736be68","SpanId":"3971eec26178f39f","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":23.6274,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.6274"}]}}
{"Timestamp":"2024-11-10T22:22:01.2330204+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ba81077c7bfac4c06dc715d80736be68","SpanId":"3971eec26178f39f","Properties":{"ElapsedMilliseconds":43.0719,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUN8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUN8"}}
{"Timestamp":"2024-11-10T22:23:03.4270551+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"73a5c932357b3abd757ced8a99db9422","SpanId":"3dedf5db58e54fee","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUN9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN9"}}
{"Timestamp":"2024-11-10T22:23:03.4320472+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"73a5c932357b3abd757ced8a99db9422","SpanId":"3dedf5db58e54fee","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUN9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN9"}}
{"Timestamp":"2024-11-10T22:23:03.4335629+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"73a5c932357b3abd757ced8a99db9422","SpanId":"3dedf5db58e54fee","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUN9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN9"}}
{"Timestamp":"2024-11-10T22:23:03.4712229+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"73a5c932357b3abd757ced8a99db9422","SpanId":"3dedf5db58e54fee","Properties":{"elapsed":"9","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUN9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN9"}}
{"Timestamp":"2024-11-10T22:23:03.4789582+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"73a5c932357b3abd757ced8a99db9422","SpanId":"3dedf5db58e54fee","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUN9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN9"}}
{"Timestamp":"2024-11-10T22:23:03.4811979+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"73a5c932357b3abd757ced8a99db9422","SpanId":"3dedf5db58e54fee","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUN9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN9"}}
{"Timestamp":"2024-11-10T22:23:03.4823052+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"73a5c932357b3abd757ced8a99db9422","SpanId":"3dedf5db58e54fee","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":46.399,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUN9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN9"}}
{"Timestamp":"2024-11-10T22:23:03.4833177+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"73a5c932357b3abd757ced8a99db9422","SpanId":"3dedf5db58e54fee","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUN9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN9"}}
{"Timestamp":"2024-11-10T22:23:03.4845160+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"73a5c932357b3abd757ced8a99db9422","SpanId":"3dedf5db58e54fee","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":52.5958,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"52.5958"}]}}
{"Timestamp":"2024-11-10T22:23:03.4860104+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"73a5c932357b3abd757ced8a99db9422","SpanId":"3dedf5db58e54fee","Properties":{"ElapsedMilliseconds":59.5838,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUN9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUN9"}}
{"Timestamp":"2024-11-10T22:23:03.4898857+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"814d4b1c7657e2d7e454a406792be918","SpanId":"afe02f4a5c262754","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUNA:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUNA"}}
{"Timestamp":"2024-11-10T22:23:03.4912634+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"814d4b1c7657e2d7e454a406792be918","SpanId":"afe02f4a5c262754","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUNA:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUNA"}}
{"Timestamp":"2024-11-10T22:23:03.4918359+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"814d4b1c7657e2d7e454a406792be918","SpanId":"afe02f4a5c262754","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUNA:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUNA"}}
{"Timestamp":"2024-11-10T22:23:03.4967689+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"814d4b1c7657e2d7e454a406792be918","SpanId":"afe02f4a5c262754","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUNA:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUNA"}}
{"Timestamp":"2024-11-10T22:23:03.4988029+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"814d4b1c7657e2d7e454a406792be918","SpanId":"afe02f4a5c262754","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"330572af-b1eb-41c9-bbae-15250a706d5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81IMO9OUNA:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUNA"}}
{"Timestamp":"2024-11-10T22:23:03.5002860+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"814d4b1c7657e2d7e454a406792be918","SpanId":"afe02f4a5c262754","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":7.5361,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUNA:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUNA"}}
{"Timestamp":"2024-11-10T22:23:03.5011977+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"814d4b1c7657e2d7e454a406792be918","SpanId":"afe02f4a5c262754","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUNA:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUNA"}}
{"Timestamp":"2024-11-10T22:23:03.5018937+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"814d4b1c7657e2d7e454a406792be918","SpanId":"afe02f4a5c262754","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":10.7628,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"10.7628"}]}}
{"Timestamp":"2024-11-10T22:23:03.5028466+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"814d4b1c7657e2d7e454a406792be918","SpanId":"afe02f4a5c262754","Properties":{"ElapsedMilliseconds":13.0346,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUNA:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81IMO9OUNA"}}
{"Timestamp":"2024-11-10T22:23:08.6558706+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e2845fa251a66ccbc202dd3b87b9515e","SpanId":"0e6fc138ab75cc30","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUNB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUNB"}}
{"Timestamp":"2024-11-10T22:23:08.6587800+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e2845fa251a66ccbc202dd3b87b9515e","SpanId":"0e6fc138ab75cc30","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUNB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUNB"}}
{"Timestamp":"2024-11-10T22:23:08.6604960+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e2845fa251a66ccbc202dd3b87b9515e","SpanId":"0e6fc138ab75cc30","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUNB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUNB"}}
{"Timestamp":"2024-11-10T22:23:08.6678124+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e2845fa251a66ccbc202dd3b87b9515e","SpanId":"0e6fc138ab75cc30","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUNB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUNB"}}
{"Timestamp":"2024-11-10T22:23:08.6774688+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e2845fa251a66ccbc202dd3b87b9515e","SpanId":"0e6fc138ab75cc30","Properties":{"elapsed":"5","parameters":"@p7='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [ExpiredAt] = @p0, [IsRevoked] = @p1, [IsUsed] = @p2, [IssuedAt] = @p3, [JwtId] = @p4, [Token] = @p5, [userId] = @p6\r\nOUTPUT 1\r\nWHERE [Id] = @p7;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUNB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUNB"}}
{"Timestamp":"2024-11-10T22:23:08.6804157+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e2845fa251a66ccbc202dd3b87b9515e","SpanId":"0e6fc138ab75cc30","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03cae8e0-2eb4-4af6-9d39-6d99c2cefe1e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81IMO9OUNB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUNB"}}
{"Timestamp":"2024-11-10T22:23:08.6816842+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e2845fa251a66ccbc202dd3b87b9515e","SpanId":"0e6fc138ab75cc30","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":19.9207,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUNB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUNB"}}
{"Timestamp":"2024-11-10T22:23:08.6825098+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e2845fa251a66ccbc202dd3b87b9515e","SpanId":"0e6fc138ab75cc30","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUNB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUNB"}}
{"Timestamp":"2024-11-10T22:23:08.6831510+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e2845fa251a66ccbc202dd3b87b9515e","SpanId":"0e6fc138ab75cc30","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":24.6013,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.6013"}]}}
{"Timestamp":"2024-11-10T22:23:08.6849017+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e2845fa251a66ccbc202dd3b87b9515e","SpanId":"0e6fc138ab75cc30","Properties":{"ElapsedMilliseconds":29.1994,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUNB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81IMO9OUNB"}}
{"Timestamp":"2024-11-10T22:23:31.3878637+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"048796b9ded9f48ade641e04efedcbd8","SpanId":"8dfe8400d48274b9","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUNC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUNC"}}
{"Timestamp":"2024-11-10T22:23:31.3930121+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"048796b9ded9f48ade641e04efedcbd8","SpanId":"8dfe8400d48274b9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUNC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUNC"}}
{"Timestamp":"2024-11-10T22:23:31.3948812+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"048796b9ded9f48ade641e04efedcbd8","SpanId":"8dfe8400d48274b9","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OUNC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUNC"}}
{"Timestamp":"2024-11-10T22:23:31.4043196+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"048796b9ded9f48ade641e04efedcbd8","SpanId":"8dfe8400d48274b9","Properties":{"elapsed":"3","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OUNC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUNC"}}
{"Timestamp":"2024-11-10T22:23:31.4139693+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"048796b9ded9f48ade641e04efedcbd8","SpanId":"8dfe8400d48274b9","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OUNC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUNC"}}
{"Timestamp":"2024-11-10T22:23:31.4172995+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"048796b9ded9f48ade641e04efedcbd8","SpanId":"8dfe8400d48274b9","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e39f1b1b-ca7f-4b48-a768-dfcb515ebac9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81IMO9OUNC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUNC"}}
{"Timestamp":"2024-11-10T22:23:31.4190883+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"048796b9ded9f48ade641e04efedcbd8","SpanId":"8dfe8400d48274b9","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":21.5026,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81IMO9OUNC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUNC"}}
{"Timestamp":"2024-11-10T22:23:31.4203942+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"048796b9ded9f48ade641e04efedcbd8","SpanId":"8dfe8400d48274b9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81IMO9OUNC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUNC"}}
{"Timestamp":"2024-11-10T22:23:31.4213149+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"048796b9ded9f48ade641e04efedcbd8","SpanId":"8dfe8400d48274b9","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":28.456,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.4560"}]}}
{"Timestamp":"2024-11-10T22:23:31.4229371+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"048796b9ded9f48ade641e04efedcbd8","SpanId":"8dfe8400d48274b9","Properties":{"ElapsedMilliseconds":35.2268,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81IMO9OUNC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81IMO9OUNC"}}
{"Timestamp":"2024-11-10T22:29:45.0124364+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-10T22:29:45.3436352+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T22:29:45.4059071+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T22:29:45.4088460+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T22:29:45.4105785+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T22:29:45.8972859+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"583fe5f99a6181517df61faa609638e9","SpanId":"e940476dcf2464d7","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI0MR0QA:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN81JI0MR0QA"}}
{"Timestamp":"2024-11-10T22:29:46.3015240+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"583fe5f99a6181517df61faa609638e9","SpanId":"e940476dcf2464d7","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":109.5919,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"109.5919"}]}}
{"Timestamp":"2024-11-10T22:29:46.3133648+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"79c555c63d7d892961e771f88c1fd615","SpanId":"7fc5d2150a59551e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI0MR0QB:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN81JI0MR0QB"}}
{"Timestamp":"2024-11-10T22:29:46.3095944+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ed12e6789cdccb09a11236c39fad471b","SpanId":"abdc5ef90c75b023","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI0MR0QC:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN81JI0MR0QC"}}
{"Timestamp":"2024-11-10T22:29:46.3253427+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"583fe5f99a6181517df61faa609638e9","SpanId":"e940476dcf2464d7","Properties":{"ElapsedMilliseconds":439.0916,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI0MR0QA:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN81JI0MR0QA"}}
{"Timestamp":"2024-11-10T22:29:46.3339601+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"79c555c63d7d892961e771f88c1fd615","SpanId":"7fc5d2150a59551e","Properties":{"ElapsedMilliseconds":20.4719,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI0MR0QB:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN81JI0MR0QB"}}
{"Timestamp":"2024-11-10T22:29:46.3814010+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ed12e6789cdccb09a11236c39fad471b","SpanId":"abdc5ef90c75b023","Properties":{"ElapsedMilliseconds":72.0153,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI0MR0QC:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN81JI0MR0QC"}}
{"Timestamp":"2024-11-10T22:29:46.4342898+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ba129496718cb6c9e866f6ff150edb60","SpanId":"1a3fc028cd4e902a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI0MR0QC:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN81JI0MR0QC"}}
{"Timestamp":"2024-11-10T22:29:46.5794044+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ba129496718cb6c9e866f6ff150edb60","SpanId":"1a3fc028cd4e902a","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":139.8616,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"139.8616"}]}}
{"Timestamp":"2024-11-10T22:29:46.5813781+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ba129496718cb6c9e866f6ff150edb60","SpanId":"1a3fc028cd4e902a","Properties":{"ElapsedMilliseconds":147.0376,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI0MR0QC:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN81JI0MR0QC"}}
{"Timestamp":"2024-11-10T22:30:02.4490307+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-10T22:30:02.9018527+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T22:30:03.0589773+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T22:30:03.0699931+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T22:30:03.0708479+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T22:30:03.2474160+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ce78b813abbe269b9ff0f53f4a8c6d12","SpanId":"86681ef79dca47f0","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CG8:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN81JI5T8CG8"}}
{"Timestamp":"2024-11-10T22:30:03.5578119+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ce78b813abbe269b9ff0f53f4a8c6d12","SpanId":"86681ef79dca47f0","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":87.0511,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"87.0511"}]}}
{"Timestamp":"2024-11-10T22:30:03.5661244+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a72c453ddd04e374141283b62bfc27a7","SpanId":"695e2cf96c224ec6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CG9:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN81JI5T8CG9"}}
{"Timestamp":"2024-11-10T22:30:03.5744740+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"beeaa5e6b1e0ff32ae6916a5bad29f0b","SpanId":"a2f743effb751d0d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGA:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN81JI5T8CGA"}}
{"Timestamp":"2024-11-10T22:30:03.5815220+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ce78b813abbe269b9ff0f53f4a8c6d12","SpanId":"86681ef79dca47f0","Properties":{"ElapsedMilliseconds":344.4875,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CG8:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN81JI5T8CG8"}}
{"Timestamp":"2024-11-10T22:30:03.5815219+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a72c453ddd04e374141283b62bfc27a7","SpanId":"695e2cf96c224ec6","Properties":{"ElapsedMilliseconds":15.2034,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CG9:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN81JI5T8CG9"}}
{"Timestamp":"2024-11-10T22:30:03.6239605+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"beeaa5e6b1e0ff32ae6916a5bad29f0b","SpanId":"a2f743effb751d0d","Properties":{"ElapsedMilliseconds":50.0154,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGA:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN81JI5T8CGA"}}
{"Timestamp":"2024-11-10T22:30:03.6592781+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2d08d0b7f954d38593ae4bd34f3d5108","SpanId":"a474974dd09e458f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGA:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN81JI5T8CGA"}}
{"Timestamp":"2024-11-10T22:30:03.8253132+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2d08d0b7f954d38593ae4bd34f3d5108","SpanId":"a474974dd09e458f","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":162.7929,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"162.7929"}]}}
{"Timestamp":"2024-11-10T22:30:03.8300109+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2d08d0b7f954d38593ae4bd34f3d5108","SpanId":"a474974dd09e458f","Properties":{"ElapsedMilliseconds":170.8564,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGA:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN81JI5T8CGA"}}
{"Timestamp":"2024-11-10T22:30:12.0754867+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ec525b52dd86be5c15257004c87bcb97","SpanId":"4d22e48c8adafd31","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGB:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JI5T8CGB"}}
{"Timestamp":"2024-11-10T22:30:12.0835226+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"ec525b52dd86be5c15257004c87bcb97","SpanId":"4d22e48c8adafd31","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN81JI5T8CGB:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JI5T8CGB"}}
{"Timestamp":"2024-11-10T22:30:12.1918176+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ec525b52dd86be5c15257004c87bcb97","SpanId":"4d22e48c8adafd31","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGB:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JI5T8CGB"}}
{"Timestamp":"2024-11-10T22:30:12.2407055+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ec525b52dd86be5c15257004c87bcb97","SpanId":"4d22e48c8adafd31","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3f58836d-6d62-4eb7-856d-000eddb5260f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81JI5T8CGB:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JI5T8CGB"}}
{"Timestamp":"2024-11-10T22:30:14.4158410+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ec525b52dd86be5c15257004c87bcb97","SpanId":"4d22e48c8adafd31","Properties":{"elapsed":"65","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3f58836d-6d62-4eb7-856d-000eddb5260f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81JI5T8CGB:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JI5T8CGB"}}
{"Timestamp":"2024-11-10T22:30:14.7999423+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ec525b52dd86be5c15257004c87bcb97","SpanId":"4d22e48c8adafd31","Properties":{"elapsed":"36","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3f58836d-6d62-4eb7-856d-000eddb5260f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81JI5T8CGB:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JI5T8CGB"}}
{"Timestamp":"2024-11-10T22:30:14.8453003+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ec525b52dd86be5c15257004c87bcb97","SpanId":"4d22e48c8adafd31","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"3f58836d-6d62-4eb7-856d-000eddb5260f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81JI5T8CGB:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JI5T8CGB"}}
{"Timestamp":"2024-11-10T22:30:14.8574848+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ec525b52dd86be5c15257004c87bcb97","SpanId":"4d22e48c8adafd31","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":2610.6324,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JI5T8CGB:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JI5T8CGB"}}
{"Timestamp":"2024-11-10T22:30:14.8592571+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ec525b52dd86be5c15257004c87bcb97","SpanId":"4d22e48c8adafd31","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGB:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JI5T8CGB"}}
{"Timestamp":"2024-11-10T22:30:14.8623939+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ec525b52dd86be5c15257004c87bcb97","SpanId":"4d22e48c8adafd31","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":2782.6001,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2782.6001"}]}}
{"Timestamp":"2024-11-10T22:30:14.8752352+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ec525b52dd86be5c15257004c87bcb97","SpanId":"4d22e48c8adafd31","Properties":{"ElapsedMilliseconds":2799.8941,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGB:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JI5T8CGB"}}
{"Timestamp":"2024-11-10T22:30:20.6242142+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f543cc58cd47f0ae630d12ede8f4cfcb","SpanId":"8395e2bfecd05b04","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGC"}}
{"Timestamp":"2024-11-10T22:30:20.6313100+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f543cc58cd47f0ae630d12ede8f4cfcb","SpanId":"8395e2bfecd05b04","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGC"}}
{"Timestamp":"2024-11-10T22:30:20.6389061+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f543cc58cd47f0ae630d12ede8f4cfcb","SpanId":"8395e2bfecd05b04","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGC"}}
{"Timestamp":"2024-11-10T22:30:20.7580575+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f543cc58cd47f0ae630d12ede8f4cfcb","SpanId":"8395e2bfecd05b04","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGC"}}
{"Timestamp":"2024-11-10T22:30:20.8367112+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f543cc58cd47f0ae630d12ede8f4cfcb","SpanId":"8395e2bfecd05b04","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGC"}}
{"Timestamp":"2024-11-10T22:30:20.8551343+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f543cc58cd47f0ae630d12ede8f4cfcb","SpanId":"8395e2bfecd05b04","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGC"}}
{"Timestamp":"2024-11-10T22:30:20.8562801+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f543cc58cd47f0ae630d12ede8f4cfcb","SpanId":"8395e2bfecd05b04","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":214.3803,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JI5T8CGC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGC"}}
{"Timestamp":"2024-11-10T22:30:20.8571476+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f543cc58cd47f0ae630d12ede8f4cfcb","SpanId":"8395e2bfecd05b04","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGC"}}
{"Timestamp":"2024-11-10T22:30:20.8578087+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f543cc58cd47f0ae630d12ede8f4cfcb","SpanId":"8395e2bfecd05b04","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":228.0877,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"228.0877"}]}}
{"Timestamp":"2024-11-10T22:30:20.8598927+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f543cc58cd47f0ae630d12ede8f4cfcb","SpanId":"8395e2bfecd05b04","Properties":{"ElapsedMilliseconds":235.8062,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGC"}}
{"Timestamp":"2024-11-10T22:30:39.7997003+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6fadf74bd503ed99d9534203456b3c14","SpanId":"a0e8137d3ae1015f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGD:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JI5T8CGD"}}
{"Timestamp":"2024-11-10T22:30:39.8042812+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6fadf74bd503ed99d9534203456b3c14","SpanId":"a0e8137d3ae1015f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGD:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JI5T8CGD"}}
{"Timestamp":"2024-11-10T22:30:39.8057339+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6fadf74bd503ed99d9534203456b3c14","SpanId":"a0e8137d3ae1015f","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3f58836d-6d62-4eb7-856d-000eddb5260f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81JI5T8CGD:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JI5T8CGD"}}
{"Timestamp":"2024-11-10T22:30:39.9069564+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6fadf74bd503ed99d9534203456b3c14","SpanId":"a0e8137d3ae1015f","Properties":{"elapsed":"3","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3f58836d-6d62-4eb7-856d-000eddb5260f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81JI5T8CGD:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JI5T8CGD"}}
{"Timestamp":"2024-11-10T22:30:39.9178137+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6fadf74bd503ed99d9534203456b3c14","SpanId":"a0e8137d3ae1015f","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3f58836d-6d62-4eb7-856d-000eddb5260f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81JI5T8CGD:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JI5T8CGD"}}
{"Timestamp":"2024-11-10T22:30:39.9208239+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6fadf74bd503ed99d9534203456b3c14","SpanId":"a0e8137d3ae1015f","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"3f58836d-6d62-4eb7-856d-000eddb5260f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81JI5T8CGD:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JI5T8CGD"}}
{"Timestamp":"2024-11-10T22:30:39.9221428+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6fadf74bd503ed99d9534203456b3c14","SpanId":"a0e8137d3ae1015f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":113.6752,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JI5T8CGD:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JI5T8CGD"}}
{"Timestamp":"2024-11-10T22:30:39.9234595+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6fadf74bd503ed99d9534203456b3c14","SpanId":"a0e8137d3ae1015f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGD:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JI5T8CGD"}}
{"Timestamp":"2024-11-10T22:30:39.9247099+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6fadf74bd503ed99d9534203456b3c14","SpanId":"a0e8137d3ae1015f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":122.7748,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"122.7748"}]}}
{"Timestamp":"2024-11-10T22:30:39.9262230+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6fadf74bd503ed99d9534203456b3c14","SpanId":"a0e8137d3ae1015f","Properties":{"ElapsedMilliseconds":126.5891,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGD:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JI5T8CGD"}}
{"Timestamp":"2024-11-10T22:30:45.2339722+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0250e01cb0122f2c8a423854d1c4ee3b","SpanId":"43d8f0ef776f4d76","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGE"}}
{"Timestamp":"2024-11-10T22:30:45.2380220+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0250e01cb0122f2c8a423854d1c4ee3b","SpanId":"43d8f0ef776f4d76","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGE"}}
{"Timestamp":"2024-11-10T22:30:45.2393542+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0250e01cb0122f2c8a423854d1c4ee3b","SpanId":"43d8f0ef776f4d76","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGE"}}
{"Timestamp":"2024-11-10T22:30:45.2535330+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0250e01cb0122f2c8a423854d1c4ee3b","SpanId":"43d8f0ef776f4d76","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGE"}}
{"Timestamp":"2024-11-10T22:30:45.2626802+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0250e01cb0122f2c8a423854d1c4ee3b","SpanId":"43d8f0ef776f4d76","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGE"}}
{"Timestamp":"2024-11-10T22:30:45.2668198+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0250e01cb0122f2c8a423854d1c4ee3b","SpanId":"43d8f0ef776f4d76","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGE"}}
{"Timestamp":"2024-11-10T22:30:45.2690329+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0250e01cb0122f2c8a423854d1c4ee3b","SpanId":"43d8f0ef776f4d76","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":27.7852,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JI5T8CGE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGE"}}
{"Timestamp":"2024-11-10T22:30:45.2716903+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0250e01cb0122f2c8a423854d1c4ee3b","SpanId":"43d8f0ef776f4d76","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGE"}}
{"Timestamp":"2024-11-10T22:30:45.2733267+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0250e01cb0122f2c8a423854d1c4ee3b","SpanId":"43d8f0ef776f4d76","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":35.4524,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.4524"}]}}
{"Timestamp":"2024-11-10T22:30:45.2796102+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0250e01cb0122f2c8a423854d1c4ee3b","SpanId":"43d8f0ef776f4d76","Properties":{"ElapsedMilliseconds":45.6317,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGE"}}
{"Timestamp":"2024-11-10T22:30:55.0150544+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"503d621f0c5219cef902fea1989c5021","SpanId":"a2cb3d83052c9117","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGF"}}
{"Timestamp":"2024-11-10T22:30:55.0171215+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"503d621f0c5219cef902fea1989c5021","SpanId":"a2cb3d83052c9117","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGF"}}
{"Timestamp":"2024-11-10T22:30:55.0184685+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"503d621f0c5219cef902fea1989c5021","SpanId":"a2cb3d83052c9117","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGF"}}
{"Timestamp":"2024-11-10T22:30:55.0274309+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"503d621f0c5219cef902fea1989c5021","SpanId":"a2cb3d83052c9117","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGF"}}
{"Timestamp":"2024-11-10T22:30:55.0365758+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"503d621f0c5219cef902fea1989c5021","SpanId":"a2cb3d83052c9117","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGF"}}
{"Timestamp":"2024-11-10T22:30:55.0398371+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"503d621f0c5219cef902fea1989c5021","SpanId":"a2cb3d83052c9117","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGF"}}
{"Timestamp":"2024-11-10T22:30:55.0418163+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"503d621f0c5219cef902fea1989c5021","SpanId":"a2cb3d83052c9117","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":22.1609,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JI5T8CGF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGF"}}
{"Timestamp":"2024-11-10T22:30:55.0435920+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"503d621f0c5219cef902fea1989c5021","SpanId":"a2cb3d83052c9117","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGF"}}
{"Timestamp":"2024-11-10T22:30:55.0441888+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"88622c303844eaae92428e74c8f45994","SpanId":"e7d64036cd32b4e3","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JI5T8CGG"}}
{"Timestamp":"2024-11-10T22:30:55.0452348+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"503d621f0c5219cef902fea1989c5021","SpanId":"a2cb3d83052c9117","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":28.2498,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.2498"}]}}
{"Timestamp":"2024-11-10T22:30:55.0506261+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"503d621f0c5219cef902fea1989c5021","SpanId":"a2cb3d83052c9117","Properties":{"ElapsedMilliseconds":35.5632,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGF"}}
{"Timestamp":"2024-11-10T22:30:55.0537741+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d96fd0a1cfe00fa83e908e7a233f47d5","SpanId":"56c87ac9c13cb1a9","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CGH"}}
{"Timestamp":"2024-11-10T22:30:55.0982572+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"88622c303844eaae92428e74c8f45994","SpanId":"e7d64036cd32b4e3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JI5T8CGG"}}
{"Timestamp":"2024-11-10T22:30:55.0982572+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d96fd0a1cfe00fa83e908e7a233f47d5","SpanId":"56c87ac9c13cb1a9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CGH"}}
{"Timestamp":"2024-11-10T22:30:55.1068918+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d96fd0a1cfe00fa83e908e7a233f47d5","SpanId":"56c87ac9c13cb1a9","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0f17fe3f-cea0-4a7f-834a-eca0bf282a0f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JI5T8CGH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CGH"}}
{"Timestamp":"2024-11-10T22:30:55.1068918+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"88622c303844eaae92428e74c8f45994","SpanId":"e7d64036cd32b4e3","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c73e8c08-5c0f-4463-9cb4-6fd2b874fd9b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JI5T8CGG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JI5T8CGG"}}
{"Timestamp":"2024-11-10T22:30:55.1677180+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"88622c303844eaae92428e74c8f45994","SpanId":"e7d64036cd32b4e3","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c73e8c08-5c0f-4463-9cb4-6fd2b874fd9b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JI5T8CGG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JI5T8CGG"}}
{"Timestamp":"2024-11-10T22:30:55.1725654+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"88622c303844eaae92428e74c8f45994","SpanId":"e7d64036cd32b4e3","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c73e8c08-5c0f-4463-9cb4-6fd2b874fd9b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JI5T8CGG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JI5T8CGG"}}
{"Timestamp":"2024-11-10T22:30:55.1790889+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d96fd0a1cfe00fa83e908e7a233f47d5","SpanId":"56c87ac9c13cb1a9","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0f17fe3f-cea0-4a7f-834a-eca0bf282a0f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JI5T8CGH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CGH"}}
{"Timestamp":"2024-11-10T22:30:55.1829855+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"88622c303844eaae92428e74c8f45994","SpanId":"e7d64036cd32b4e3","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":72.0549,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JI5T8CGG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JI5T8CGG"}}
{"Timestamp":"2024-11-10T22:30:55.1854968+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"88622c303844eaae92428e74c8f45994","SpanId":"e7d64036cd32b4e3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JI5T8CGG"}}
{"Timestamp":"2024-11-10T22:30:55.1867388+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d96fd0a1cfe00fa83e908e7a233f47d5","SpanId":"56c87ac9c13cb1a9","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0f17fe3f-cea0-4a7f-834a-eca0bf282a0f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JI5T8CGH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CGH"}}
{"Timestamp":"2024-11-10T22:30:55.1869208+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"88622c303844eaae92428e74c8f45994","SpanId":"e7d64036cd32b4e3","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":138.4687,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"138.4687"}]}}
{"Timestamp":"2024-11-10T22:30:55.1907312+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"88622c303844eaae92428e74c8f45994","SpanId":"e7d64036cd32b4e3","Properties":{"ElapsedMilliseconds":146.562,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JI5T8CGG"}}
{"Timestamp":"2024-11-10T22:30:55.1935605+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d96fd0a1cfe00fa83e908e7a233f47d5","SpanId":"56c87ac9c13cb1a9","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":84.7887,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JI5T8CGH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CGH"}}
{"Timestamp":"2024-11-10T22:30:55.1961949+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d96fd0a1cfe00fa83e908e7a233f47d5","SpanId":"56c87ac9c13cb1a9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CGH"}}
{"Timestamp":"2024-11-10T22:30:55.1980357+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d96fd0a1cfe00fa83e908e7a233f47d5","SpanId":"56c87ac9c13cb1a9","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":139.0134,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"139.0134"}]}}
{"Timestamp":"2024-11-10T22:30:55.2018924+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d96fd0a1cfe00fa83e908e7a233f47d5","SpanId":"56c87ac9c13cb1a9","Properties":{"ElapsedMilliseconds":147.9979,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CGH"}}
{"Timestamp":"2024-11-10T22:30:59.6402994+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"baf1ae6cf1125cfedbe58ce25b92d8c9","SpanId":"50d312eb1b1499f2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGI"}}
{"Timestamp":"2024-11-10T22:30:59.6422871+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"baf1ae6cf1125cfedbe58ce25b92d8c9","SpanId":"50d312eb1b1499f2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGI"}}
{"Timestamp":"2024-11-10T22:30:59.6429457+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"baf1ae6cf1125cfedbe58ce25b92d8c9","SpanId":"50d312eb1b1499f2","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGI"}}
{"Timestamp":"2024-11-10T22:30:59.6510784+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"baf1ae6cf1125cfedbe58ce25b92d8c9","SpanId":"50d312eb1b1499f2","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGI"}}
{"Timestamp":"2024-11-10T22:30:59.6553740+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"baf1ae6cf1125cfedbe58ce25b92d8c9","SpanId":"50d312eb1b1499f2","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGI"}}
{"Timestamp":"2024-11-10T22:30:59.6572854+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"baf1ae6cf1125cfedbe58ce25b92d8c9","SpanId":"50d312eb1b1499f2","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGI"}}
{"Timestamp":"2024-11-10T22:30:59.6581543+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"baf1ae6cf1125cfedbe58ce25b92d8c9","SpanId":"50d312eb1b1499f2","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.9349,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JI5T8CGI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGI"}}
{"Timestamp":"2024-11-10T22:30:59.6588611+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"baf1ae6cf1125cfedbe58ce25b92d8c9","SpanId":"50d312eb1b1499f2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGI"}}
{"Timestamp":"2024-11-10T22:30:59.6597332+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"baf1ae6cf1125cfedbe58ce25b92d8c9","SpanId":"50d312eb1b1499f2","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":17.577,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.5770"}]}}
{"Timestamp":"2024-11-10T22:30:59.6622148+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"baf1ae6cf1125cfedbe58ce25b92d8c9","SpanId":"50d312eb1b1499f2","Properties":{"ElapsedMilliseconds":21.8245,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGI"}}
{"Timestamp":"2024-11-10T22:30:59.6647548+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3d0aa7f73c6226c19c4f93612b83035c","SpanId":"fb7dddeca1a558d5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CGJ"}}
{"Timestamp":"2024-11-10T22:30:59.6684150+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3d0aa7f73c6226c19c4f93612b83035c","SpanId":"fb7dddeca1a558d5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CGJ"}}
{"Timestamp":"2024-11-10T22:30:59.6696953+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3d0aa7f73c6226c19c4f93612b83035c","SpanId":"fb7dddeca1a558d5","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0f17fe3f-cea0-4a7f-834a-eca0bf282a0f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JI5T8CGJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CGJ"}}
{"Timestamp":"2024-11-10T22:30:59.6798256+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3d0aa7f73c6226c19c4f93612b83035c","SpanId":"fb7dddeca1a558d5","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0f17fe3f-cea0-4a7f-834a-eca0bf282a0f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JI5T8CGJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CGJ"}}
{"Timestamp":"2024-11-10T22:30:59.6823639+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3d0aa7f73c6226c19c4f93612b83035c","SpanId":"fb7dddeca1a558d5","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0f17fe3f-cea0-4a7f-834a-eca0bf282a0f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JI5T8CGJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CGJ"}}
{"Timestamp":"2024-11-10T22:30:59.6846468+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3d0aa7f73c6226c19c4f93612b83035c","SpanId":"fb7dddeca1a558d5","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":12.7002,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JI5T8CGJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CGJ"}}
{"Timestamp":"2024-11-10T22:30:59.6863193+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3d0aa7f73c6226c19c4f93612b83035c","SpanId":"fb7dddeca1a558d5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CGJ"}}
{"Timestamp":"2024-11-10T22:30:59.6870307+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3d0aa7f73c6226c19c4f93612b83035c","SpanId":"fb7dddeca1a558d5","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":19.1942,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.1942"}]}}
{"Timestamp":"2024-11-10T22:30:59.6881263+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3d0aa7f73c6226c19c4f93612b83035c","SpanId":"fb7dddeca1a558d5","Properties":{"ElapsedMilliseconds":23.4266,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CGJ"}}
{"Timestamp":"2024-11-10T22:30:59.6937874+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b28c2feb32548e856b5db0e57a81181e","SpanId":"1e58bca08b15ff4f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGK"}}
{"Timestamp":"2024-11-10T22:30:59.6952489+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b28c2feb32548e856b5db0e57a81181e","SpanId":"1e58bca08b15ff4f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGK"}}
{"Timestamp":"2024-11-10T22:30:59.6959256+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b28c2feb32548e856b5db0e57a81181e","SpanId":"1e58bca08b15ff4f","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGK"}}
{"Timestamp":"2024-11-10T22:30:59.7015590+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b28c2feb32548e856b5db0e57a81181e","SpanId":"1e58bca08b15ff4f","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGK"}}
{"Timestamp":"2024-11-10T22:30:59.7047021+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b28c2feb32548e856b5db0e57a81181e","SpanId":"1e58bca08b15ff4f","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGK"}}
{"Timestamp":"2024-11-10T22:30:59.7061366+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b28c2feb32548e856b5db0e57a81181e","SpanId":"1e58bca08b15ff4f","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGK"}}
{"Timestamp":"2024-11-10T22:30:59.7070035+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b28c2feb32548e856b5db0e57a81181e","SpanId":"1e58bca08b15ff4f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":10.065,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JI5T8CGK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGK"}}
{"Timestamp":"2024-11-10T22:30:59.7079640+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b28c2feb32548e856b5db0e57a81181e","SpanId":"1e58bca08b15ff4f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGK"}}
{"Timestamp":"2024-11-10T22:30:59.7093152+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b28c2feb32548e856b5db0e57a81181e","SpanId":"1e58bca08b15ff4f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":14.144,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.1440"}]}}
{"Timestamp":"2024-11-10T22:30:59.7110595+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b28c2feb32548e856b5db0e57a81181e","SpanId":"1e58bca08b15ff4f","Properties":{"ElapsedMilliseconds":17.2859,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGK"}}
{"Timestamp":"2024-11-10T22:30:59.7162885+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ae0d0fd32790a501a8ef599ae0bc1931","SpanId":"f4d8cc36c1f2b031","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGL:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JI5T8CGL"}}
{"Timestamp":"2024-11-10T22:30:59.7196259+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ae0d0fd32790a501a8ef599ae0bc1931","SpanId":"f4d8cc36c1f2b031","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGL:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JI5T8CGL"}}
{"Timestamp":"2024-11-10T22:30:59.7229328+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ae0d0fd32790a501a8ef599ae0bc1931","SpanId":"f4d8cc36c1f2b031","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8eaa1b13-9044-468b-ad45-c97a948a615b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81JI5T8CGL:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JI5T8CGL"}}
{"Timestamp":"2024-11-10T22:30:59.7940497+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ae0d0fd32790a501a8ef599ae0bc1931","SpanId":"f4d8cc36c1f2b031","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8eaa1b13-9044-468b-ad45-c97a948a615b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81JI5T8CGL:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JI5T8CGL"}}
{"Timestamp":"2024-11-10T22:30:59.8455028+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ae0d0fd32790a501a8ef599ae0bc1931","SpanId":"f4d8cc36c1f2b031","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8eaa1b13-9044-468b-ad45-c97a948a615b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81JI5T8CGL:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JI5T8CGL"}}
{"Timestamp":"2024-11-10T22:30:59.8518965+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ae0d0fd32790a501a8ef599ae0bc1931","SpanId":"f4d8cc36c1f2b031","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8eaa1b13-9044-468b-ad45-c97a948a615b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81JI5T8CGL:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JI5T8CGL"}}
{"Timestamp":"2024-11-10T22:30:59.8539476+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ae0d0fd32790a501a8ef599ae0bc1931","SpanId":"f4d8cc36c1f2b031","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":129.5377,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JI5T8CGL:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JI5T8CGL"}}
{"Timestamp":"2024-11-10T22:30:59.8555920+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ae0d0fd32790a501a8ef599ae0bc1931","SpanId":"f4d8cc36c1f2b031","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGL:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JI5T8CGL"}}
{"Timestamp":"2024-11-10T22:30:59.8566693+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ae0d0fd32790a501a8ef599ae0bc1931","SpanId":"f4d8cc36c1f2b031","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":137.3347,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"137.3347"}]}}
{"Timestamp":"2024-11-10T22:30:59.8588382+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ae0d0fd32790a501a8ef599ae0bc1931","SpanId":"f4d8cc36c1f2b031","Properties":{"ElapsedMilliseconds":142.585,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGL:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JI5T8CGL"}}
{"Timestamp":"2024-11-10T22:31:02.0480076+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"12e11d5c6c101a46d03e99d19e2a8e16","SpanId":"dda22e98213033dc","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGM"}}
{"Timestamp":"2024-11-10T22:31:02.0504067+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"12e11d5c6c101a46d03e99d19e2a8e16","SpanId":"dda22e98213033dc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGM"}}
{"Timestamp":"2024-11-10T22:31:02.0513396+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"12e11d5c6c101a46d03e99d19e2a8e16","SpanId":"dda22e98213033dc","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGM"}}
{"Timestamp":"2024-11-10T22:31:02.0590363+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"12e11d5c6c101a46d03e99d19e2a8e16","SpanId":"dda22e98213033dc","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGM"}}
{"Timestamp":"2024-11-10T22:31:02.0686056+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"12e11d5c6c101a46d03e99d19e2a8e16","SpanId":"dda22e98213033dc","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGM"}}
{"Timestamp":"2024-11-10T22:31:02.0723169+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"12e11d5c6c101a46d03e99d19e2a8e16","SpanId":"dda22e98213033dc","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGM"}}
{"Timestamp":"2024-11-10T22:31:02.0741926+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"12e11d5c6c101a46d03e99d19e2a8e16","SpanId":"dda22e98213033dc","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":21.571,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JI5T8CGM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGM"}}
{"Timestamp":"2024-11-10T22:31:02.0755847+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"12e11d5c6c101a46d03e99d19e2a8e16","SpanId":"dda22e98213033dc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGM"}}
{"Timestamp":"2024-11-10T22:31:02.0763969+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"12e11d5c6c101a46d03e99d19e2a8e16","SpanId":"dda22e98213033dc","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":26.2031,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.2031"}]}}
{"Timestamp":"2024-11-10T22:31:02.0779338+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"12e11d5c6c101a46d03e99d19e2a8e16","SpanId":"dda22e98213033dc","Properties":{"ElapsedMilliseconds":29.991,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGM"}}
{"Timestamp":"2024-11-10T22:31:02.0804464+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9f6678c0fb49466a888013cc87cac1ec","SpanId":"1c45769cf8c6a923","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2225","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGN:00000001","RequestPath":"/api/Schedules/2225","ConnectionId":"0HN81JI5T8CGN"}}
{"Timestamp":"2024-11-10T22:31:02.0844769+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9f6678c0fb49466a888013cc87cac1ec","SpanId":"1c45769cf8c6a923","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGN:00000001","RequestPath":"/api/Schedules/2225","ConnectionId":"0HN81JI5T8CGN"}}
{"Timestamp":"2024-11-10T22:31:02.0864579+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9f6678c0fb49466a888013cc87cac1ec","SpanId":"1c45769cf8c6a923","Properties":{"RouteData":"{action = \"Delete\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ddaa1eb7-eb02-4054-8ebb-334e253f7c73","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JI5T8CGN:00000001","RequestPath":"/api/Schedules/2225","ConnectionId":"0HN81JI5T8CGN"}}
{"Timestamp":"2024-11-10T22:31:02.0987167+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9f6678c0fb49466a888013cc87cac1ec","SpanId":"1c45769cf8c6a923","Properties":{"elapsed":"3","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ddaa1eb7-eb02-4054-8ebb-334e253f7c73","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JI5T8CGN:00000001","RequestPath":"/api/Schedules/2225","ConnectionId":"0HN81JI5T8CGN"}}
{"Timestamp":"2024-11-10T22:31:02.1093879+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9f6678c0fb49466a888013cc87cac1ec","SpanId":"1c45769cf8c6a923","Properties":{"elapsed":"2","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[user_id], [s].[schedule_id], [s].[id]\r\nFROM [Schedule_User] AS [s]\r\nWHERE [s].[schedule_id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ddaa1eb7-eb02-4054-8ebb-334e253f7c73","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JI5T8CGN:00000001","RequestPath":"/api/Schedules/2225","ConnectionId":"0HN81JI5T8CGN"}}
{"Timestamp":"2024-11-10T22:31:02.1572076+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9f6678c0fb49466a888013cc87cac1ec","SpanId":"1c45769cf8c6a923","Properties":{"elapsed":"10","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [Schedule_User]\r\nOUTPUT 1\r\nWHERE [schedule_id] = @p0 AND [user_id] = @p1;\r\nDELETE FROM [Schedules]\r\nOUTPUT 1\r\nWHERE [Id] = @p2;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ddaa1eb7-eb02-4054-8ebb-334e253f7c73","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JI5T8CGN:00000001","RequestPath":"/api/Schedules/2225","ConnectionId":"0HN81JI5T8CGN"}}
{"Timestamp":"2024-11-10T22:31:02.1759141+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"9f6678c0fb49466a888013cc87cac1ec","SpanId":"1c45769cf8c6a923","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"ddaa1eb7-eb02-4054-8ebb-334e253f7c73","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JI5T8CGN:00000001","RequestPath":"/api/Schedules/2225","ConnectionId":"0HN81JI5T8CGN"}}
{"Timestamp":"2024-11-10T22:31:02.1770405+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9f6678c0fb49466a888013cc87cac1ec","SpanId":"1c45769cf8c6a923","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","ElapsedMilliseconds":89.2311,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JI5T8CGN:00000001","RequestPath":"/api/Schedules/2225","ConnectionId":"0HN81JI5T8CGN"}}
{"Timestamp":"2024-11-10T22:31:02.1782559+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9f6678c0fb49466a888013cc87cac1ec","SpanId":"1c45769cf8c6a923","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGN:00000001","RequestPath":"/api/Schedules/2225","ConnectionId":"0HN81JI5T8CGN"}}
{"Timestamp":"2024-11-10T22:31:02.1793245+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9f6678c0fb49466a888013cc87cac1ec","SpanId":"1c45769cf8c6a923","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/Schedules/2225","StatusCode":200,"Elapsed":95.0972,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"95.0972"}]}}
{"Timestamp":"2024-11-10T22:31:02.1811522+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9f6678c0fb49466a888013cc87cac1ec","SpanId":"1c45769cf8c6a923","Properties":{"ElapsedMilliseconds":100.6685,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2225","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGN:00000001","RequestPath":"/api/Schedules/2225","ConnectionId":"0HN81JI5T8CGN"}}
{"Timestamp":"2024-11-10T22:31:03.9723114+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7e7547a134898652a7ccb9c707b6000c","SpanId":"a3fe4061b5f4fe8e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGO"}}
{"Timestamp":"2024-11-10T22:31:03.9754887+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7e7547a134898652a7ccb9c707b6000c","SpanId":"a3fe4061b5f4fe8e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGO"}}
{"Timestamp":"2024-11-10T22:31:03.9766181+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7e7547a134898652a7ccb9c707b6000c","SpanId":"a3fe4061b5f4fe8e","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGO"}}
{"Timestamp":"2024-11-10T22:31:03.9878754+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7e7547a134898652a7ccb9c707b6000c","SpanId":"a3fe4061b5f4fe8e","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGO"}}
{"Timestamp":"2024-11-10T22:31:03.9924234+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7e7547a134898652a7ccb9c707b6000c","SpanId":"a3fe4061b5f4fe8e","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGO"}}
{"Timestamp":"2024-11-10T22:31:03.9940961+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7e7547a134898652a7ccb9c707b6000c","SpanId":"a3fe4061b5f4fe8e","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGO"}}
{"Timestamp":"2024-11-10T22:31:03.9949838+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7e7547a134898652a7ccb9c707b6000c","SpanId":"a3fe4061b5f4fe8e","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.6541,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JI5T8CGO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGO"}}
{"Timestamp":"2024-11-10T22:31:03.9957455+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7e7547a134898652a7ccb9c707b6000c","SpanId":"a3fe4061b5f4fe8e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGO"}}
{"Timestamp":"2024-11-10T22:31:03.9963270+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7e7547a134898652a7ccb9c707b6000c","SpanId":"a3fe4061b5f4fe8e","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":21.0558,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.0558"}]}}
{"Timestamp":"2024-11-10T22:31:03.9994913+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7e7547a134898652a7ccb9c707b6000c","SpanId":"a3fe4061b5f4fe8e","Properties":{"ElapsedMilliseconds":27.112,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGO"}}
{"Timestamp":"2024-11-10T22:31:04.0062768+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"107aba50ee902828f3b52e07bb5dd8ad","SpanId":"ba8d2048b149db18","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CGP"}}
{"Timestamp":"2024-11-10T22:31:04.0082339+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"107aba50ee902828f3b52e07bb5dd8ad","SpanId":"ba8d2048b149db18","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CGP"}}
{"Timestamp":"2024-11-10T22:31:04.0089814+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"107aba50ee902828f3b52e07bb5dd8ad","SpanId":"ba8d2048b149db18","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0f17fe3f-cea0-4a7f-834a-eca0bf282a0f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JI5T8CGP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CGP"}}
{"Timestamp":"2024-11-10T22:31:04.0145236+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"107aba50ee902828f3b52e07bb5dd8ad","SpanId":"ba8d2048b149db18","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0f17fe3f-cea0-4a7f-834a-eca0bf282a0f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JI5T8CGP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CGP"}}
{"Timestamp":"2024-11-10T22:31:04.0172387+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"107aba50ee902828f3b52e07bb5dd8ad","SpanId":"ba8d2048b149db18","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0f17fe3f-cea0-4a7f-834a-eca0bf282a0f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JI5T8CGP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CGP"}}
{"Timestamp":"2024-11-10T22:31:04.0182237+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"107aba50ee902828f3b52e07bb5dd8ad","SpanId":"ba8d2048b149db18","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":8.2163,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JI5T8CGP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CGP"}}
{"Timestamp":"2024-11-10T22:31:04.0191496+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"107aba50ee902828f3b52e07bb5dd8ad","SpanId":"ba8d2048b149db18","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CGP"}}
{"Timestamp":"2024-11-10T22:31:04.0199837+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"107aba50ee902828f3b52e07bb5dd8ad","SpanId":"ba8d2048b149db18","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":11.9829,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.9829"}]}}
{"Timestamp":"2024-11-10T22:31:04.0228713+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"107aba50ee902828f3b52e07bb5dd8ad","SpanId":"ba8d2048b149db18","Properties":{"ElapsedMilliseconds":16.5766,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CGP"}}
{"Timestamp":"2024-11-10T22:31:10.8337334+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"522fc4a70b85c725ac3fbc72b7f53023","SpanId":"4b58603029c5c318","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGQ"}}
{"Timestamp":"2024-11-10T22:31:10.8387098+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"522fc4a70b85c725ac3fbc72b7f53023","SpanId":"4b58603029c5c318","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGQ"}}
{"Timestamp":"2024-11-10T22:31:10.8400099+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"522fc4a70b85c725ac3fbc72b7f53023","SpanId":"4b58603029c5c318","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGQ"}}
{"Timestamp":"2024-11-10T22:31:10.8470383+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"522fc4a70b85c725ac3fbc72b7f53023","SpanId":"4b58603029c5c318","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGQ"}}
{"Timestamp":"2024-11-10T22:31:10.8512154+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"522fc4a70b85c725ac3fbc72b7f53023","SpanId":"4b58603029c5c318","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGQ"}}
{"Timestamp":"2024-11-10T22:31:10.8531176+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"522fc4a70b85c725ac3fbc72b7f53023","SpanId":"4b58603029c5c318","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGQ"}}
{"Timestamp":"2024-11-10T22:31:10.8545881+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"522fc4a70b85c725ac3fbc72b7f53023","SpanId":"4b58603029c5c318","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.1421,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JI5T8CGQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGQ"}}
{"Timestamp":"2024-11-10T22:31:10.8554663+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"522fc4a70b85c725ac3fbc72b7f53023","SpanId":"4b58603029c5c318","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGQ"}}
{"Timestamp":"2024-11-10T22:31:10.8561963+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"522fc4a70b85c725ac3fbc72b7f53023","SpanId":"4b58603029c5c318","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":17.6022,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.6022"}]}}
{"Timestamp":"2024-11-10T22:31:10.8576473+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"522fc4a70b85c725ac3fbc72b7f53023","SpanId":"4b58603029c5c318","Properties":{"ElapsedMilliseconds":23.9933,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGQ"}}
{"Timestamp":"2024-11-10T22:31:10.8596134+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f05f6462f00a48a3cb1bb04ea96a3e11","SpanId":"a771444be510c083","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CGR"}}
{"Timestamp":"2024-11-10T22:31:10.8629284+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f05f6462f00a48a3cb1bb04ea96a3e11","SpanId":"a771444be510c083","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CGR"}}
{"Timestamp":"2024-11-10T22:31:10.8638094+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f05f6462f00a48a3cb1bb04ea96a3e11","SpanId":"a771444be510c083","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0f17fe3f-cea0-4a7f-834a-eca0bf282a0f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JI5T8CGR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CGR"}}
{"Timestamp":"2024-11-10T22:31:10.8734430+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f05f6462f00a48a3cb1bb04ea96a3e11","SpanId":"a771444be510c083","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0f17fe3f-cea0-4a7f-834a-eca0bf282a0f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JI5T8CGR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CGR"}}
{"Timestamp":"2024-11-10T22:31:10.8760673+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f05f6462f00a48a3cb1bb04ea96a3e11","SpanId":"a771444be510c083","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0f17fe3f-cea0-4a7f-834a-eca0bf282a0f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JI5T8CGR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CGR"}}
{"Timestamp":"2024-11-10T22:31:10.8779086+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f05f6462f00a48a3cb1bb04ea96a3e11","SpanId":"a771444be510c083","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":12.7916,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JI5T8CGR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CGR"}}
{"Timestamp":"2024-11-10T22:31:10.8792217+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f05f6462f00a48a3cb1bb04ea96a3e11","SpanId":"a771444be510c083","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CGR"}}
{"Timestamp":"2024-11-10T22:31:10.8801050+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f05f6462f00a48a3cb1bb04ea96a3e11","SpanId":"a771444be510c083","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":17.4371,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.4371"}]}}
{"Timestamp":"2024-11-10T22:31:10.8815837+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f05f6462f00a48a3cb1bb04ea96a3e11","SpanId":"a771444be510c083","Properties":{"ElapsedMilliseconds":21.9889,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CGR"}}
{"Timestamp":"2024-11-10T22:31:10.8851049+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3c75c1e1ca59b5741e2cd3e9b5699f4c","SpanId":"7f7cb4b9ecc73b03","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGS"}}
{"Timestamp":"2024-11-10T22:31:10.8878317+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3c75c1e1ca59b5741e2cd3e9b5699f4c","SpanId":"7f7cb4b9ecc73b03","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGS"}}
{"Timestamp":"2024-11-10T22:31:10.8885613+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3c75c1e1ca59b5741e2cd3e9b5699f4c","SpanId":"7f7cb4b9ecc73b03","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGS"}}
{"Timestamp":"2024-11-10T22:31:10.8932322+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3c75c1e1ca59b5741e2cd3e9b5699f4c","SpanId":"7f7cb4b9ecc73b03","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGS"}}
{"Timestamp":"2024-11-10T22:31:10.8965545+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3c75c1e1ca59b5741e2cd3e9b5699f4c","SpanId":"7f7cb4b9ecc73b03","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGS"}}
{"Timestamp":"2024-11-10T22:31:10.8984556+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3c75c1e1ca59b5741e2cd3e9b5699f4c","SpanId":"7f7cb4b9ecc73b03","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGS"}}
{"Timestamp":"2024-11-10T22:31:10.8995473+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3c75c1e1ca59b5741e2cd3e9b5699f4c","SpanId":"7f7cb4b9ecc73b03","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":9.7582,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JI5T8CGS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGS"}}
{"Timestamp":"2024-11-10T22:31:10.9006712+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3c75c1e1ca59b5741e2cd3e9b5699f4c","SpanId":"7f7cb4b9ecc73b03","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGS"}}
{"Timestamp":"2024-11-10T22:31:10.9014952+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3c75c1e1ca59b5741e2cd3e9b5699f4c","SpanId":"7f7cb4b9ecc73b03","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":13.7629,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.7629"}]}}
{"Timestamp":"2024-11-10T22:31:10.9037363+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3c75c1e1ca59b5741e2cd3e9b5699f4c","SpanId":"7f7cb4b9ecc73b03","Properties":{"ElapsedMilliseconds":18.6307,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGS"}}
{"Timestamp":"2024-11-10T22:31:10.9063912+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8c334166ac6f30ad422d4eb013001d7f","SpanId":"35045d55fe6ff19a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGT:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JI5T8CGT"}}
{"Timestamp":"2024-11-10T22:31:10.9084676+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8c334166ac6f30ad422d4eb013001d7f","SpanId":"35045d55fe6ff19a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGT:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JI5T8CGT"}}
{"Timestamp":"2024-11-10T22:31:10.9093178+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8c334166ac6f30ad422d4eb013001d7f","SpanId":"35045d55fe6ff19a","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8eaa1b13-9044-468b-ad45-c97a948a615b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81JI5T8CGT:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JI5T8CGT"}}
{"Timestamp":"2024-11-10T22:31:10.9159047+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8c334166ac6f30ad422d4eb013001d7f","SpanId":"35045d55fe6ff19a","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8eaa1b13-9044-468b-ad45-c97a948a615b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81JI5T8CGT:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JI5T8CGT"}}
{"Timestamp":"2024-11-10T22:31:10.9211115+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8c334166ac6f30ad422d4eb013001d7f","SpanId":"35045d55fe6ff19a","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8eaa1b13-9044-468b-ad45-c97a948a615b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81JI5T8CGT:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JI5T8CGT"}}
{"Timestamp":"2024-11-10T22:31:10.9232106+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8c334166ac6f30ad422d4eb013001d7f","SpanId":"35045d55fe6ff19a","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8eaa1b13-9044-468b-ad45-c97a948a615b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81JI5T8CGT:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JI5T8CGT"}}
{"Timestamp":"2024-11-10T22:31:10.9242510+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8c334166ac6f30ad422d4eb013001d7f","SpanId":"35045d55fe6ff19a","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":13.7347,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JI5T8CGT:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JI5T8CGT"}}
{"Timestamp":"2024-11-10T22:31:10.9254278+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8c334166ac6f30ad422d4eb013001d7f","SpanId":"35045d55fe6ff19a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGT:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JI5T8CGT"}}
{"Timestamp":"2024-11-10T22:31:10.9273186+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8c334166ac6f30ad422d4eb013001d7f","SpanId":"35045d55fe6ff19a","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":19.1465,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.1465"}]}}
{"Timestamp":"2024-11-10T22:31:10.9288306+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8c334166ac6f30ad422d4eb013001d7f","SpanId":"35045d55fe6ff19a","Properties":{"ElapsedMilliseconds":22.3859,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGT:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JI5T8CGT"}}
{"Timestamp":"2024-11-10T22:31:14.0607681+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"83df0fd6378cfe81be7513af92997d70","SpanId":"b8ae21c0c6eb0f2f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGU"}}
{"Timestamp":"2024-11-10T22:31:14.0633194+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"83df0fd6378cfe81be7513af92997d70","SpanId":"b8ae21c0c6eb0f2f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGU"}}
{"Timestamp":"2024-11-10T22:31:14.0644294+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"83df0fd6378cfe81be7513af92997d70","SpanId":"b8ae21c0c6eb0f2f","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGU"}}
{"Timestamp":"2024-11-10T22:31:14.0746468+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"83df0fd6378cfe81be7513af92997d70","SpanId":"b8ae21c0c6eb0f2f","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGU"}}
{"Timestamp":"2024-11-10T22:31:14.0793799+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"83df0fd6378cfe81be7513af92997d70","SpanId":"b8ae21c0c6eb0f2f","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGU"}}
{"Timestamp":"2024-11-10T22:31:14.0825709+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"83df0fd6378cfe81be7513af92997d70","SpanId":"b8ae21c0c6eb0f2f","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CGU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGU"}}
{"Timestamp":"2024-11-10T22:31:14.0838156+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"83df0fd6378cfe81be7513af92997d70","SpanId":"b8ae21c0c6eb0f2f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":18.0456,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JI5T8CGU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGU"}}
{"Timestamp":"2024-11-10T22:31:14.0850978+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"83df0fd6378cfe81be7513af92997d70","SpanId":"b8ae21c0c6eb0f2f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGU"}}
{"Timestamp":"2024-11-10T22:31:14.0862636+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"83df0fd6378cfe81be7513af92997d70","SpanId":"b8ae21c0c6eb0f2f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":23.2829,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.2829"}]}}
{"Timestamp":"2024-11-10T22:31:14.0887393+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"83df0fd6378cfe81be7513af92997d70","SpanId":"b8ae21c0c6eb0f2f","Properties":{"ElapsedMilliseconds":27.9638,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CGU"}}
{"Timestamp":"2024-11-10T22:31:14.0914873+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8d4adecb6f1467039f612c36c4664232","SpanId":"9b606e11d489c4da","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JI5T8CGV"}}
{"Timestamp":"2024-11-10T22:31:14.0954632+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8d4adecb6f1467039f612c36c4664232","SpanId":"9b606e11d489c4da","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JI5T8CGV"}}
{"Timestamp":"2024-11-10T22:31:14.0965233+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8d4adecb6f1467039f612c36c4664232","SpanId":"9b606e11d489c4da","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c73e8c08-5c0f-4463-9cb4-6fd2b874fd9b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JI5T8CGV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JI5T8CGV"}}
{"Timestamp":"2024-11-10T22:31:14.1046121+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8d4adecb6f1467039f612c36c4664232","SpanId":"9b606e11d489c4da","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c73e8c08-5c0f-4463-9cb4-6fd2b874fd9b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JI5T8CGV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JI5T8CGV"}}
{"Timestamp":"2024-11-10T22:31:14.1080136+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8d4adecb6f1467039f612c36c4664232","SpanId":"9b606e11d489c4da","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c73e8c08-5c0f-4463-9cb4-6fd2b874fd9b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JI5T8CGV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JI5T8CGV"}}
{"Timestamp":"2024-11-10T22:31:14.1098218+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8d4adecb6f1467039f612c36c4664232","SpanId":"9b606e11d489c4da","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":11.5443,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JI5T8CGV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JI5T8CGV"}}
{"Timestamp":"2024-11-10T22:31:14.1115149+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8d4adecb6f1467039f612c36c4664232","SpanId":"9b606e11d489c4da","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CGV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JI5T8CGV"}}
{"Timestamp":"2024-11-10T22:31:14.1126460+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8d4adecb6f1467039f612c36c4664232","SpanId":"9b606e11d489c4da","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":17.4797,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.4797"}]}}
{"Timestamp":"2024-11-10T22:31:14.1145985+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8d4adecb6f1467039f612c36c4664232","SpanId":"9b606e11d489c4da","Properties":{"ElapsedMilliseconds":23.1358,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CGV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JI5T8CGV"}}
{"Timestamp":"2024-11-10T22:31:14.2356843+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e9ce65485e3d292d8ee66e6c09cf3c0f","SpanId":"bb636af5e3776019","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CH0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CH0"}}
{"Timestamp":"2024-11-10T22:31:14.2407654+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e9ce65485e3d292d8ee66e6c09cf3c0f","SpanId":"bb636af5e3776019","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CH0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CH0"}}
{"Timestamp":"2024-11-10T22:31:14.2423019+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e9ce65485e3d292d8ee66e6c09cf3c0f","SpanId":"bb636af5e3776019","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CH0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CH0"}}
{"Timestamp":"2024-11-10T22:31:14.2423234+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"775480826647a0b6ef1134448c133fe5","SpanId":"0b669ee389a7ae7c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CH1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CH1"}}
{"Timestamp":"2024-11-10T22:31:14.2487271+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"775480826647a0b6ef1134448c133fe5","SpanId":"0b669ee389a7ae7c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CH1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CH1"}}
{"Timestamp":"2024-11-10T22:31:14.2501637+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"775480826647a0b6ef1134448c133fe5","SpanId":"0b669ee389a7ae7c","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CH1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CH1"}}
{"Timestamp":"2024-11-10T22:31:14.2560420+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e9ce65485e3d292d8ee66e6c09cf3c0f","SpanId":"bb636af5e3776019","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CH0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CH0"}}
{"Timestamp":"2024-11-10T22:31:14.2571092+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"775480826647a0b6ef1134448c133fe5","SpanId":"0b669ee389a7ae7c","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CH1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CH1"}}
{"Timestamp":"2024-11-10T22:31:14.2749475+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e9ce65485e3d292d8ee66e6c09cf3c0f","SpanId":"bb636af5e3776019","Properties":{"elapsed":"15","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CH0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CH0"}}
{"Timestamp":"2024-11-10T22:31:14.2759752+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"775480826647a0b6ef1134448c133fe5","SpanId":"0b669ee389a7ae7c","Properties":{"elapsed":"9","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CH1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CH1"}}
{"Timestamp":"2024-11-10T22:31:14.2793439+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e9ce65485e3d292d8ee66e6c09cf3c0f","SpanId":"bb636af5e3776019","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CH0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CH0"}}
{"Timestamp":"2024-11-10T22:31:14.2812956+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"775480826647a0b6ef1134448c133fe5","SpanId":"0b669ee389a7ae7c","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c90d1535-603e-42e0-915c-8d8d35bd0f96","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JI5T8CH1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CH1"}}
{"Timestamp":"2024-11-10T22:31:14.2822362+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e9ce65485e3d292d8ee66e6c09cf3c0f","SpanId":"bb636af5e3776019","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":37.6401,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JI5T8CH0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CH0"}}
{"Timestamp":"2024-11-10T22:31:14.2831437+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"775480826647a0b6ef1134448c133fe5","SpanId":"0b669ee389a7ae7c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":31.2353,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JI5T8CH1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CH1"}}
{"Timestamp":"2024-11-10T22:31:14.2837603+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e9ce65485e3d292d8ee66e6c09cf3c0f","SpanId":"bb636af5e3776019","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CH0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CH0"}}
{"Timestamp":"2024-11-10T22:31:14.2847920+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"775480826647a0b6ef1134448c133fe5","SpanId":"0b669ee389a7ae7c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CH1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CH1"}}
{"Timestamp":"2024-11-10T22:31:14.2856191+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e9ce65485e3d292d8ee66e6c09cf3c0f","SpanId":"bb636af5e3776019","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":44.9563,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"44.9563"}]}}
{"Timestamp":"2024-11-10T22:31:14.2869624+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"775480826647a0b6ef1134448c133fe5","SpanId":"0b669ee389a7ae7c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":38.4395,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"38.4395"}]}}
{"Timestamp":"2024-11-10T22:31:14.2914979+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e9ce65485e3d292d8ee66e6c09cf3c0f","SpanId":"bb636af5e3776019","Properties":{"ElapsedMilliseconds":55.7631,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CH0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CH0"}}
{"Timestamp":"2024-11-10T22:31:14.2916292+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"775480826647a0b6ef1134448c133fe5","SpanId":"0b669ee389a7ae7c","Properties":{"ElapsedMilliseconds":49.1044,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CH1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JI5T8CH1"}}
{"Timestamp":"2024-11-10T22:31:14.2965659+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cb62542bd5a05707a2c413ff3902b207","SpanId":"634f432d0a24cf9e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CH2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CH2"}}
{"Timestamp":"2024-11-10T22:31:14.2976063+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4f8c4e621ad91b98c4a78f8b8384cd2a","SpanId":"d59962a42d63f80f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CH3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JI5T8CH3"}}
{"Timestamp":"2024-11-10T22:31:14.3016107+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cb62542bd5a05707a2c413ff3902b207","SpanId":"634f432d0a24cf9e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CH2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CH2"}}
{"Timestamp":"2024-11-10T22:31:14.3034225+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4f8c4e621ad91b98c4a78f8b8384cd2a","SpanId":"d59962a42d63f80f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CH3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JI5T8CH3"}}
{"Timestamp":"2024-11-10T22:31:14.3038334+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cb62542bd5a05707a2c413ff3902b207","SpanId":"634f432d0a24cf9e","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0f17fe3f-cea0-4a7f-834a-eca0bf282a0f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JI5T8CH2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CH2"}}
{"Timestamp":"2024-11-10T22:31:14.3045934+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4f8c4e621ad91b98c4a78f8b8384cd2a","SpanId":"d59962a42d63f80f","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c73e8c08-5c0f-4463-9cb4-6fd2b874fd9b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JI5T8CH3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JI5T8CH3"}}
{"Timestamp":"2024-11-10T22:31:14.3121417+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4f8c4e621ad91b98c4a78f8b8384cd2a","SpanId":"d59962a42d63f80f","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c73e8c08-5c0f-4463-9cb4-6fd2b874fd9b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JI5T8CH3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JI5T8CH3"}}
{"Timestamp":"2024-11-10T22:31:14.3130100+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cb62542bd5a05707a2c413ff3902b207","SpanId":"634f432d0a24cf9e","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0f17fe3f-cea0-4a7f-834a-eca0bf282a0f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JI5T8CH2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CH2"}}
{"Timestamp":"2024-11-10T22:31:14.3141022+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4f8c4e621ad91b98c4a78f8b8384cd2a","SpanId":"d59962a42d63f80f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c73e8c08-5c0f-4463-9cb4-6fd2b874fd9b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JI5T8CH3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JI5T8CH3"}}
{"Timestamp":"2024-11-10T22:31:14.3159500+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cb62542bd5a05707a2c413ff3902b207","SpanId":"634f432d0a24cf9e","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0f17fe3f-cea0-4a7f-834a-eca0bf282a0f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JI5T8CH2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CH2"}}
{"Timestamp":"2024-11-10T22:31:14.3167189+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4f8c4e621ad91b98c4a78f8b8384cd2a","SpanId":"d59962a42d63f80f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":9.3425,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JI5T8CH3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JI5T8CH3"}}
{"Timestamp":"2024-11-10T22:31:14.3176930+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cb62542bd5a05707a2c413ff3902b207","SpanId":"634f432d0a24cf9e","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":11.7324,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JI5T8CH2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CH2"}}
{"Timestamp":"2024-11-10T22:31:14.3188610+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4f8c4e621ad91b98c4a78f8b8384cd2a","SpanId":"d59962a42d63f80f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CH3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JI5T8CH3"}}
{"Timestamp":"2024-11-10T22:31:14.3201009+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cb62542bd5a05707a2c413ff3902b207","SpanId":"634f432d0a24cf9e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JI5T8CH2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CH2"}}
{"Timestamp":"2024-11-10T22:31:14.3209554+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4f8c4e621ad91b98c4a78f8b8384cd2a","SpanId":"d59962a42d63f80f","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":17.8451,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.8451"}]}}
{"Timestamp":"2024-11-10T22:31:14.3219684+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cb62542bd5a05707a2c413ff3902b207","SpanId":"634f432d0a24cf9e","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":20.6178,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.6178"}]}}
{"Timestamp":"2024-11-10T22:31:14.3250039+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4f8c4e621ad91b98c4a78f8b8384cd2a","SpanId":"d59962a42d63f80f","Properties":{"ElapsedMilliseconds":27.4257,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CH3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JI5T8CH3"}}
{"Timestamp":"2024-11-10T22:31:14.3268066+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cb62542bd5a05707a2c413ff3902b207","SpanId":"634f432d0a24cf9e","Properties":{"ElapsedMilliseconds":30.2719,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JI5T8CH2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JI5T8CH2"}}
{"Timestamp":"2024-11-10T22:31:51.1431815+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-10T22:31:51.5011404+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T22:31:51.5902304+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T22:31:51.5918565+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T22:31:51.5926719+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T22:31:52.3371632+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cf9434423153dab668b7d8755175c790","SpanId":"1945975afd421cc1","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJ6D2GLV:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN81JJ6D2GLV"}}
{"Timestamp":"2024-11-10T22:31:52.6107545+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cf9434423153dab668b7d8755175c790","SpanId":"1945975afd421cc1","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":90.9412,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"90.9412"}]}}
{"Timestamp":"2024-11-10T22:31:52.6129441+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9cecc4f1d0a67d8fa342be88db39337d","SpanId":"dbee55bf4ea377f4","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJ6D2GM0:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN81JJ6D2GM0"}}
{"Timestamp":"2024-11-10T22:31:52.6153828+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c23b6c5a64703e62215975ed08fc12e3","SpanId":"26f0b8fc4030e291","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJ6D2GM1:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN81JJ6D2GM1"}}
{"Timestamp":"2024-11-10T22:31:52.6243857+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9cecc4f1d0a67d8fa342be88db39337d","SpanId":"dbee55bf4ea377f4","Properties":{"ElapsedMilliseconds":11.4331,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJ6D2GM0:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN81JJ6D2GM0"}}
{"Timestamp":"2024-11-10T22:31:52.6244902+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cf9434423153dab668b7d8755175c790","SpanId":"1945975afd421cc1","Properties":{"ElapsedMilliseconds":302.724,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJ6D2GLV:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN81JJ6D2GLV"}}
{"Timestamp":"2024-11-10T22:31:52.6733252+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c23b6c5a64703e62215975ed08fc12e3","SpanId":"26f0b8fc4030e291","Properties":{"ElapsedMilliseconds":58.0017,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJ6D2GM1:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN81JJ6D2GM1"}}
{"Timestamp":"2024-11-10T22:31:52.7233945+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"627da74ee2f57128b83fe282646cd03b","SpanId":"0cd7cb53da4ae6b1","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJ6D2GM1:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN81JJ6D2GM1"}}
{"Timestamp":"2024-11-10T22:31:52.8728632+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"627da74ee2f57128b83fe282646cd03b","SpanId":"0cd7cb53da4ae6b1","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":145.9294,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"145.9294"}]}}
{"Timestamp":"2024-11-10T22:31:52.8775627+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"627da74ee2f57128b83fe282646cd03b","SpanId":"0cd7cb53da4ae6b1","Properties":{"ElapsedMilliseconds":154.1547,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJ6D2GM1:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN81JJ6D2GM1"}}
{"Timestamp":"2024-11-10T22:32:12.1716150+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-10T22:32:12.4455757+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T22:32:12.5257511+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T22:32:12.5281997+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T22:32:12.5294263+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T22:32:13.0723493+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a2e5609388c232fbf2be3f9c1da5b7e8","SpanId":"a9923ec3d246eb76","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJCJMHA0:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN81JJCJMHA0"}}
{"Timestamp":"2024-11-10T22:32:13.4634728+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a2e5609388c232fbf2be3f9c1da5b7e8","SpanId":"a9923ec3d246eb76","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":143.1152,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"143.1152"}]}}
{"Timestamp":"2024-11-10T22:32:13.4778446+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"58bc5b8c772e0be82528dff64b24b928","SpanId":"3be7e6c578d35507","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJCJMHA2:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN81JJCJMHA2"}}
{"Timestamp":"2024-11-10T22:32:13.4793149+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"051309c91aae393bc169e1af21307d8e","SpanId":"be28da8c7b9bc622","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJCJMHA1:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN81JJCJMHA1"}}
{"Timestamp":"2024-11-10T22:32:13.4892983+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a2e5609388c232fbf2be3f9c1da5b7e8","SpanId":"a9923ec3d246eb76","Properties":{"ElapsedMilliseconds":427.9446,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJCJMHA0:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN81JJCJMHA0"}}
{"Timestamp":"2024-11-10T22:32:13.4893733+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"051309c91aae393bc169e1af21307d8e","SpanId":"be28da8c7b9bc622","Properties":{"ElapsedMilliseconds":10.1851,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJCJMHA1:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN81JJCJMHA1"}}
{"Timestamp":"2024-11-10T22:32:13.5389110+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"58bc5b8c772e0be82528dff64b24b928","SpanId":"3be7e6c578d35507","Properties":{"ElapsedMilliseconds":61.4317,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJCJMHA2:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN81JJCJMHA2"}}
{"Timestamp":"2024-11-10T22:32:13.5981380+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dd90158bea82ae4b49617dec8bc17aa5","SpanId":"8908561b277e37c6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJCJMHA2:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN81JJCJMHA2"}}
{"Timestamp":"2024-11-10T22:32:13.7217285+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"dd90158bea82ae4b49617dec8bc17aa5","SpanId":"8908561b277e37c6","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":120.4697,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"120.4697"}]}}
{"Timestamp":"2024-11-10T22:32:13.7242623+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dd90158bea82ae4b49617dec8bc17aa5","SpanId":"8908561b277e37c6","Properties":{"ElapsedMilliseconds":126.1775,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJCJMHA2:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN81JJCJMHA2"}}
{"Timestamp":"2024-11-10T22:32:21.5359279+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-10T22:32:21.8175288+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T22:32:21.9234809+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T22:32:21.9255421+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T22:32:21.9266359+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T22:32:22.4931055+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"85363028aeab9abb5f3135517a2c9045","SpanId":"8700e38a5c7c89c2","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMH6:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN81JJFDTMH6"}}
{"Timestamp":"2024-11-10T22:32:22.8209420+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"85363028aeab9abb5f3135517a2c9045","SpanId":"8700e38a5c7c89c2","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":90.0035,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"90.0035"}]}}
{"Timestamp":"2024-11-10T22:32:22.8273452+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b08ca4c971003e0af08d26c0b269ae98","SpanId":"59d739b8a8bafed6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMH7:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN81JJFDTMH7"}}
{"Timestamp":"2024-11-10T22:32:22.8273456+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fcd77f77ca1939c0b1cbed2a5c119bea","SpanId":"130c75366f731fd3","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMH8:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN81JJFDTMH8"}}
{"Timestamp":"2024-11-10T22:32:22.8413239+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b08ca4c971003e0af08d26c0b269ae98","SpanId":"59d739b8a8bafed6","Properties":{"ElapsedMilliseconds":13.7513,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMH7:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN81JJFDTMH7"}}
{"Timestamp":"2024-11-10T22:32:22.8413194+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"85363028aeab9abb5f3135517a2c9045","SpanId":"8700e38a5c7c89c2","Properties":{"ElapsedMilliseconds":363.3654,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMH6:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN81JJFDTMH6"}}
{"Timestamp":"2024-11-10T22:32:22.8716385+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fcd77f77ca1939c0b1cbed2a5c119bea","SpanId":"130c75366f731fd3","Properties":{"ElapsedMilliseconds":44.5154,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMH8:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN81JJFDTMH8"}}
{"Timestamp":"2024-11-10T22:32:22.9205366+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"06dd7e799bcc7e3d3a139b44442c3105","SpanId":"312e7f9ba5ea8002","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMH8:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN81JJFDTMH8"}}
{"Timestamp":"2024-11-10T22:32:23.0698868+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"06dd7e799bcc7e3d3a139b44442c3105","SpanId":"312e7f9ba5ea8002","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":144.4471,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"144.4471"}]}}
{"Timestamp":"2024-11-10T22:32:23.0720713+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"06dd7e799bcc7e3d3a139b44442c3105","SpanId":"312e7f9ba5ea8002","Properties":{"ElapsedMilliseconds":151.4386,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMH8:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN81JJFDTMH8"}}
{"Timestamp":"2024-11-10T22:32:34.3214895+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"92a52ecc2ccfd33b858c20864713b290","SpanId":"8b76c26b3c7a0739","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMH9:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JJFDTMH9"}}
{"Timestamp":"2024-11-10T22:32:34.3305819+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"92a52ecc2ccfd33b858c20864713b290","SpanId":"8b76c26b3c7a0739","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN81JJFDTMH9:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JJFDTMH9"}}
{"Timestamp":"2024-11-10T22:32:34.4180174+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"92a52ecc2ccfd33b858c20864713b290","SpanId":"8b76c26b3c7a0739","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMH9:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JJFDTMH9"}}
{"Timestamp":"2024-11-10T22:32:34.4571117+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"92a52ecc2ccfd33b858c20864713b290","SpanId":"8b76c26b3c7a0739","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f0fef1b1-2583-4238-9096-e52eb10d9cd9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81JJFDTMH9:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JJFDTMH9"}}
{"Timestamp":"2024-11-10T22:32:36.3024701+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"92a52ecc2ccfd33b858c20864713b290","SpanId":"8b76c26b3c7a0739","Properties":{"elapsed":"47","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f0fef1b1-2583-4238-9096-e52eb10d9cd9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81JJFDTMH9:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JJFDTMH9"}}
{"Timestamp":"2024-11-10T22:32:36.6473671+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"92a52ecc2ccfd33b858c20864713b290","SpanId":"8b76c26b3c7a0739","Properties":{"elapsed":"25","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f0fef1b1-2583-4238-9096-e52eb10d9cd9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81JJFDTMH9:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JJFDTMH9"}}
{"Timestamp":"2024-11-10T22:32:36.6753081+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"92a52ecc2ccfd33b858c20864713b290","SpanId":"8b76c26b3c7a0739","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f0fef1b1-2583-4238-9096-e52eb10d9cd9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81JJFDTMH9:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JJFDTMH9"}}
{"Timestamp":"2024-11-10T22:32:36.6843466+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"92a52ecc2ccfd33b858c20864713b290","SpanId":"8b76c26b3c7a0739","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":2218.8807,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMH9:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JJFDTMH9"}}
{"Timestamp":"2024-11-10T22:32:36.6868109+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"92a52ecc2ccfd33b858c20864713b290","SpanId":"8b76c26b3c7a0739","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMH9:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JJFDTMH9"}}
{"Timestamp":"2024-11-10T22:32:36.6896715+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"92a52ecc2ccfd33b858c20864713b290","SpanId":"8b76c26b3c7a0739","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":2363.2097,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2363.2097"}]}}
{"Timestamp":"2024-11-10T22:32:36.7016797+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"92a52ecc2ccfd33b858c20864713b290","SpanId":"8b76c26b3c7a0739","Properties":{"ElapsedMilliseconds":2380.3488,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMH9:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JJFDTMH9"}}
{"Timestamp":"2024-11-10T22:32:40.9326203+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"083cacd1279fdd84a20c2314236fc6eb","SpanId":"db1976ee5b2cea39","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHA"}}
{"Timestamp":"2024-11-10T22:32:40.9390132+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"083cacd1279fdd84a20c2314236fc6eb","SpanId":"db1976ee5b2cea39","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHA"}}
{"Timestamp":"2024-11-10T22:32:40.9461194+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"083cacd1279fdd84a20c2314236fc6eb","SpanId":"db1976ee5b2cea39","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHA"}}
{"Timestamp":"2024-11-10T22:32:41.0506663+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e5fd1d6959fe2790957c1fa47aabe6f3","SpanId":"be979cc5d7a421f7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHB"}}
{"Timestamp":"2024-11-10T22:32:41.0569218+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e5fd1d6959fe2790957c1fa47aabe6f3","SpanId":"be979cc5d7a421f7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHB"}}
{"Timestamp":"2024-11-10T22:32:41.0589598+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e5fd1d6959fe2790957c1fa47aabe6f3","SpanId":"be979cc5d7a421f7","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHB"}}
{"Timestamp":"2024-11-10T22:32:41.0594249+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"083cacd1279fdd84a20c2314236fc6eb","SpanId":"db1976ee5b2cea39","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHA"}}
{"Timestamp":"2024-11-10T22:32:41.1635453+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"083cacd1279fdd84a20c2314236fc6eb","SpanId":"db1976ee5b2cea39","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHA"}}
{"Timestamp":"2024-11-10T22:32:41.1785073+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e5fd1d6959fe2790957c1fa47aabe6f3","SpanId":"be979cc5d7a421f7","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHB"}}
{"Timestamp":"2024-11-10T22:32:41.1819874+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"083cacd1279fdd84a20c2314236fc6eb","SpanId":"db1976ee5b2cea39","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHA"}}
{"Timestamp":"2024-11-10T22:32:41.1843768+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"083cacd1279fdd84a20c2314236fc6eb","SpanId":"db1976ee5b2cea39","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":236.752,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMHA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHA"}}
{"Timestamp":"2024-11-10T22:32:41.1850774+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e5fd1d6959fe2790957c1fa47aabe6f3","SpanId":"be979cc5d7a421f7","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHB"}}
{"Timestamp":"2024-11-10T22:32:41.1856619+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"083cacd1279fdd84a20c2314236fc6eb","SpanId":"db1976ee5b2cea39","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHA"}}
{"Timestamp":"2024-11-10T22:32:41.1881379+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e5fd1d6959fe2790957c1fa47aabe6f3","SpanId":"be979cc5d7a421f7","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHB"}}
{"Timestamp":"2024-11-10T22:32:41.1884570+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"083cacd1279fdd84a20c2314236fc6eb","SpanId":"db1976ee5b2cea39","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":250.8295,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"250.8295"}]}}
{"Timestamp":"2024-11-10T22:32:41.1894457+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e5fd1d6959fe2790957c1fa47aabe6f3","SpanId":"be979cc5d7a421f7","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":129.1261,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMHB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHB"}}
{"Timestamp":"2024-11-10T22:32:41.1929405+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"083cacd1279fdd84a20c2314236fc6eb","SpanId":"db1976ee5b2cea39","Properties":{"ElapsedMilliseconds":260.2441,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHA"}}
{"Timestamp":"2024-11-10T22:32:41.1934155+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e5fd1d6959fe2790957c1fa47aabe6f3","SpanId":"be979cc5d7a421f7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHB"}}
{"Timestamp":"2024-11-10T22:32:41.1964417+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"af213a918fa6c0404cae951ed0604367","SpanId":"016cf87ec9ad7a14","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMHC"}}
{"Timestamp":"2024-11-10T22:32:41.1966911+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e5fd1d6959fe2790957c1fa47aabe6f3","SpanId":"be979cc5d7a421f7","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":143.111,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"143.1110"}]}}
{"Timestamp":"2024-11-10T22:32:41.1997808+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e5fd1d6959fe2790957c1fa47aabe6f3","SpanId":"be979cc5d7a421f7","Properties":{"ElapsedMilliseconds":149.1233,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHB"}}
{"Timestamp":"2024-11-10T22:32:41.2019814+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ceae4c876147eee2c30dd6dbff333f3f","SpanId":"2f0e19d0ce63e2bd","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHD"}}
{"Timestamp":"2024-11-10T22:32:41.2501557+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ceae4c876147eee2c30dd6dbff333f3f","SpanId":"2f0e19d0ce63e2bd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHD"}}
{"Timestamp":"2024-11-10T22:32:41.2501557+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"af213a918fa6c0404cae951ed0604367","SpanId":"016cf87ec9ad7a14","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMHC"}}
{"Timestamp":"2024-11-10T22:32:41.2549507+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"af213a918fa6c0404cae951ed0604367","SpanId":"016cf87ec9ad7a14","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMHC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMHC"}}
{"Timestamp":"2024-11-10T22:32:41.2549507+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ceae4c876147eee2c30dd6dbff333f3f","SpanId":"2f0e19d0ce63e2bd","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMHD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHD"}}
{"Timestamp":"2024-11-10T22:32:41.3173524+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"af213a918fa6c0404cae951ed0604367","SpanId":"016cf87ec9ad7a14","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMHC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMHC"}}
{"Timestamp":"2024-11-10T22:32:41.3219361+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"af213a918fa6c0404cae951ed0604367","SpanId":"016cf87ec9ad7a14","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMHC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMHC"}}
{"Timestamp":"2024-11-10T22:32:41.3231724+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ceae4c876147eee2c30dd6dbff333f3f","SpanId":"2f0e19d0ce63e2bd","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMHD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHD"}}
{"Timestamp":"2024-11-10T22:32:41.3322067+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ceae4c876147eee2c30dd6dbff333f3f","SpanId":"2f0e19d0ce63e2bd","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMHD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHD"}}
{"Timestamp":"2024-11-10T22:32:41.3347225+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"af213a918fa6c0404cae951ed0604367","SpanId":"016cf87ec9ad7a14","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":77.5115,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMHC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMHC"}}
{"Timestamp":"2024-11-10T22:32:41.3367932+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"af213a918fa6c0404cae951ed0604367","SpanId":"016cf87ec9ad7a14","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMHC"}}
{"Timestamp":"2024-11-10T22:32:41.3378784+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"af213a918fa6c0404cae951ed0604367","SpanId":"016cf87ec9ad7a14","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":139.3676,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"139.3676"}]}}
{"Timestamp":"2024-11-10T22:32:41.3408210+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ceae4c876147eee2c30dd6dbff333f3f","SpanId":"2f0e19d0ce63e2bd","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":81.3608,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMHD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHD"}}
{"Timestamp":"2024-11-10T22:32:41.3408958+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"af213a918fa6c0404cae951ed0604367","SpanId":"016cf87ec9ad7a14","Properties":{"ElapsedMilliseconds":144.3696,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMHC"}}
{"Timestamp":"2024-11-10T22:32:41.3424713+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ceae4c876147eee2c30dd6dbff333f3f","SpanId":"2f0e19d0ce63e2bd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHD"}}
{"Timestamp":"2024-11-10T22:32:41.3458541+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ceae4c876147eee2c30dd6dbff333f3f","SpanId":"2f0e19d0ce63e2bd","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":139.894,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"139.8940"}]}}
{"Timestamp":"2024-11-10T22:32:41.3473407+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ceae4c876147eee2c30dd6dbff333f3f","SpanId":"2f0e19d0ce63e2bd","Properties":{"ElapsedMilliseconds":145.3273,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHD"}}
{"Timestamp":"2024-11-10T22:32:44.4967378+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"12b9c788d140bd5677f906c8d83a846b","SpanId":"09e6a85a95f37b11","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHE"}}
{"Timestamp":"2024-11-10T22:32:44.5001822+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"12b9c788d140bd5677f906c8d83a846b","SpanId":"09e6a85a95f37b11","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHE"}}
{"Timestamp":"2024-11-10T22:32:44.5010521+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"12b9c788d140bd5677f906c8d83a846b","SpanId":"09e6a85a95f37b11","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHE"}}
{"Timestamp":"2024-11-10T22:32:44.5109281+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"12b9c788d140bd5677f906c8d83a846b","SpanId":"09e6a85a95f37b11","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHE"}}
{"Timestamp":"2024-11-10T22:32:44.5158801+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"12b9c788d140bd5677f906c8d83a846b","SpanId":"09e6a85a95f37b11","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHE"}}
{"Timestamp":"2024-11-10T22:32:44.5183056+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"12b9c788d140bd5677f906c8d83a846b","SpanId":"09e6a85a95f37b11","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHE"}}
{"Timestamp":"2024-11-10T22:32:44.5196446+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"12b9c788d140bd5677f906c8d83a846b","SpanId":"09e6a85a95f37b11","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.2443,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMHE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHE"}}
{"Timestamp":"2024-11-10T22:32:44.5212118+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"12b9c788d140bd5677f906c8d83a846b","SpanId":"09e6a85a95f37b11","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHE"}}
{"Timestamp":"2024-11-10T22:32:44.5225426+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"12b9c788d140bd5677f906c8d83a846b","SpanId":"09e6a85a95f37b11","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":22.7477,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.7477"}]}}
{"Timestamp":"2024-11-10T22:32:44.5244736+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"12b9c788d140bd5677f906c8d83a846b","SpanId":"09e6a85a95f37b11","Properties":{"ElapsedMilliseconds":27.7954,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHE"}}
{"Timestamp":"2024-11-10T22:32:44.5271468+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"59dc019d4a2d5f6faeceaaf0a75a471d","SpanId":"4ceb30d9fa03eae1","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHF:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHF"}}
{"Timestamp":"2024-11-10T22:32:44.5315575+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"59dc019d4a2d5f6faeceaaf0a75a471d","SpanId":"4ceb30d9fa03eae1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHF:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHF"}}
{"Timestamp":"2024-11-10T22:32:44.5328353+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"59dc019d4a2d5f6faeceaaf0a75a471d","SpanId":"4ceb30d9fa03eae1","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMHF:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHF"}}
{"Timestamp":"2024-11-10T22:32:44.5469612+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"59dc019d4a2d5f6faeceaaf0a75a471d","SpanId":"4ceb30d9fa03eae1","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMHF:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHF"}}
{"Timestamp":"2024-11-10T22:32:44.5511378+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"59dc019d4a2d5f6faeceaaf0a75a471d","SpanId":"4ceb30d9fa03eae1","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMHF:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHF"}}
{"Timestamp":"2024-11-10T22:32:44.5535767+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"59dc019d4a2d5f6faeceaaf0a75a471d","SpanId":"4ceb30d9fa03eae1","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":18.7735,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMHF:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHF"}}
{"Timestamp":"2024-11-10T22:32:44.5563792+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"59dc019d4a2d5f6faeceaaf0a75a471d","SpanId":"4ceb30d9fa03eae1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHF:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHF"}}
{"Timestamp":"2024-11-10T22:32:44.5587657+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"59dc019d4a2d5f6faeceaaf0a75a471d","SpanId":"4ceb30d9fa03eae1","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":27.7788,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.7788"}]}}
{"Timestamp":"2024-11-10T22:32:44.5613960+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"59dc019d4a2d5f6faeceaaf0a75a471d","SpanId":"4ceb30d9fa03eae1","Properties":{"ElapsedMilliseconds":34.2728,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHF:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHF"}}
{"Timestamp":"2024-11-10T22:32:44.5678874+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"113e186a5217fe70d994556acbfbabb1","SpanId":"57b34094b873d0b5","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHG"}}
{"Timestamp":"2024-11-10T22:32:44.5694228+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"113e186a5217fe70d994556acbfbabb1","SpanId":"57b34094b873d0b5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHG"}}
{"Timestamp":"2024-11-10T22:32:44.5700937+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"113e186a5217fe70d994556acbfbabb1","SpanId":"57b34094b873d0b5","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHG"}}
{"Timestamp":"2024-11-10T22:32:44.5758403+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"113e186a5217fe70d994556acbfbabb1","SpanId":"57b34094b873d0b5","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHG"}}
{"Timestamp":"2024-11-10T22:32:44.5788531+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"113e186a5217fe70d994556acbfbabb1","SpanId":"57b34094b873d0b5","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHG"}}
{"Timestamp":"2024-11-10T22:32:44.5805204+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"113e186a5217fe70d994556acbfbabb1","SpanId":"57b34094b873d0b5","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHG"}}
{"Timestamp":"2024-11-10T22:32:44.5815312+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"113e186a5217fe70d994556acbfbabb1","SpanId":"57b34094b873d0b5","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":9.6587,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMHG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHG"}}
{"Timestamp":"2024-11-10T22:32:44.5825560+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"113e186a5217fe70d994556acbfbabb1","SpanId":"57b34094b873d0b5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHG"}}
{"Timestamp":"2024-11-10T22:32:44.5833999+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"113e186a5217fe70d994556acbfbabb1","SpanId":"57b34094b873d0b5","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":14.0479,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.0479"}]}}
{"Timestamp":"2024-11-10T22:32:44.5848915+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"113e186a5217fe70d994556acbfbabb1","SpanId":"57b34094b873d0b5","Properties":{"ElapsedMilliseconds":17.028,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHG"}}
{"Timestamp":"2024-11-10T22:32:44.5895280+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fd83e814829d0737d5e41cb0a0cce94b","SpanId":"b4c5f4fe3b63ed65","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHH:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JJFDTMHH"}}
{"Timestamp":"2024-11-10T22:32:44.5918534+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fd83e814829d0737d5e41cb0a0cce94b","SpanId":"b4c5f4fe3b63ed65","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHH:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JJFDTMHH"}}
{"Timestamp":"2024-11-10T22:32:44.5937604+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fd83e814829d0737d5e41cb0a0cce94b","SpanId":"b4c5f4fe3b63ed65","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"505f0b6b-b577-4798-8f5a-9169233b1984","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81JJFDTMHH:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JJFDTMHH"}}
{"Timestamp":"2024-11-10T22:32:44.6666711+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fd83e814829d0737d5e41cb0a0cce94b","SpanId":"b4c5f4fe3b63ed65","Properties":{"elapsed":"4","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"505f0b6b-b577-4798-8f5a-9169233b1984","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81JJFDTMHH:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JJFDTMHH"}}
{"Timestamp":"2024-11-10T22:32:44.7174256+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fd83e814829d0737d5e41cb0a0cce94b","SpanId":"b4c5f4fe3b63ed65","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"505f0b6b-b577-4798-8f5a-9169233b1984","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81JJFDTMHH:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JJFDTMHH"}}
{"Timestamp":"2024-11-10T22:32:44.7229292+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fd83e814829d0737d5e41cb0a0cce94b","SpanId":"b4c5f4fe3b63ed65","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"505f0b6b-b577-4798-8f5a-9169233b1984","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81JJFDTMHH:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JJFDTMHH"}}
{"Timestamp":"2024-11-10T22:32:44.7245607+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fd83e814829d0737d5e41cb0a0cce94b","SpanId":"b4c5f4fe3b63ed65","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":129.2537,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMHH:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JJFDTMHH"}}
{"Timestamp":"2024-11-10T22:32:44.7259206+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fd83e814829d0737d5e41cb0a0cce94b","SpanId":"b4c5f4fe3b63ed65","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHH:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JJFDTMHH"}}
{"Timestamp":"2024-11-10T22:32:44.7270266+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fd83e814829d0737d5e41cb0a0cce94b","SpanId":"b4c5f4fe3b63ed65","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":135.475,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"135.4750"}]}}
{"Timestamp":"2024-11-10T22:32:44.7287537+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fd83e814829d0737d5e41cb0a0cce94b","SpanId":"b4c5f4fe3b63ed65","Properties":{"ElapsedMilliseconds":139.2462,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHH:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JJFDTMHH"}}
{"Timestamp":"2024-11-10T22:32:46.8144025+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cadf047b522b343dcbd25998a8c7bbde","SpanId":"b6dad5273f8e7ec5","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHI"}}
{"Timestamp":"2024-11-10T22:32:46.8181263+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cadf047b522b343dcbd25998a8c7bbde","SpanId":"b6dad5273f8e7ec5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHI"}}
{"Timestamp":"2024-11-10T22:32:46.8190019+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cadf047b522b343dcbd25998a8c7bbde","SpanId":"b6dad5273f8e7ec5","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHI"}}
{"Timestamp":"2024-11-10T22:32:46.8291088+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cadf047b522b343dcbd25998a8c7bbde","SpanId":"b6dad5273f8e7ec5","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHI"}}
{"Timestamp":"2024-11-10T22:32:46.8335467+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cadf047b522b343dcbd25998a8c7bbde","SpanId":"b6dad5273f8e7ec5","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHI"}}
{"Timestamp":"2024-11-10T22:32:46.8354258+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cadf047b522b343dcbd25998a8c7bbde","SpanId":"b6dad5273f8e7ec5","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHI"}}
{"Timestamp":"2024-11-10T22:32:46.8373669+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cadf047b522b343dcbd25998a8c7bbde","SpanId":"b6dad5273f8e7ec5","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.5479,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMHI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHI"}}
{"Timestamp":"2024-11-10T22:32:46.8387549+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cadf047b522b343dcbd25998a8c7bbde","SpanId":"b6dad5273f8e7ec5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHI"}}
{"Timestamp":"2024-11-10T22:32:46.8405592+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cadf047b522b343dcbd25998a8c7bbde","SpanId":"b6dad5273f8e7ec5","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":22.5904,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.5904"}]}}
{"Timestamp":"2024-11-10T22:32:46.8426260+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cadf047b522b343dcbd25998a8c7bbde","SpanId":"b6dad5273f8e7ec5","Properties":{"ElapsedMilliseconds":28.2854,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHI"}}
{"Timestamp":"2024-11-10T22:32:46.8448861+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"67dd721f6340b506a3c5b918755a301f","SpanId":"d34590eea053cac5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMHJ"}}
{"Timestamp":"2024-11-10T22:32:46.8487539+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"67dd721f6340b506a3c5b918755a301f","SpanId":"d34590eea053cac5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMHJ"}}
{"Timestamp":"2024-11-10T22:32:46.8499060+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"67dd721f6340b506a3c5b918755a301f","SpanId":"d34590eea053cac5","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMHJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMHJ"}}
{"Timestamp":"2024-11-10T22:32:46.8587525+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"67dd721f6340b506a3c5b918755a301f","SpanId":"d34590eea053cac5","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMHJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMHJ"}}
{"Timestamp":"2024-11-10T22:32:46.8616903+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"67dd721f6340b506a3c5b918755a301f","SpanId":"d34590eea053cac5","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMHJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMHJ"}}
{"Timestamp":"2024-11-10T22:32:46.8631068+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"67dd721f6340b506a3c5b918755a301f","SpanId":"d34590eea053cac5","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":11.4105,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMHJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMHJ"}}
{"Timestamp":"2024-11-10T22:32:46.8644162+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"67dd721f6340b506a3c5b918755a301f","SpanId":"d34590eea053cac5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMHJ"}}
{"Timestamp":"2024-11-10T22:32:46.8654605+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"67dd721f6340b506a3c5b918755a301f","SpanId":"d34590eea053cac5","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":17.0827,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.0827"}]}}
{"Timestamp":"2024-11-10T22:32:46.8672599+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"67dd721f6340b506a3c5b918755a301f","SpanId":"d34590eea053cac5","Properties":{"ElapsedMilliseconds":22.391,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMHJ"}}
{"Timestamp":"2024-11-10T22:32:46.9788570+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f7e5758c1c6009c45fad925958fe3f1c","SpanId":"54232acba1e497d2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHK"}}
{"Timestamp":"2024-11-10T22:32:46.9811466+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f7e5758c1c6009c45fad925958fe3f1c","SpanId":"54232acba1e497d2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHK"}}
{"Timestamp":"2024-11-10T22:32:46.9826211+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f7e5758c1c6009c45fad925958fe3f1c","SpanId":"54232acba1e497d2","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHK"}}
{"Timestamp":"2024-11-10T22:32:46.9854110+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dfd61eb0200adbda9856fe20c9d93120","SpanId":"b48e88a3be3ade7a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHL"}}
{"Timestamp":"2024-11-10T22:32:46.9885660+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"dfd61eb0200adbda9856fe20c9d93120","SpanId":"b48e88a3be3ade7a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHL"}}
{"Timestamp":"2024-11-10T22:32:46.9898440+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"dfd61eb0200adbda9856fe20c9d93120","SpanId":"b48e88a3be3ade7a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHL"}}
{"Timestamp":"2024-11-10T22:32:46.9939114+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f7e5758c1c6009c45fad925958fe3f1c","SpanId":"54232acba1e497d2","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHK"}}
{"Timestamp":"2024-11-10T22:32:47.0034111+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dfd61eb0200adbda9856fe20c9d93120","SpanId":"b48e88a3be3ade7a","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHL"}}
{"Timestamp":"2024-11-10T22:32:47.0106613+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f7e5758c1c6009c45fad925958fe3f1c","SpanId":"54232acba1e497d2","Properties":{"elapsed":"12","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHK"}}
{"Timestamp":"2024-11-10T22:32:47.0119369+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dfd61eb0200adbda9856fe20c9d93120","SpanId":"b48e88a3be3ade7a","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHL"}}
{"Timestamp":"2024-11-10T22:32:47.0136695+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f7e5758c1c6009c45fad925958fe3f1c","SpanId":"54232acba1e497d2","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHK"}}
{"Timestamp":"2024-11-10T22:32:47.0157555+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"dfd61eb0200adbda9856fe20c9d93120","SpanId":"b48e88a3be3ade7a","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHL"}}
{"Timestamp":"2024-11-10T22:32:47.0168605+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f7e5758c1c6009c45fad925958fe3f1c","SpanId":"54232acba1e497d2","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":32.5468,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMHK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHK"}}
{"Timestamp":"2024-11-10T22:32:47.0183266+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"dfd61eb0200adbda9856fe20c9d93120","SpanId":"b48e88a3be3ade7a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":25.6146,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMHL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHL"}}
{"Timestamp":"2024-11-10T22:32:47.0195429+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f7e5758c1c6009c45fad925958fe3f1c","SpanId":"54232acba1e497d2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHK"}}
{"Timestamp":"2024-11-10T22:32:47.0206970+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"dfd61eb0200adbda9856fe20c9d93120","SpanId":"b48e88a3be3ade7a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHL"}}
{"Timestamp":"2024-11-10T22:32:47.0218889+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f7e5758c1c6009c45fad925958fe3f1c","SpanId":"54232acba1e497d2","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":40.9116,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"40.9116"}]}}
{"Timestamp":"2024-11-10T22:32:47.0230119+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"dfd61eb0200adbda9856fe20c9d93120","SpanId":"b48e88a3be3ade7a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":34.5763,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"34.5763"}]}}
{"Timestamp":"2024-11-10T22:32:47.0247771+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f7e5758c1c6009c45fad925958fe3f1c","SpanId":"54232acba1e497d2","Properties":{"ElapsedMilliseconds":45.9504,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHK"}}
{"Timestamp":"2024-11-10T22:32:47.0268691+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dfd61eb0200adbda9856fe20c9d93120","SpanId":"b48e88a3be3ade7a","Properties":{"ElapsedMilliseconds":41.6504,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHL"}}
{"Timestamp":"2024-11-10T22:32:47.0305926+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"704fd0efb3fcd92142b458f9e591f13a","SpanId":"4c38d2034487dd11","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMHM"}}
{"Timestamp":"2024-11-10T22:32:47.0315949+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a80ea21e740c5af0cacead8c2f2610a6","SpanId":"a618e3e628738783","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHN"}}
{"Timestamp":"2024-11-10T22:32:47.0361846+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"704fd0efb3fcd92142b458f9e591f13a","SpanId":"4c38d2034487dd11","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMHM"}}
{"Timestamp":"2024-11-10T22:32:47.0373893+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a80ea21e740c5af0cacead8c2f2610a6","SpanId":"a618e3e628738783","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHN"}}
{"Timestamp":"2024-11-10T22:32:47.0377958+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"704fd0efb3fcd92142b458f9e591f13a","SpanId":"4c38d2034487dd11","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMHM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMHM"}}
{"Timestamp":"2024-11-10T22:32:47.0384768+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a80ea21e740c5af0cacead8c2f2610a6","SpanId":"a618e3e628738783","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMHN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHN"}}
{"Timestamp":"2024-11-10T22:32:47.0482251+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a80ea21e740c5af0cacead8c2f2610a6","SpanId":"a618e3e628738783","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMHN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHN"}}
{"Timestamp":"2024-11-10T22:32:47.0482298+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"704fd0efb3fcd92142b458f9e591f13a","SpanId":"4c38d2034487dd11","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMHM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMHM"}}
{"Timestamp":"2024-11-10T22:32:47.0514403+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a80ea21e740c5af0cacead8c2f2610a6","SpanId":"a618e3e628738783","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMHN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHN"}}
{"Timestamp":"2024-11-10T22:32:47.0532868+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"704fd0efb3fcd92142b458f9e591f13a","SpanId":"4c38d2034487dd11","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMHM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMHM"}}
{"Timestamp":"2024-11-10T22:32:47.0541483+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a80ea21e740c5af0cacead8c2f2610a6","SpanId":"a618e3e628738783","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":12.45,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMHN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHN"}}
{"Timestamp":"2024-11-10T22:32:47.0552709+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"704fd0efb3fcd92142b458f9e591f13a","SpanId":"4c38d2034487dd11","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":15.4582,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMHM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMHM"}}
{"Timestamp":"2024-11-10T22:32:47.0561082+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a80ea21e740c5af0cacead8c2f2610a6","SpanId":"a618e3e628738783","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHN"}}
{"Timestamp":"2024-11-10T22:32:47.0568239+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"704fd0efb3fcd92142b458f9e591f13a","SpanId":"4c38d2034487dd11","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMHM"}}
{"Timestamp":"2024-11-10T22:32:47.0574287+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a80ea21e740c5af0cacead8c2f2610a6","SpanId":"a618e3e628738783","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":20.2651,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.2651"}]}}
{"Timestamp":"2024-11-10T22:32:47.0585279+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"704fd0efb3fcd92142b458f9e591f13a","SpanId":"4c38d2034487dd11","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":22.7215,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.7215"}]}}
{"Timestamp":"2024-11-10T22:32:47.0614848+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a80ea21e740c5af0cacead8c2f2610a6","SpanId":"a618e3e628738783","Properties":{"ElapsedMilliseconds":29.8604,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHN"}}
{"Timestamp":"2024-11-10T22:32:47.0635846+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"704fd0efb3fcd92142b458f9e591f13a","SpanId":"4c38d2034487dd11","Properties":{"ElapsedMilliseconds":33.0557,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMHM"}}
{"Timestamp":"2024-11-10T22:32:48.5626524+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dd4a7077f5c4607df7a84d772f8870ad","SpanId":"8ec94ebb631c8118","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHO"}}
{"Timestamp":"2024-11-10T22:32:48.5666899+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"dd4a7077f5c4607df7a84d772f8870ad","SpanId":"8ec94ebb631c8118","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHO"}}
{"Timestamp":"2024-11-10T22:32:48.5687945+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"dd4a7077f5c4607df7a84d772f8870ad","SpanId":"8ec94ebb631c8118","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHO"}}
{"Timestamp":"2024-11-10T22:32:48.5815897+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dd4a7077f5c4607df7a84d772f8870ad","SpanId":"8ec94ebb631c8118","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHO"}}
{"Timestamp":"2024-11-10T22:32:48.5849914+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dd4a7077f5c4607df7a84d772f8870ad","SpanId":"8ec94ebb631c8118","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHO"}}
{"Timestamp":"2024-11-10T22:32:48.5865011+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"dd4a7077f5c4607df7a84d772f8870ad","SpanId":"8ec94ebb631c8118","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHO"}}
{"Timestamp":"2024-11-10T22:32:48.5873912+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"dd4a7077f5c4607df7a84d772f8870ad","SpanId":"8ec94ebb631c8118","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":14.5434,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMHO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHO"}}
{"Timestamp":"2024-11-10T22:32:48.5883999+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"dd4a7077f5c4607df7a84d772f8870ad","SpanId":"8ec94ebb631c8118","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHO"}}
{"Timestamp":"2024-11-10T22:32:48.5895633+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"dd4a7077f5c4607df7a84d772f8870ad","SpanId":"8ec94ebb631c8118","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":23.0233,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.0233"}]}}
{"Timestamp":"2024-11-10T22:32:48.5918442+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dd4a7077f5c4607df7a84d772f8870ad","SpanId":"8ec94ebb631c8118","Properties":{"ElapsedMilliseconds":29.2481,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHO"}}
{"Timestamp":"2024-11-10T22:32:48.5934758+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d9b30cf820a31d8b4ca64402a196e9e8","SpanId":"27f2cc9f7be77021","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1196","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHP:00000001","RequestPath":"/api/Schedules/1196","ConnectionId":"0HN81JJFDTMHP"}}
{"Timestamp":"2024-11-10T22:32:48.5960008+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d9b30cf820a31d8b4ca64402a196e9e8","SpanId":"27f2cc9f7be77021","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHP:00000001","RequestPath":"/api/Schedules/1196","ConnectionId":"0HN81JJFDTMHP"}}
{"Timestamp":"2024-11-10T22:32:48.5978159+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d9b30cf820a31d8b4ca64402a196e9e8","SpanId":"27f2cc9f7be77021","Properties":{"RouteData":"{action = \"Delete\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"97e1ed0f-5c47-407d-97fe-f841696724fe","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JJFDTMHP:00000001","RequestPath":"/api/Schedules/1196","ConnectionId":"0HN81JJFDTMHP"}}
{"Timestamp":"2024-11-10T22:32:48.6110768+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d9b30cf820a31d8b4ca64402a196e9e8","SpanId":"27f2cc9f7be77021","Properties":{"elapsed":"2","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"97e1ed0f-5c47-407d-97fe-f841696724fe","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JJFDTMHP:00000001","RequestPath":"/api/Schedules/1196","ConnectionId":"0HN81JJFDTMHP"}}
{"Timestamp":"2024-11-10T22:32:48.6225891+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d9b30cf820a31d8b4ca64402a196e9e8","SpanId":"27f2cc9f7be77021","Properties":{"elapsed":"2","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[user_id], [s].[schedule_id], [s].[id]\r\nFROM [Schedule_User] AS [s]\r\nWHERE [s].[schedule_id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"97e1ed0f-5c47-407d-97fe-f841696724fe","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JJFDTMHP:00000001","RequestPath":"/api/Schedules/1196","ConnectionId":"0HN81JJFDTMHP"}}
{"Timestamp":"2024-11-10T22:32:48.6712839+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d9b30cf820a31d8b4ca64402a196e9e8","SpanId":"27f2cc9f7be77021","Properties":{"elapsed":"7","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [Schedule_User]\r\nOUTPUT 1\r\nWHERE [schedule_id] = @p0 AND [user_id] = @p1;\r\nDELETE FROM [Schedules]\r\nOUTPUT 1\r\nWHERE [Id] = @p2;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"97e1ed0f-5c47-407d-97fe-f841696724fe","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JJFDTMHP:00000001","RequestPath":"/api/Schedules/1196","ConnectionId":"0HN81JJFDTMHP"}}
{"Timestamp":"2024-11-10T22:32:48.6882337+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"d9b30cf820a31d8b4ca64402a196e9e8","SpanId":"27f2cc9f7be77021","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"97e1ed0f-5c47-407d-97fe-f841696724fe","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JJFDTMHP:00000001","RequestPath":"/api/Schedules/1196","ConnectionId":"0HN81JJFDTMHP"}}
{"Timestamp":"2024-11-10T22:32:48.6894537+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d9b30cf820a31d8b4ca64402a196e9e8","SpanId":"27f2cc9f7be77021","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","ElapsedMilliseconds":90.2284,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMHP:00000001","RequestPath":"/api/Schedules/1196","ConnectionId":"0HN81JJFDTMHP"}}
{"Timestamp":"2024-11-10T22:32:48.6922315+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d9b30cf820a31d8b4ca64402a196e9e8","SpanId":"27f2cc9f7be77021","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHP:00000001","RequestPath":"/api/Schedules/1196","ConnectionId":"0HN81JJFDTMHP"}}
{"Timestamp":"2024-11-10T22:32:48.6935085+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d9b30cf820a31d8b4ca64402a196e9e8","SpanId":"27f2cc9f7be77021","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/Schedules/1196","StatusCode":200,"Elapsed":97.5719,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"97.5719"}]}}
{"Timestamp":"2024-11-10T22:32:48.6961474+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d9b30cf820a31d8b4ca64402a196e9e8","SpanId":"27f2cc9f7be77021","Properties":{"ElapsedMilliseconds":102.6725,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1196","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHP:00000001","RequestPath":"/api/Schedules/1196","ConnectionId":"0HN81JJFDTMHP"}}
{"Timestamp":"2024-11-10T22:32:50.3144976+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"12dce1c8f074b010629934c03b6ab40a","SpanId":"369ac56cd93e1bc1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHQ"}}
{"Timestamp":"2024-11-10T22:32:50.3196186+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"12dce1c8f074b010629934c03b6ab40a","SpanId":"369ac56cd93e1bc1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHQ"}}
{"Timestamp":"2024-11-10T22:32:50.3210700+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"12dce1c8f074b010629934c03b6ab40a","SpanId":"369ac56cd93e1bc1","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHQ"}}
{"Timestamp":"2024-11-10T22:32:50.3328315+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"12dce1c8f074b010629934c03b6ab40a","SpanId":"369ac56cd93e1bc1","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHQ"}}
{"Timestamp":"2024-11-10T22:32:50.3370304+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"12dce1c8f074b010629934c03b6ab40a","SpanId":"369ac56cd93e1bc1","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHQ"}}
{"Timestamp":"2024-11-10T22:32:50.3406634+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"12dce1c8f074b010629934c03b6ab40a","SpanId":"369ac56cd93e1bc1","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHQ"}}
{"Timestamp":"2024-11-10T22:32:50.3433494+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"12dce1c8f074b010629934c03b6ab40a","SpanId":"369ac56cd93e1bc1","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":19.8022,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMHQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHQ"}}
{"Timestamp":"2024-11-10T22:32:50.3451461+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"12dce1c8f074b010629934c03b6ab40a","SpanId":"369ac56cd93e1bc1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHQ"}}
{"Timestamp":"2024-11-10T22:32:50.3458098+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"12dce1c8f074b010629934c03b6ab40a","SpanId":"369ac56cd93e1bc1","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":26.6392,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.6392"}]}}
{"Timestamp":"2024-11-10T22:32:50.3472988+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"12dce1c8f074b010629934c03b6ab40a","SpanId":"369ac56cd93e1bc1","Properties":{"ElapsedMilliseconds":32.8512,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHQ"}}
{"Timestamp":"2024-11-10T22:32:50.3491481+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"867aed0e795ec91d321aaf668050b4ce","SpanId":"d11cad9b2a30af6b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHR"}}
{"Timestamp":"2024-11-10T22:32:50.3527277+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"867aed0e795ec91d321aaf668050b4ce","SpanId":"d11cad9b2a30af6b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHR"}}
{"Timestamp":"2024-11-10T22:32:50.3536218+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"867aed0e795ec91d321aaf668050b4ce","SpanId":"d11cad9b2a30af6b","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMHR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHR"}}
{"Timestamp":"2024-11-10T22:32:50.3608642+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"867aed0e795ec91d321aaf668050b4ce","SpanId":"d11cad9b2a30af6b","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMHR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHR"}}
{"Timestamp":"2024-11-10T22:32:50.3638303+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"867aed0e795ec91d321aaf668050b4ce","SpanId":"d11cad9b2a30af6b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMHR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHR"}}
{"Timestamp":"2024-11-10T22:32:50.3652496+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"867aed0e795ec91d321aaf668050b4ce","SpanId":"d11cad9b2a30af6b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":10.1743,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMHR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHR"}}
{"Timestamp":"2024-11-10T22:32:50.3667312+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"867aed0e795ec91d321aaf668050b4ce","SpanId":"d11cad9b2a30af6b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHR"}}
{"Timestamp":"2024-11-10T22:32:50.3680634+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"867aed0e795ec91d321aaf668050b4ce","SpanId":"d11cad9b2a30af6b","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":15.7276,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.7276"}]}}
{"Timestamp":"2024-11-10T22:32:50.3693970+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"867aed0e795ec91d321aaf668050b4ce","SpanId":"d11cad9b2a30af6b","Properties":{"ElapsedMilliseconds":20.2844,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHR"}}
{"Timestamp":"2024-11-10T22:32:51.4123187+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3776cf3c230924212411c709fa5c674c","SpanId":"17640c4c786dce9c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHS"}}
{"Timestamp":"2024-11-10T22:32:51.4150614+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3776cf3c230924212411c709fa5c674c","SpanId":"17640c4c786dce9c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHS"}}
{"Timestamp":"2024-11-10T22:32:51.4159344+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3776cf3c230924212411c709fa5c674c","SpanId":"17640c4c786dce9c","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHS"}}
{"Timestamp":"2024-11-10T22:32:51.4238288+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3776cf3c230924212411c709fa5c674c","SpanId":"17640c4c786dce9c","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHS"}}
{"Timestamp":"2024-11-10T22:32:51.4280491+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3776cf3c230924212411c709fa5c674c","SpanId":"17640c4c786dce9c","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHS"}}
{"Timestamp":"2024-11-10T22:32:51.4296575+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3776cf3c230924212411c709fa5c674c","SpanId":"17640c4c786dce9c","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHS"}}
{"Timestamp":"2024-11-10T22:32:51.4305842+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3776cf3c230924212411c709fa5c674c","SpanId":"17640c4c786dce9c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.0846,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMHS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHS"}}
{"Timestamp":"2024-11-10T22:32:51.4315654+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3776cf3c230924212411c709fa5c674c","SpanId":"17640c4c786dce9c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHS"}}
{"Timestamp":"2024-11-10T22:32:51.4322523+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3776cf3c230924212411c709fa5c674c","SpanId":"17640c4c786dce9c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":17.3384,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.3384"}]}}
{"Timestamp":"2024-11-10T22:32:51.4336665+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3776cf3c230924212411c709fa5c674c","SpanId":"17640c4c786dce9c","Properties":{"ElapsedMilliseconds":21.3367,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHS"}}
{"Timestamp":"2024-11-10T22:32:51.4352579+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6554bfcdfb71af4f42d72be8b2b2127c","SpanId":"220718401e9671a8","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1207","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHT:00000001","RequestPath":"/api/Schedules/1207","ConnectionId":"0HN81JJFDTMHT"}}
{"Timestamp":"2024-11-10T22:32:51.4384302+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6554bfcdfb71af4f42d72be8b2b2127c","SpanId":"220718401e9671a8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHT:00000001","RequestPath":"/api/Schedules/1207","ConnectionId":"0HN81JJFDTMHT"}}
{"Timestamp":"2024-11-10T22:32:51.4391849+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6554bfcdfb71af4f42d72be8b2b2127c","SpanId":"220718401e9671a8","Properties":{"RouteData":"{action = \"Delete\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"97e1ed0f-5c47-407d-97fe-f841696724fe","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JJFDTMHT:00000001","RequestPath":"/api/Schedules/1207","ConnectionId":"0HN81JJFDTMHT"}}
{"Timestamp":"2024-11-10T22:32:51.4461610+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6554bfcdfb71af4f42d72be8b2b2127c","SpanId":"220718401e9671a8","Properties":{"elapsed":"4","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"97e1ed0f-5c47-407d-97fe-f841696724fe","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JJFDTMHT:00000001","RequestPath":"/api/Schedules/1207","ConnectionId":"0HN81JJFDTMHT"}}
{"Timestamp":"2024-11-10T22:32:51.4501787+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6554bfcdfb71af4f42d72be8b2b2127c","SpanId":"220718401e9671a8","Properties":{"elapsed":"1","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[user_id], [s].[schedule_id], [s].[id]\r\nFROM [Schedule_User] AS [s]\r\nWHERE [s].[schedule_id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"97e1ed0f-5c47-407d-97fe-f841696724fe","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JJFDTMHT:00000001","RequestPath":"/api/Schedules/1207","ConnectionId":"0HN81JJFDTMHT"}}
{"Timestamp":"2024-11-10T22:32:51.4566963+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6554bfcdfb71af4f42d72be8b2b2127c","SpanId":"220718401e9671a8","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [Schedule_User]\r\nOUTPUT 1\r\nWHERE [schedule_id] = @p0 AND [user_id] = @p1;\r\nDELETE FROM [Schedules]\r\nOUTPUT 1\r\nWHERE [Id] = @p2;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"97e1ed0f-5c47-407d-97fe-f841696724fe","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JJFDTMHT:00000001","RequestPath":"/api/Schedules/1207","ConnectionId":"0HN81JJFDTMHT"}}
{"Timestamp":"2024-11-10T22:32:51.4624960+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"6554bfcdfb71af4f42d72be8b2b2127c","SpanId":"220718401e9671a8","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"97e1ed0f-5c47-407d-97fe-f841696724fe","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JJFDTMHT:00000001","RequestPath":"/api/Schedules/1207","ConnectionId":"0HN81JJFDTMHT"}}
{"Timestamp":"2024-11-10T22:32:51.4633286+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6554bfcdfb71af4f42d72be8b2b2127c","SpanId":"220718401e9671a8","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","ElapsedMilliseconds":22.2195,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMHT:00000001","RequestPath":"/api/Schedules/1207","ConnectionId":"0HN81JJFDTMHT"}}
{"Timestamp":"2024-11-10T22:32:51.4643258+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6554bfcdfb71af4f42d72be8b2b2127c","SpanId":"220718401e9671a8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHT:00000001","RequestPath":"/api/Schedules/1207","ConnectionId":"0HN81JJFDTMHT"}}
{"Timestamp":"2024-11-10T22:32:51.4651435+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6554bfcdfb71af4f42d72be8b2b2127c","SpanId":"220718401e9671a8","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/Schedules/1207","StatusCode":200,"Elapsed":26.7984,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.7984"}]}}
{"Timestamp":"2024-11-10T22:32:51.4672140+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6554bfcdfb71af4f42d72be8b2b2127c","SpanId":"220718401e9671a8","Properties":{"ElapsedMilliseconds":31.9771,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1207","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHT:00000001","RequestPath":"/api/Schedules/1207","ConnectionId":"0HN81JJFDTMHT"}}
{"Timestamp":"2024-11-10T22:32:52.8735096+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"29d197cda3ee7789265b176e2261c8d1","SpanId":"1eac82fc7f3e9e50","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHU"}}
{"Timestamp":"2024-11-10T22:32:52.8754352+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"29d197cda3ee7789265b176e2261c8d1","SpanId":"1eac82fc7f3e9e50","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHU"}}
{"Timestamp":"2024-11-10T22:32:52.8762365+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"29d197cda3ee7789265b176e2261c8d1","SpanId":"1eac82fc7f3e9e50","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHU"}}
{"Timestamp":"2024-11-10T22:32:52.8842841+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"29d197cda3ee7789265b176e2261c8d1","SpanId":"1eac82fc7f3e9e50","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHU"}}
{"Timestamp":"2024-11-10T22:32:52.8876120+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"29d197cda3ee7789265b176e2261c8d1","SpanId":"1eac82fc7f3e9e50","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHU"}}
{"Timestamp":"2024-11-10T22:32:52.8889553+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"29d197cda3ee7789265b176e2261c8d1","SpanId":"1eac82fc7f3e9e50","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMHU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHU"}}
{"Timestamp":"2024-11-10T22:32:52.8898529+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"29d197cda3ee7789265b176e2261c8d1","SpanId":"1eac82fc7f3e9e50","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":11.459,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMHU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHU"}}
{"Timestamp":"2024-11-10T22:32:52.8909326+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"29d197cda3ee7789265b176e2261c8d1","SpanId":"1eac82fc7f3e9e50","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHU"}}
{"Timestamp":"2024-11-10T22:32:52.8915633+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"29d197cda3ee7789265b176e2261c8d1","SpanId":"1eac82fc7f3e9e50","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":16.393,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.3930"}]}}
{"Timestamp":"2024-11-10T22:32:52.8928525+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"29d197cda3ee7789265b176e2261c8d1","SpanId":"1eac82fc7f3e9e50","Properties":{"ElapsedMilliseconds":19.3377,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMHU"}}
{"Timestamp":"2024-11-10T22:32:52.8955051+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"aee1d1ed9ede866fc9edc5bb85f9e88b","SpanId":"0ea37cdd3006f2a7","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHV"}}
{"Timestamp":"2024-11-10T22:32:52.8973675+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"aee1d1ed9ede866fc9edc5bb85f9e88b","SpanId":"0ea37cdd3006f2a7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHV"}}
{"Timestamp":"2024-11-10T22:32:52.8980938+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"aee1d1ed9ede866fc9edc5bb85f9e88b","SpanId":"0ea37cdd3006f2a7","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMHV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHV"}}
{"Timestamp":"2024-11-10T22:32:52.9032533+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"aee1d1ed9ede866fc9edc5bb85f9e88b","SpanId":"0ea37cdd3006f2a7","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMHV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHV"}}
{"Timestamp":"2024-11-10T22:32:52.9061605+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"aee1d1ed9ede866fc9edc5bb85f9e88b","SpanId":"0ea37cdd3006f2a7","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMHV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHV"}}
{"Timestamp":"2024-11-10T22:32:52.9082793+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"aee1d1ed9ede866fc9edc5bb85f9e88b","SpanId":"0ea37cdd3006f2a7","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":9.0462,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMHV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHV"}}
{"Timestamp":"2024-11-10T22:32:52.9093254+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"aee1d1ed9ede866fc9edc5bb85f9e88b","SpanId":"0ea37cdd3006f2a7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMHV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHV"}}
{"Timestamp":"2024-11-10T22:32:52.9112973+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"aee1d1ed9ede866fc9edc5bb85f9e88b","SpanId":"0ea37cdd3006f2a7","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":14.1728,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.1728"}]}}
{"Timestamp":"2024-11-10T22:32:52.9126782+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"aee1d1ed9ede866fc9edc5bb85f9e88b","SpanId":"0ea37cdd3006f2a7","Properties":{"ElapsedMilliseconds":17.2101,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMHV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMHV"}}
{"Timestamp":"2024-11-10T22:32:53.8619531+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1ad891618b2a34752f71b66c350e395e","SpanId":"7d5ee7ab3c9f7eb0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMI0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI0"}}
{"Timestamp":"2024-11-10T22:32:53.8655137+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1ad891618b2a34752f71b66c350e395e","SpanId":"7d5ee7ab3c9f7eb0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMI0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI0"}}
{"Timestamp":"2024-11-10T22:32:53.8668903+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1ad891618b2a34752f71b66c350e395e","SpanId":"7d5ee7ab3c9f7eb0","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMI0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI0"}}
{"Timestamp":"2024-11-10T22:32:53.8792399+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1ad891618b2a34752f71b66c350e395e","SpanId":"7d5ee7ab3c9f7eb0","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMI0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI0"}}
{"Timestamp":"2024-11-10T22:32:53.8847011+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1ad891618b2a34752f71b66c350e395e","SpanId":"7d5ee7ab3c9f7eb0","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMI0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI0"}}
{"Timestamp":"2024-11-10T22:32:53.8870496+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1ad891618b2a34752f71b66c350e395e","SpanId":"7d5ee7ab3c9f7eb0","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMI0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI0"}}
{"Timestamp":"2024-11-10T22:32:53.8885106+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1ad891618b2a34752f71b66c350e395e","SpanId":"7d5ee7ab3c9f7eb0","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":19.0813,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMI0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI0"}}
{"Timestamp":"2024-11-10T22:32:53.8894411+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1ad891618b2a34752f71b66c350e395e","SpanId":"7d5ee7ab3c9f7eb0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMI0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI0"}}
{"Timestamp":"2024-11-10T22:32:53.8900606+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1ad891618b2a34752f71b66c350e395e","SpanId":"7d5ee7ab3c9f7eb0","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":24.652,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.6520"}]}}
{"Timestamp":"2024-11-10T22:32:53.8918332+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1ad891618b2a34752f71b66c350e395e","SpanId":"7d5ee7ab3c9f7eb0","Properties":{"ElapsedMilliseconds":29.9121,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMI0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI0"}}
{"Timestamp":"2024-11-10T22:32:53.8950469+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ae4dfa8b973be10e3300d5d4e949c1c5","SpanId":"5f62868c6fcf7a8d","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1209","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMI1:00000001","RequestPath":"/api/Schedules/1209","ConnectionId":"0HN81JJFDTMI1"}}
{"Timestamp":"2024-11-10T22:32:53.8973327+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ae4dfa8b973be10e3300d5d4e949c1c5","SpanId":"5f62868c6fcf7a8d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMI1:00000001","RequestPath":"/api/Schedules/1209","ConnectionId":"0HN81JJFDTMI1"}}
{"Timestamp":"2024-11-10T22:32:53.8981338+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ae4dfa8b973be10e3300d5d4e949c1c5","SpanId":"5f62868c6fcf7a8d","Properties":{"RouteData":"{action = \"Delete\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"97e1ed0f-5c47-407d-97fe-f841696724fe","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JJFDTMI1:00000001","RequestPath":"/api/Schedules/1209","ConnectionId":"0HN81JJFDTMI1"}}
{"Timestamp":"2024-11-10T22:32:53.9031191+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ae4dfa8b973be10e3300d5d4e949c1c5","SpanId":"5f62868c6fcf7a8d","Properties":{"elapsed":"1","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"97e1ed0f-5c47-407d-97fe-f841696724fe","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JJFDTMI1:00000001","RequestPath":"/api/Schedules/1209","ConnectionId":"0HN81JJFDTMI1"}}
{"Timestamp":"2024-11-10T22:32:53.9072655+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ae4dfa8b973be10e3300d5d4e949c1c5","SpanId":"5f62868c6fcf7a8d","Properties":{"elapsed":"1","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[user_id], [s].[schedule_id], [s].[id]\r\nFROM [Schedule_User] AS [s]\r\nWHERE [s].[schedule_id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"97e1ed0f-5c47-407d-97fe-f841696724fe","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JJFDTMI1:00000001","RequestPath":"/api/Schedules/1209","ConnectionId":"0HN81JJFDTMI1"}}
{"Timestamp":"2024-11-10T22:32:53.9142490+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ae4dfa8b973be10e3300d5d4e949c1c5","SpanId":"5f62868c6fcf7a8d","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [Schedule_User]\r\nOUTPUT 1\r\nWHERE [schedule_id] = @p0 AND [user_id] = @p1;\r\nDELETE FROM [Schedules]\r\nOUTPUT 1\r\nWHERE [Id] = @p2;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"97e1ed0f-5c47-407d-97fe-f841696724fe","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JJFDTMI1:00000001","RequestPath":"/api/Schedules/1209","ConnectionId":"0HN81JJFDTMI1"}}
{"Timestamp":"2024-11-10T22:32:53.9181474+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"ae4dfa8b973be10e3300d5d4e949c1c5","SpanId":"5f62868c6fcf7a8d","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"97e1ed0f-5c47-407d-97fe-f841696724fe","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JJFDTMI1:00000001","RequestPath":"/api/Schedules/1209","ConnectionId":"0HN81JJFDTMI1"}}
{"Timestamp":"2024-11-10T22:32:53.9195127+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ae4dfa8b973be10e3300d5d4e949c1c5","SpanId":"5f62868c6fcf7a8d","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","ElapsedMilliseconds":18.935,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMI1:00000001","RequestPath":"/api/Schedules/1209","ConnectionId":"0HN81JJFDTMI1"}}
{"Timestamp":"2024-11-10T22:32:53.9205161+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ae4dfa8b973be10e3300d5d4e949c1c5","SpanId":"5f62868c6fcf7a8d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMI1:00000001","RequestPath":"/api/Schedules/1209","ConnectionId":"0HN81JJFDTMI1"}}
{"Timestamp":"2024-11-10T22:32:53.9210870+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ae4dfa8b973be10e3300d5d4e949c1c5","SpanId":"5f62868c6fcf7a8d","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/Schedules/1209","StatusCode":200,"Elapsed":23.84,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.8400"}]}}
{"Timestamp":"2024-11-10T22:32:53.9222646+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ae4dfa8b973be10e3300d5d4e949c1c5","SpanId":"5f62868c6fcf7a8d","Properties":{"ElapsedMilliseconds":27.3265,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1209","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMI1:00000001","RequestPath":"/api/Schedules/1209","ConnectionId":"0HN81JJFDTMI1"}}
{"Timestamp":"2024-11-10T22:32:55.7104131+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ce4f7051d41e7536e7313b02992ef817","SpanId":"96403389def5d705","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMI2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI2"}}
{"Timestamp":"2024-11-10T22:32:55.7125375+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ce4f7051d41e7536e7313b02992ef817","SpanId":"96403389def5d705","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMI2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI2"}}
{"Timestamp":"2024-11-10T22:32:55.7133352+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ce4f7051d41e7536e7313b02992ef817","SpanId":"96403389def5d705","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMI2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI2"}}
{"Timestamp":"2024-11-10T22:32:55.7233319+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ce4f7051d41e7536e7313b02992ef817","SpanId":"96403389def5d705","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMI2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI2"}}
{"Timestamp":"2024-11-10T22:32:55.7298222+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ce4f7051d41e7536e7313b02992ef817","SpanId":"96403389def5d705","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMI2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI2"}}
{"Timestamp":"2024-11-10T22:32:55.7325129+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ce4f7051d41e7536e7313b02992ef817","SpanId":"96403389def5d705","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMI2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI2"}}
{"Timestamp":"2024-11-10T22:32:55.7340777+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ce4f7051d41e7536e7313b02992ef817","SpanId":"96403389def5d705","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":19.1117,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMI2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI2"}}
{"Timestamp":"2024-11-10T22:32:55.7354143+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ce4f7051d41e7536e7313b02992ef817","SpanId":"96403389def5d705","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMI2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI2"}}
{"Timestamp":"2024-11-10T22:32:55.7367724+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ce4f7051d41e7536e7313b02992ef817","SpanId":"96403389def5d705","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":24.3511,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.3511"}]}}
{"Timestamp":"2024-11-10T22:32:55.7392709+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ce4f7051d41e7536e7313b02992ef817","SpanId":"96403389def5d705","Properties":{"ElapsedMilliseconds":28.8783,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMI2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI2"}}
{"Timestamp":"2024-11-10T22:32:55.7426582+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"72ff4a945bac6439b62e1e15f44e41f0","SpanId":"8e57509e1bad7541","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMI3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMI3"}}
{"Timestamp":"2024-11-10T22:32:55.7485299+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"72ff4a945bac6439b62e1e15f44e41f0","SpanId":"8e57509e1bad7541","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMI3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMI3"}}
{"Timestamp":"2024-11-10T22:32:55.7509358+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"72ff4a945bac6439b62e1e15f44e41f0","SpanId":"8e57509e1bad7541","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMI3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMI3"}}
{"Timestamp":"2024-11-10T22:32:55.7577843+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"72ff4a945bac6439b62e1e15f44e41f0","SpanId":"8e57509e1bad7541","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMI3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMI3"}}
{"Timestamp":"2024-11-10T22:32:55.7609599+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"72ff4a945bac6439b62e1e15f44e41f0","SpanId":"8e57509e1bad7541","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMI3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMI3"}}
{"Timestamp":"2024-11-10T22:32:55.7620774+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"72ff4a945bac6439b62e1e15f44e41f0","SpanId":"8e57509e1bad7541","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":8.407,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMI3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMI3"}}
{"Timestamp":"2024-11-10T22:32:55.7632916+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"72ff4a945bac6439b62e1e15f44e41f0","SpanId":"8e57509e1bad7541","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMI3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMI3"}}
{"Timestamp":"2024-11-10T22:32:55.7645164+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"72ff4a945bac6439b62e1e15f44e41f0","SpanId":"8e57509e1bad7541","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":17.2744,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.2744"}]}}
{"Timestamp":"2024-11-10T22:32:55.7661755+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"72ff4a945bac6439b62e1e15f44e41f0","SpanId":"8e57509e1bad7541","Properties":{"ElapsedMilliseconds":23.5817,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMI3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMI3"}}
{"Timestamp":"2024-11-10T22:32:57.4918354+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"860909b4e9fcfba7758f1ef2518ca976","SpanId":"b7c1952f4541063d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMI4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI4"}}
{"Timestamp":"2024-11-10T22:32:57.4951368+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"860909b4e9fcfba7758f1ef2518ca976","SpanId":"b7c1952f4541063d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMI4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI4"}}
{"Timestamp":"2024-11-10T22:32:57.4958893+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"860909b4e9fcfba7758f1ef2518ca976","SpanId":"b7c1952f4541063d","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMI4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI4"}}
{"Timestamp":"2024-11-10T22:32:57.5038560+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"860909b4e9fcfba7758f1ef2518ca976","SpanId":"b7c1952f4541063d","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMI4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI4"}}
{"Timestamp":"2024-11-10T22:32:57.5104263+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"860909b4e9fcfba7758f1ef2518ca976","SpanId":"b7c1952f4541063d","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMI4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI4"}}
{"Timestamp":"2024-11-10T22:32:57.5129574+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"860909b4e9fcfba7758f1ef2518ca976","SpanId":"b7c1952f4541063d","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMI4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI4"}}
{"Timestamp":"2024-11-10T22:32:57.5143468+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"860909b4e9fcfba7758f1ef2518ca976","SpanId":"b7c1952f4541063d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.9203,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMI4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI4"}}
{"Timestamp":"2024-11-10T22:32:57.5153198+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"860909b4e9fcfba7758f1ef2518ca976","SpanId":"b7c1952f4541063d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMI4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI4"}}
{"Timestamp":"2024-11-10T22:32:57.5161565+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"860909b4e9fcfba7758f1ef2518ca976","SpanId":"b7c1952f4541063d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":21.1091,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.1091"}]}}
{"Timestamp":"2024-11-10T22:32:57.5174224+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"860909b4e9fcfba7758f1ef2518ca976","SpanId":"b7c1952f4541063d","Properties":{"ElapsedMilliseconds":25.6303,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMI4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI4"}}
{"Timestamp":"2024-11-10T22:32:57.5199342+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b97235142e906bdb5e60287e754c6190","SpanId":"fe50585d3482fb5c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMI5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMI5"}}
{"Timestamp":"2024-11-10T22:32:57.5246006+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b97235142e906bdb5e60287e754c6190","SpanId":"fe50585d3482fb5c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMI5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMI5"}}
{"Timestamp":"2024-11-10T22:32:57.5253720+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b97235142e906bdb5e60287e754c6190","SpanId":"fe50585d3482fb5c","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMI5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMI5"}}
{"Timestamp":"2024-11-10T22:32:57.5323729+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b97235142e906bdb5e60287e754c6190","SpanId":"fe50585d3482fb5c","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMI5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMI5"}}
{"Timestamp":"2024-11-10T22:32:57.5340849+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b97235142e906bdb5e60287e754c6190","SpanId":"fe50585d3482fb5c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMI5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMI5"}}
{"Timestamp":"2024-11-10T22:32:57.5353098+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b97235142e906bdb5e60287e754c6190","SpanId":"fe50585d3482fb5c","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":7.3324,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMI5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMI5"}}
{"Timestamp":"2024-11-10T22:32:57.5363872+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b97235142e906bdb5e60287e754c6190","SpanId":"fe50585d3482fb5c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMI5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMI5"}}
{"Timestamp":"2024-11-10T22:32:57.5372519+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b97235142e906bdb5e60287e754c6190","SpanId":"fe50585d3482fb5c","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":12.9275,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.9275"}]}}
{"Timestamp":"2024-11-10T22:32:57.5386101+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b97235142e906bdb5e60287e754c6190","SpanId":"fe50585d3482fb5c","Properties":{"ElapsedMilliseconds":18.7167,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMI5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMI5"}}
{"Timestamp":"2024-11-10T22:32:57.6526048+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cd7bea569afbf35278e0ac8c13874bef","SpanId":"a7c3fbf00d937bf4","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMI6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI6"}}
{"Timestamp":"2024-11-10T22:32:57.6561920+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cd7bea569afbf35278e0ac8c13874bef","SpanId":"a7c3fbf00d937bf4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMI6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI6"}}
{"Timestamp":"2024-11-10T22:32:57.6577631+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8ab3c6b7d114977daeb52ddf24c8de49","SpanId":"45c63753eda50cde","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMI7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI7"}}
{"Timestamp":"2024-11-10T22:32:57.6578089+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cd7bea569afbf35278e0ac8c13874bef","SpanId":"a7c3fbf00d937bf4","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMI6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI6"}}
{"Timestamp":"2024-11-10T22:32:57.6619341+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8ab3c6b7d114977daeb52ddf24c8de49","SpanId":"45c63753eda50cde","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMI7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI7"}}
{"Timestamp":"2024-11-10T22:32:57.6661385+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8ab3c6b7d114977daeb52ddf24c8de49","SpanId":"45c63753eda50cde","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMI7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI7"}}
{"Timestamp":"2024-11-10T22:32:57.6722344+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cd7bea569afbf35278e0ac8c13874bef","SpanId":"a7c3fbf00d937bf4","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMI6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI6"}}
{"Timestamp":"2024-11-10T22:32:57.6724460+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8ab3c6b7d114977daeb52ddf24c8de49","SpanId":"45c63753eda50cde","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMI7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI7"}}
{"Timestamp":"2024-11-10T22:32:57.6834855+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cd7bea569afbf35278e0ac8c13874bef","SpanId":"a7c3fbf00d937bf4","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMI6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI6"}}
{"Timestamp":"2024-11-10T22:32:57.6842147+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8ab3c6b7d114977daeb52ddf24c8de49","SpanId":"45c63753eda50cde","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMI7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI7"}}
{"Timestamp":"2024-11-10T22:32:57.6863593+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cd7bea569afbf35278e0ac8c13874bef","SpanId":"a7c3fbf00d937bf4","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMI6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI6"}}
{"Timestamp":"2024-11-10T22:32:57.6881262+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8ab3c6b7d114977daeb52ddf24c8de49","SpanId":"45c63753eda50cde","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMI7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI7"}}
{"Timestamp":"2024-11-10T22:32:57.6888674+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cd7bea569afbf35278e0ac8c13874bef","SpanId":"a7c3fbf00d937bf4","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":24.319,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMI6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI6"}}
{"Timestamp":"2024-11-10T22:32:57.6902445+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8ab3c6b7d114977daeb52ddf24c8de49","SpanId":"45c63753eda50cde","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":21.5746,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMI7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI7"}}
{"Timestamp":"2024-11-10T22:32:57.6912236+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cd7bea569afbf35278e0ac8c13874bef","SpanId":"a7c3fbf00d937bf4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMI6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI6"}}
{"Timestamp":"2024-11-10T22:32:57.6927520+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8ab3c6b7d114977daeb52ddf24c8de49","SpanId":"45c63753eda50cde","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMI7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI7"}}
{"Timestamp":"2024-11-10T22:32:57.6940329+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cd7bea569afbf35278e0ac8c13874bef","SpanId":"a7c3fbf00d937bf4","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":38.0269,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"38.0269"}]}}
{"Timestamp":"2024-11-10T22:32:57.6953610+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8ab3c6b7d114977daeb52ddf24c8de49","SpanId":"45c63753eda50cde","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":33.694,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.6940"}]}}
{"Timestamp":"2024-11-10T22:32:57.6971724+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cd7bea569afbf35278e0ac8c13874bef","SpanId":"a7c3fbf00d937bf4","Properties":{"ElapsedMilliseconds":44.6396,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMI6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI6"}}
{"Timestamp":"2024-11-10T22:32:57.7007894+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3ebb66c39878d29f814b57b4f50d0c76","SpanId":"60422561752f3fe6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMI8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMI8"}}
{"Timestamp":"2024-11-10T22:32:57.6988214+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8ab3c6b7d114977daeb52ddf24c8de49","SpanId":"45c63753eda50cde","Properties":{"ElapsedMilliseconds":41.1156,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMI7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMI7"}}
{"Timestamp":"2024-11-10T22:32:57.7023839+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"afc99c59745b879a262b9ddf28aa4783","SpanId":"87c0d69685539c3b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMI9:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMI9"}}
{"Timestamp":"2024-11-10T22:32:57.7063442+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3ebb66c39878d29f814b57b4f50d0c76","SpanId":"60422561752f3fe6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMI8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMI8"}}
{"Timestamp":"2024-11-10T22:32:57.7107606+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"afc99c59745b879a262b9ddf28aa4783","SpanId":"87c0d69685539c3b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMI9:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMI9"}}
{"Timestamp":"2024-11-10T22:32:57.7113669+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3ebb66c39878d29f814b57b4f50d0c76","SpanId":"60422561752f3fe6","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMI8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMI8"}}
{"Timestamp":"2024-11-10T22:32:57.7126770+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"afc99c59745b879a262b9ddf28aa4783","SpanId":"87c0d69685539c3b","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMI9:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMI9"}}
{"Timestamp":"2024-11-10T22:32:57.7211147+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3ebb66c39878d29f814b57b4f50d0c76","SpanId":"60422561752f3fe6","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMI8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMI8"}}
{"Timestamp":"2024-11-10T22:32:57.7230078+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"afc99c59745b879a262b9ddf28aa4783","SpanId":"87c0d69685539c3b","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMI9:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMI9"}}
{"Timestamp":"2024-11-10T22:32:57.7232011+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3ebb66c39878d29f814b57b4f50d0c76","SpanId":"60422561752f3fe6","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMI8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMI8"}}
{"Timestamp":"2024-11-10T22:32:57.7250717+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"afc99c59745b879a262b9ddf28aa4783","SpanId":"87c0d69685539c3b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMI9:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMI9"}}
{"Timestamp":"2024-11-10T22:32:57.7262638+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3ebb66c39878d29f814b57b4f50d0c76","SpanId":"60422561752f3fe6","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":11.1802,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMI8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMI8"}}
{"Timestamp":"2024-11-10T22:32:57.7273708+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"afc99c59745b879a262b9ddf28aa4783","SpanId":"87c0d69685539c3b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":10.4464,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMI9:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMI9"}}
{"Timestamp":"2024-11-10T22:32:57.7278973+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3ebb66c39878d29f814b57b4f50d0c76","SpanId":"60422561752f3fe6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMI8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMI8"}}
{"Timestamp":"2024-11-10T22:32:57.7287335+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"afc99c59745b879a262b9ddf28aa4783","SpanId":"87c0d69685539c3b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMI9:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMI9"}}
{"Timestamp":"2024-11-10T22:32:57.7294721+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3ebb66c39878d29f814b57b4f50d0c76","SpanId":"60422561752f3fe6","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":23.4804,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.4804"}]}}
{"Timestamp":"2024-11-10T22:32:57.7302667+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"afc99c59745b879a262b9ddf28aa4783","SpanId":"87c0d69685539c3b","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":19.7953,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.7953"}]}}
{"Timestamp":"2024-11-10T22:32:57.7316567+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3ebb66c39878d29f814b57b4f50d0c76","SpanId":"60422561752f3fe6","Properties":{"ElapsedMilliseconds":30.8752,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMI8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMI8"}}
{"Timestamp":"2024-11-10T22:32:57.7327494+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"afc99c59745b879a262b9ddf28aa4783","SpanId":"87c0d69685539c3b","Properties":{"ElapsedMilliseconds":30.4303,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMI9:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMI9"}}
{"Timestamp":"2024-11-10T22:33:39.4335289+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1da2c2031e61f51c7e733cefaf0564dc","SpanId":"66edb9684dfa66cf","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIA:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JJFDTMIA"}}
{"Timestamp":"2024-11-10T22:33:39.4354072+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1da2c2031e61f51c7e733cefaf0564dc","SpanId":"66edb9684dfa66cf","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIA:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JJFDTMIA"}}
{"Timestamp":"2024-11-10T22:33:39.4362510+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1da2c2031e61f51c7e733cefaf0564dc","SpanId":"66edb9684dfa66cf","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f0fef1b1-2583-4238-9096-e52eb10d9cd9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81JJFDTMIA:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JJFDTMIA"}}
{"Timestamp":"2024-11-10T22:33:39.4478313+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1da2c2031e61f51c7e733cefaf0564dc","SpanId":"66edb9684dfa66cf","Properties":{"elapsed":"3","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f0fef1b1-2583-4238-9096-e52eb10d9cd9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81JJFDTMIA:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JJFDTMIA"}}
{"Timestamp":"2024-11-10T22:33:39.4542121+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1da2c2031e61f51c7e733cefaf0564dc","SpanId":"66edb9684dfa66cf","Properties":{"elapsed":"4","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f0fef1b1-2583-4238-9096-e52eb10d9cd9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81JJFDTMIA:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JJFDTMIA"}}
{"Timestamp":"2024-11-10T22:33:39.4560672+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1da2c2031e61f51c7e733cefaf0564dc","SpanId":"66edb9684dfa66cf","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f0fef1b1-2583-4238-9096-e52eb10d9cd9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81JJFDTMIA:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JJFDTMIA"}}
{"Timestamp":"2024-11-10T22:33:39.4572839+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1da2c2031e61f51c7e733cefaf0564dc","SpanId":"66edb9684dfa66cf","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":19.8273,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMIA:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JJFDTMIA"}}
{"Timestamp":"2024-11-10T22:33:39.4581911+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1da2c2031e61f51c7e733cefaf0564dc","SpanId":"66edb9684dfa66cf","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIA:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JJFDTMIA"}}
{"Timestamp":"2024-11-10T22:33:39.4599394+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1da2c2031e61f51c7e733cefaf0564dc","SpanId":"66edb9684dfa66cf","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":24.6398,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.6398"}]}}
{"Timestamp":"2024-11-10T22:33:39.4618366+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1da2c2031e61f51c7e733cefaf0564dc","SpanId":"66edb9684dfa66cf","Properties":{"ElapsedMilliseconds":28.2434,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIA:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JJFDTMIA"}}
{"Timestamp":"2024-11-10T22:33:43.3285639+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a3faa52993d8927e5b93d9a880ba58c9","SpanId":"01dad04b23cdd8ec","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIB"}}
{"Timestamp":"2024-11-10T22:33:43.3313249+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a3faa52993d8927e5b93d9a880ba58c9","SpanId":"01dad04b23cdd8ec","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIB"}}
{"Timestamp":"2024-11-10T22:33:43.3323373+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a3faa52993d8927e5b93d9a880ba58c9","SpanId":"01dad04b23cdd8ec","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIB"}}
{"Timestamp":"2024-11-10T22:33:43.3426812+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a3faa52993d8927e5b93d9a880ba58c9","SpanId":"01dad04b23cdd8ec","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIB"}}
{"Timestamp":"2024-11-10T22:33:43.3485536+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a3faa52993d8927e5b93d9a880ba58c9","SpanId":"01dad04b23cdd8ec","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIB"}}
{"Timestamp":"2024-11-10T22:33:43.3512106+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a3faa52993d8927e5b93d9a880ba58c9","SpanId":"01dad04b23cdd8ec","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIB"}}
{"Timestamp":"2024-11-10T22:33:43.3525955+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a3faa52993d8927e5b93d9a880ba58c9","SpanId":"01dad04b23cdd8ec","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":19.0573,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMIB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIB"}}
{"Timestamp":"2024-11-10T22:33:43.3535493+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a3faa52993d8927e5b93d9a880ba58c9","SpanId":"01dad04b23cdd8ec","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIB"}}
{"Timestamp":"2024-11-10T22:33:43.3543344+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a3faa52993d8927e5b93d9a880ba58c9","SpanId":"01dad04b23cdd8ec","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":23.1108,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.1108"}]}}
{"Timestamp":"2024-11-10T22:33:43.3566353+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a3faa52993d8927e5b93d9a880ba58c9","SpanId":"01dad04b23cdd8ec","Properties":{"ElapsedMilliseconds":28.121,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIB"}}
{"Timestamp":"2024-11-10T22:33:43.4372817+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"90e0b5ac65a23bc7b298c4c8305dd445","SpanId":"53ee5c4af3fa26c3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIC"}}
{"Timestamp":"2024-11-10T22:33:43.4404304+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"90e0b5ac65a23bc7b298c4c8305dd445","SpanId":"53ee5c4af3fa26c3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIC"}}
{"Timestamp":"2024-11-10T22:33:43.4420487+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"90e0b5ac65a23bc7b298c4c8305dd445","SpanId":"53ee5c4af3fa26c3","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIC"}}
{"Timestamp":"2024-11-10T22:33:43.4473577+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"90e0b5ac65a23bc7b298c4c8305dd445","SpanId":"53ee5c4af3fa26c3","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIC"}}
{"Timestamp":"2024-11-10T22:33:43.4502411+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"90e0b5ac65a23bc7b298c4c8305dd445","SpanId":"53ee5c4af3fa26c3","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIC"}}
{"Timestamp":"2024-11-10T22:33:43.4520956+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"90e0b5ac65a23bc7b298c4c8305dd445","SpanId":"53ee5c4af3fa26c3","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIC"}}
{"Timestamp":"2024-11-10T22:33:43.4534049+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"90e0b5ac65a23bc7b298c4c8305dd445","SpanId":"53ee5c4af3fa26c3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":9.875,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMIC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIC"}}
{"Timestamp":"2024-11-10T22:33:43.4558007+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"90e0b5ac65a23bc7b298c4c8305dd445","SpanId":"53ee5c4af3fa26c3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIC"}}
{"Timestamp":"2024-11-10T22:33:43.4570122+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"90e0b5ac65a23bc7b298c4c8305dd445","SpanId":"53ee5c4af3fa26c3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":16.7128,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.7128"}]}}
{"Timestamp":"2024-11-10T22:33:43.4596174+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"90e0b5ac65a23bc7b298c4c8305dd445","SpanId":"53ee5c4af3fa26c3","Properties":{"ElapsedMilliseconds":22.3824,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIC"}}
{"Timestamp":"2024-11-10T22:33:43.4673270+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"be3b9c5693abb15491d52a7489632043","SpanId":"e99009b553cca61c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMID:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMID"}}
{"Timestamp":"2024-11-10T22:33:43.4687483+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a85817b2d987516f8d9e89226b32d9ab","SpanId":"bcf7abfd66636a62","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMIE"}}
{"Timestamp":"2024-11-10T22:33:43.4708127+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"be3b9c5693abb15491d52a7489632043","SpanId":"e99009b553cca61c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMID:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMID"}}
{"Timestamp":"2024-11-10T22:33:43.4730556+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a85817b2d987516f8d9e89226b32d9ab","SpanId":"bcf7abfd66636a62","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMIE"}}
{"Timestamp":"2024-11-10T22:33:43.4740424+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"be3b9c5693abb15491d52a7489632043","SpanId":"e99009b553cca61c","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMID:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMID"}}
{"Timestamp":"2024-11-10T22:33:43.4747087+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a85817b2d987516f8d9e89226b32d9ab","SpanId":"bcf7abfd66636a62","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMIE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMIE"}}
{"Timestamp":"2024-11-10T22:33:43.4851247+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"be3b9c5693abb15491d52a7489632043","SpanId":"e99009b553cca61c","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMID:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMID"}}
{"Timestamp":"2024-11-10T22:33:43.4875336+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"be3b9c5693abb15491d52a7489632043","SpanId":"e99009b553cca61c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMID:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMID"}}
{"Timestamp":"2024-11-10T22:33:43.4876321+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a85817b2d987516f8d9e89226b32d9ab","SpanId":"bcf7abfd66636a62","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMIE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMIE"}}
{"Timestamp":"2024-11-10T22:33:43.4889936+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"be3b9c5693abb15491d52a7489632043","SpanId":"e99009b553cca61c","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":11.828,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMID:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMID"}}
{"Timestamp":"2024-11-10T22:33:43.4916019+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a85817b2d987516f8d9e89226b32d9ab","SpanId":"bcf7abfd66636a62","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMIE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMIE"}}
{"Timestamp":"2024-11-10T22:33:43.4921312+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"be3b9c5693abb15491d52a7489632043","SpanId":"e99009b553cca61c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMID:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMID"}}
{"Timestamp":"2024-11-10T22:33:43.4931243+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a85817b2d987516f8d9e89226b32d9ab","SpanId":"bcf7abfd66636a62","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":12.3645,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMIE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMIE"}}
{"Timestamp":"2024-11-10T22:33:43.4938388+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"be3b9c5693abb15491d52a7489632043","SpanId":"e99009b553cca61c","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":23.4201,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.4201"}]}}
{"Timestamp":"2024-11-10T22:33:43.4946362+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a85817b2d987516f8d9e89226b32d9ab","SpanId":"bcf7abfd66636a62","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMIE"}}
{"Timestamp":"2024-11-10T22:33:43.4959004+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"be3b9c5693abb15491d52a7489632043","SpanId":"e99009b553cca61c","Properties":{"ElapsedMilliseconds":28.597,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMID:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMID"}}
{"Timestamp":"2024-11-10T22:33:43.4967239+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a85817b2d987516f8d9e89226b32d9ab","SpanId":"bcf7abfd66636a62","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":24.0983,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.0983"}]}}
{"Timestamp":"2024-11-10T22:33:43.5007947+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a85817b2d987516f8d9e89226b32d9ab","SpanId":"bcf7abfd66636a62","Properties":{"ElapsedMilliseconds":32.043,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMIE"}}
{"Timestamp":"2024-11-10T22:33:47.7902955+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dd8a39a9467d00aa1e397006cc5a5905","SpanId":"e928ec9c23a25e72","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIF"}}
{"Timestamp":"2024-11-10T22:33:47.7932810+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"dd8a39a9467d00aa1e397006cc5a5905","SpanId":"e928ec9c23a25e72","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIF"}}
{"Timestamp":"2024-11-10T22:33:47.7950788+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"dd8a39a9467d00aa1e397006cc5a5905","SpanId":"e928ec9c23a25e72","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIF"}}
{"Timestamp":"2024-11-10T22:33:47.8054123+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dd8a39a9467d00aa1e397006cc5a5905","SpanId":"e928ec9c23a25e72","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIF"}}
{"Timestamp":"2024-11-10T22:33:47.8106806+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dd8a39a9467d00aa1e397006cc5a5905","SpanId":"e928ec9c23a25e72","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIF"}}
{"Timestamp":"2024-11-10T22:33:47.8135889+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"dd8a39a9467d00aa1e397006cc5a5905","SpanId":"e928ec9c23a25e72","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIF"}}
{"Timestamp":"2024-11-10T22:33:47.8148217+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"dd8a39a9467d00aa1e397006cc5a5905","SpanId":"e928ec9c23a25e72","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.3924,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMIF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIF"}}
{"Timestamp":"2024-11-10T22:33:47.8160013+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"dd8a39a9467d00aa1e397006cc5a5905","SpanId":"e928ec9c23a25e72","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIF"}}
{"Timestamp":"2024-11-10T22:33:47.8169567+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"dd8a39a9467d00aa1e397006cc5a5905","SpanId":"e928ec9c23a25e72","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":23.86,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.8600"}]}}
{"Timestamp":"2024-11-10T22:33:47.8193316+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dd8a39a9467d00aa1e397006cc5a5905","SpanId":"e928ec9c23a25e72","Properties":{"ElapsedMilliseconds":29.0505,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIF"}}
{"Timestamp":"2024-11-10T22:33:47.8235518+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a8f81161a0a49d8bc8ca403232b38651","SpanId":"7511b1c34d42863d","Properties":{"Protocol":"HTTP/1.1","Method":"PUT","ContentType":"application/json; charset=utf-8","ContentLength":97,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1228","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIG:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN81JJFDTMIG"}}
{"Timestamp":"2024-11-10T22:33:47.8262421+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a8f81161a0a49d8bc8ca403232b38651","SpanId":"7511b1c34d42863d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIG:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN81JJFDTMIG"}}
{"Timestamp":"2024-11-10T22:33:47.8308226+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a8f81161a0a49d8bc8ca403232b38651","SpanId":"7511b1c34d42863d","Properties":{"RouteData":"{action = \"Update\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Update(Int32, WebCalenderAPI.Models.ScheduleVM)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2b066226-e9fd-4fef-9872-ebce6c7df512","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN81JJFDTMIG:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN81JJFDTMIG"}}
{"Timestamp":"2024-11-10T22:33:47.8462523+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a8f81161a0a49d8bc8ca403232b38651","SpanId":"7511b1c34d42863d","Properties":{"elapsed":"4","parameters":"@__schedule_id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__schedule_id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2b066226-e9fd-4fef-9872-ebce6c7df512","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN81JJFDTMIG:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN81JJFDTMIG"}}
{"Timestamp":"2024-11-10T22:33:47.8516082+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"a8f81161a0a49d8bc8ca403232b38651","SpanId":"7511b1c34d42863d","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"2b066226-e9fd-4fef-9872-ebce6c7df512","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN81JJFDTMIG:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN81JJFDTMIG"}}
{"Timestamp":"2024-11-10T22:33:47.8523332+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a8f81161a0a49d8bc8ca403232b38651","SpanId":"7511b1c34d42863d","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","ElapsedMilliseconds":19.9552,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMIG:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN81JJFDTMIG"}}
{"Timestamp":"2024-11-10T22:33:47.8531987+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a8f81161a0a49d8bc8ca403232b38651","SpanId":"7511b1c34d42863d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIG:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN81JJFDTMIG"}}
{"Timestamp":"2024-11-10T22:33:47.8539203+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a8f81161a0a49d8bc8ca403232b38651","SpanId":"7511b1c34d42863d","Properties":{"RequestMethod":"PUT","RequestPath":"/api/Schedules/1228","StatusCode":200,"Elapsed":27.7664,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.7664"}]}}
{"Timestamp":"2024-11-10T22:33:47.8552951+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a8f81161a0a49d8bc8ca403232b38651","SpanId":"7511b1c34d42863d","Properties":{"ElapsedMilliseconds":31.8524,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"PUT","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1228","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIG:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN81JJFDTMIG"}}
{"Timestamp":"2024-11-10T22:33:48.5810253+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"133c53346e7e25abcaa68b3925c9be2f","SpanId":"9c318b7bd5263059","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIH"}}
{"Timestamp":"2024-11-10T22:33:48.5853490+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"133c53346e7e25abcaa68b3925c9be2f","SpanId":"9c318b7bd5263059","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIH"}}
{"Timestamp":"2024-11-10T22:33:48.5866288+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"133c53346e7e25abcaa68b3925c9be2f","SpanId":"9c318b7bd5263059","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIH"}}
{"Timestamp":"2024-11-10T22:33:48.5977601+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"133c53346e7e25abcaa68b3925c9be2f","SpanId":"9c318b7bd5263059","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIH"}}
{"Timestamp":"2024-11-10T22:33:48.6047323+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"133c53346e7e25abcaa68b3925c9be2f","SpanId":"9c318b7bd5263059","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIH"}}
{"Timestamp":"2024-11-10T22:33:48.6063270+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"133c53346e7e25abcaa68b3925c9be2f","SpanId":"9c318b7bd5263059","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIH"}}
{"Timestamp":"2024-11-10T22:33:48.6074088+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"133c53346e7e25abcaa68b3925c9be2f","SpanId":"9c318b7bd5263059","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":18.2048,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMIH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIH"}}
{"Timestamp":"2024-11-10T22:33:48.6084522+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"133c53346e7e25abcaa68b3925c9be2f","SpanId":"9c318b7bd5263059","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIH"}}
{"Timestamp":"2024-11-10T22:33:48.6091362+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"133c53346e7e25abcaa68b3925c9be2f","SpanId":"9c318b7bd5263059","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":24.1947,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.1947"}]}}
{"Timestamp":"2024-11-10T22:33:48.6105593+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"133c53346e7e25abcaa68b3925c9be2f","SpanId":"9c318b7bd5263059","Properties":{"ElapsedMilliseconds":29.5678,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIH"}}
{"Timestamp":"2024-11-10T22:33:48.6127351+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c2be3b408c1e4eb2f24b47240005be14","SpanId":"f59fcad9d0f03998","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMII:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMII"}}
{"Timestamp":"2024-11-10T22:33:48.6175531+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c2be3b408c1e4eb2f24b47240005be14","SpanId":"f59fcad9d0f03998","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMII:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMII"}}
{"Timestamp":"2024-11-10T22:33:48.6195892+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c2be3b408c1e4eb2f24b47240005be14","SpanId":"f59fcad9d0f03998","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMII:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMII"}}
{"Timestamp":"2024-11-10T22:33:48.6276839+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c2be3b408c1e4eb2f24b47240005be14","SpanId":"f59fcad9d0f03998","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMII:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMII"}}
{"Timestamp":"2024-11-10T22:33:48.6315211+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c2be3b408c1e4eb2f24b47240005be14","SpanId":"f59fcad9d0f03998","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMII:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMII"}}
{"Timestamp":"2024-11-10T22:33:48.6346462+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c2be3b408c1e4eb2f24b47240005be14","SpanId":"f59fcad9d0f03998","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":12.6244,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMII:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMII"}}
{"Timestamp":"2024-11-10T22:33:48.6363726+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c2be3b408c1e4eb2f24b47240005be14","SpanId":"f59fcad9d0f03998","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMII:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMII"}}
{"Timestamp":"2024-11-10T22:33:48.6374648+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c2be3b408c1e4eb2f24b47240005be14","SpanId":"f59fcad9d0f03998","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":20.5381,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.5381"}]}}
{"Timestamp":"2024-11-10T22:33:48.6395826+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c2be3b408c1e4eb2f24b47240005be14","SpanId":"f59fcad9d0f03998","Properties":{"ElapsedMilliseconds":26.8679,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMII:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMII"}}
{"Timestamp":"2024-11-10T22:34:02.1572591+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b71e1354f2ce4958749f4477d37b5ac8","SpanId":"4d629d2e12ac8f3b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIJ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JJFDTMIJ"}}
{"Timestamp":"2024-11-10T22:34:02.1601149+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b71e1354f2ce4958749f4477d37b5ac8","SpanId":"4d629d2e12ac8f3b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIJ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JJFDTMIJ"}}
{"Timestamp":"2024-11-10T22:34:02.1611275+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b71e1354f2ce4958749f4477d37b5ac8","SpanId":"4d629d2e12ac8f3b","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f0fef1b1-2583-4238-9096-e52eb10d9cd9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81JJFDTMIJ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JJFDTMIJ"}}
{"Timestamp":"2024-11-10T22:34:02.1673764+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b71e1354f2ce4958749f4477d37b5ac8","SpanId":"4d629d2e12ac8f3b","Properties":{"elapsed":"2","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f0fef1b1-2583-4238-9096-e52eb10d9cd9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81JJFDTMIJ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JJFDTMIJ"}}
{"Timestamp":"2024-11-10T22:34:02.1754570+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b71e1354f2ce4958749f4477d37b5ac8","SpanId":"4d629d2e12ac8f3b","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f0fef1b1-2583-4238-9096-e52eb10d9cd9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81JJFDTMIJ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JJFDTMIJ"}}
{"Timestamp":"2024-11-10T22:34:02.1771034+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b71e1354f2ce4958749f4477d37b5ac8","SpanId":"4d629d2e12ac8f3b","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f0fef1b1-2583-4238-9096-e52eb10d9cd9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81JJFDTMIJ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JJFDTMIJ"}}
{"Timestamp":"2024-11-10T22:34:02.1781940+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b71e1354f2ce4958749f4477d37b5ac8","SpanId":"4d629d2e12ac8f3b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":16.0651,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMIJ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JJFDTMIJ"}}
{"Timestamp":"2024-11-10T22:34:02.1793807+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b71e1354f2ce4958749f4477d37b5ac8","SpanId":"4d629d2e12ac8f3b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIJ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JJFDTMIJ"}}
{"Timestamp":"2024-11-10T22:34:02.1808120+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b71e1354f2ce4958749f4477d37b5ac8","SpanId":"4d629d2e12ac8f3b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":20.891,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.8910"}]}}
{"Timestamp":"2024-11-10T22:34:02.1830521+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b71e1354f2ce4958749f4477d37b5ac8","SpanId":"4d629d2e12ac8f3b","Properties":{"ElapsedMilliseconds":25.871,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIJ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JJFDTMIJ"}}
{"Timestamp":"2024-11-10T22:34:05.9217434+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f4d79261fb53790f39ca246a73f8dc45","SpanId":"6e530a5e60b167d9","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIK"}}
{"Timestamp":"2024-11-10T22:34:05.9243153+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f4d79261fb53790f39ca246a73f8dc45","SpanId":"6e530a5e60b167d9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIK"}}
{"Timestamp":"2024-11-10T22:34:05.9260931+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f4d79261fb53790f39ca246a73f8dc45","SpanId":"6e530a5e60b167d9","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIK"}}
{"Timestamp":"2024-11-10T22:34:05.9368390+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f4d79261fb53790f39ca246a73f8dc45","SpanId":"6e530a5e60b167d9","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIK"}}
{"Timestamp":"2024-11-10T22:34:05.9444608+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f4d79261fb53790f39ca246a73f8dc45","SpanId":"6e530a5e60b167d9","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIK"}}
{"Timestamp":"2024-11-10T22:34:05.9478038+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f4d79261fb53790f39ca246a73f8dc45","SpanId":"6e530a5e60b167d9","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIK"}}
{"Timestamp":"2024-11-10T22:34:05.9490594+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f4d79261fb53790f39ca246a73f8dc45","SpanId":"6e530a5e60b167d9","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":21.6113,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMIK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIK"}}
{"Timestamp":"2024-11-10T22:34:05.9499787+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f4d79261fb53790f39ca246a73f8dc45","SpanId":"6e530a5e60b167d9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIK"}}
{"Timestamp":"2024-11-10T22:34:05.9514042+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f4d79261fb53790f39ca246a73f8dc45","SpanId":"6e530a5e60b167d9","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":27.2148,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.2148"}]}}
{"Timestamp":"2024-11-10T22:34:05.9548403+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f4d79261fb53790f39ca246a73f8dc45","SpanId":"6e530a5e60b167d9","Properties":{"ElapsedMilliseconds":33.1006,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIK"}}
{"Timestamp":"2024-11-10T22:34:06.0497584+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d41e7f53ac9bb56aa23ee8f5738c23b0","SpanId":"d9fa3156ea8751b4","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIL"}}
{"Timestamp":"2024-11-10T22:34:06.0527185+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d41e7f53ac9bb56aa23ee8f5738c23b0","SpanId":"d9fa3156ea8751b4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIL"}}
{"Timestamp":"2024-11-10T22:34:06.0542983+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d41e7f53ac9bb56aa23ee8f5738c23b0","SpanId":"d9fa3156ea8751b4","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIL"}}
{"Timestamp":"2024-11-10T22:34:06.1123471+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"39a0135c1e7dd0312e9dbd54db0a6e0c","SpanId":"988f2d3795a657c1","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMIM"}}
{"Timestamp":"2024-11-10T22:34:06.1164726+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d41e7f53ac9bb56aa23ee8f5738c23b0","SpanId":"d9fa3156ea8751b4","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIL"}}
{"Timestamp":"2024-11-10T22:34:06.1193784+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"39a0135c1e7dd0312e9dbd54db0a6e0c","SpanId":"988f2d3795a657c1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMIM"}}
{"Timestamp":"2024-11-10T22:34:06.1227890+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"39a0135c1e7dd0312e9dbd54db0a6e0c","SpanId":"988f2d3795a657c1","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMIM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMIM"}}
{"Timestamp":"2024-11-10T22:34:06.1247624+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d41e7f53ac9bb56aa23ee8f5738c23b0","SpanId":"d9fa3156ea8751b4","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIL"}}
{"Timestamp":"2024-11-10T22:34:06.1287707+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d41e7f53ac9bb56aa23ee8f5738c23b0","SpanId":"d9fa3156ea8751b4","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIL"}}
{"Timestamp":"2024-11-10T22:34:06.1306153+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d41e7f53ac9bb56aa23ee8f5738c23b0","SpanId":"d9fa3156ea8751b4","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":74.0338,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMIL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIL"}}
{"Timestamp":"2024-11-10T22:34:06.1321418+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d41e7f53ac9bb56aa23ee8f5738c23b0","SpanId":"d9fa3156ea8751b4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIL"}}
{"Timestamp":"2024-11-10T22:34:06.1326342+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"39a0135c1e7dd0312e9dbd54db0a6e0c","SpanId":"988f2d3795a657c1","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMIM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMIM"}}
{"Timestamp":"2024-11-10T22:34:06.1337322+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d41e7f53ac9bb56aa23ee8f5738c23b0","SpanId":"d9fa3156ea8751b4","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":81.1981,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"81.1981"}]}}
{"Timestamp":"2024-11-10T22:34:06.1362355+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"39a0135c1e7dd0312e9dbd54db0a6e0c","SpanId":"988f2d3795a657c1","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMIM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMIM"}}
{"Timestamp":"2024-11-10T22:34:06.1383335+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d41e7f53ac9bb56aa23ee8f5738c23b0","SpanId":"d9fa3156ea8751b4","Properties":{"ElapsedMilliseconds":88.6374,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIL"}}
{"Timestamp":"2024-11-10T22:34:06.1395387+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"39a0135c1e7dd0312e9dbd54db0a6e0c","SpanId":"988f2d3795a657c1","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":13.9034,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMIM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMIM"}}
{"Timestamp":"2024-11-10T22:34:06.1422222+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a4b112f712639e589c5e0fe41c214e90","SpanId":"ee6d19cbcfb5a7e2","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMIN"}}
{"Timestamp":"2024-11-10T22:34:06.1457339+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"39a0135c1e7dd0312e9dbd54db0a6e0c","SpanId":"988f2d3795a657c1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMIM"}}
{"Timestamp":"2024-11-10T22:34:06.1477466+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a4b112f712639e589c5e0fe41c214e90","SpanId":"ee6d19cbcfb5a7e2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMIN"}}
{"Timestamp":"2024-11-10T22:34:06.1488471+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"39a0135c1e7dd0312e9dbd54db0a6e0c","SpanId":"988f2d3795a657c1","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":30.3367,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.3367"}]}}
{"Timestamp":"2024-11-10T22:34:06.1495909+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a4b112f712639e589c5e0fe41c214e90","SpanId":"ee6d19cbcfb5a7e2","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMIN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMIN"}}
{"Timestamp":"2024-11-10T22:34:06.1509659+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"39a0135c1e7dd0312e9dbd54db0a6e0c","SpanId":"988f2d3795a657c1","Properties":{"ElapsedMilliseconds":38.6439,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMIM"}}
{"Timestamp":"2024-11-10T22:34:06.1632671+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a4b112f712639e589c5e0fe41c214e90","SpanId":"ee6d19cbcfb5a7e2","Properties":{"elapsed":"9","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMIN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMIN"}}
{"Timestamp":"2024-11-10T22:34:06.1654025+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a4b112f712639e589c5e0fe41c214e90","SpanId":"ee6d19cbcfb5a7e2","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMIN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMIN"}}
{"Timestamp":"2024-11-10T22:34:06.1666233+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a4b112f712639e589c5e0fe41c214e90","SpanId":"ee6d19cbcfb5a7e2","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":14.1124,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMIN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMIN"}}
{"Timestamp":"2024-11-10T22:34:06.1675861+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a4b112f712639e589c5e0fe41c214e90","SpanId":"ee6d19cbcfb5a7e2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMIN"}}
{"Timestamp":"2024-11-10T22:34:06.1686932+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a4b112f712639e589c5e0fe41c214e90","SpanId":"ee6d19cbcfb5a7e2","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":21.1164,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.1164"}]}}
{"Timestamp":"2024-11-10T22:34:06.1713587+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a4b112f712639e589c5e0fe41c214e90","SpanId":"ee6d19cbcfb5a7e2","Properties":{"ElapsedMilliseconds":29.3298,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMIN"}}
{"Timestamp":"2024-11-10T22:34:20.5585535+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6c8d37924ef35852c4db7ed7d63d3ccb","SpanId":"a2cd9eeb026f91c1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIO"}}
{"Timestamp":"2024-11-10T22:34:20.5629648+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6c8d37924ef35852c4db7ed7d63d3ccb","SpanId":"a2cd9eeb026f91c1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIO"}}
{"Timestamp":"2024-11-10T22:34:20.5645957+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6c8d37924ef35852c4db7ed7d63d3ccb","SpanId":"a2cd9eeb026f91c1","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIO"}}
{"Timestamp":"2024-11-10T22:34:20.5774121+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6c8d37924ef35852c4db7ed7d63d3ccb","SpanId":"a2cd9eeb026f91c1","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIO"}}
{"Timestamp":"2024-11-10T22:34:20.5813959+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6c8d37924ef35852c4db7ed7d63d3ccb","SpanId":"a2cd9eeb026f91c1","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIO"}}
{"Timestamp":"2024-11-10T22:34:20.5836165+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6c8d37924ef35852c4db7ed7d63d3ccb","SpanId":"a2cd9eeb026f91c1","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIO"}}
{"Timestamp":"2024-11-10T22:34:20.5849100+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6c8d37924ef35852c4db7ed7d63d3ccb","SpanId":"a2cd9eeb026f91c1","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.1164,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMIO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIO"}}
{"Timestamp":"2024-11-10T22:34:20.5860039+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6c8d37924ef35852c4db7ed7d63d3ccb","SpanId":"a2cd9eeb026f91c1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIO"}}
{"Timestamp":"2024-11-10T22:34:20.5867501+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6c8d37924ef35852c4db7ed7d63d3ccb","SpanId":"a2cd9eeb026f91c1","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":23.8933,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.8933"}]}}
{"Timestamp":"2024-11-10T22:34:20.5883191+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6c8d37924ef35852c4db7ed7d63d3ccb","SpanId":"a2cd9eeb026f91c1","Properties":{"ElapsedMilliseconds":29.9282,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIO"}}
{"Timestamp":"2024-11-10T22:34:20.5908793+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e1d61d4d3d2666e978e69b9849d9085d","SpanId":"666a9a5ffbe9884c","Properties":{"Protocol":"HTTP/1.1","Method":"PUT","ContentType":"application/json; charset=utf-8","ContentLength":98,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1211","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIP:00000001","RequestPath":"/api/Schedules/1211","ConnectionId":"0HN81JJFDTMIP"}}
{"Timestamp":"2024-11-10T22:34:20.5947129+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e1d61d4d3d2666e978e69b9849d9085d","SpanId":"666a9a5ffbe9884c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIP:00000001","RequestPath":"/api/Schedules/1211","ConnectionId":"0HN81JJFDTMIP"}}
{"Timestamp":"2024-11-10T22:34:20.5957948+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e1d61d4d3d2666e978e69b9849d9085d","SpanId":"666a9a5ffbe9884c","Properties":{"RouteData":"{action = \"Update\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Update(Int32, WebCalenderAPI.Models.ScheduleVM)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2b066226-e9fd-4fef-9872-ebce6c7df512","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN81JJFDTMIP:00000001","RequestPath":"/api/Schedules/1211","ConnectionId":"0HN81JJFDTMIP"}}
{"Timestamp":"2024-11-10T22:34:20.6018016+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e1d61d4d3d2666e978e69b9849d9085d","SpanId":"666a9a5ffbe9884c","Properties":{"elapsed":"1","parameters":"@__schedule_id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__schedule_id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2b066226-e9fd-4fef-9872-ebce6c7df512","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN81JJFDTMIP:00000001","RequestPath":"/api/Schedules/1211","ConnectionId":"0HN81JJFDTMIP"}}
{"Timestamp":"2024-11-10T22:34:20.6115477+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e1d61d4d3d2666e978e69b9849d9085d","SpanId":"666a9a5ffbe9884c","Properties":{"elapsed":"5","parameters":"@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [Schedules] SET [FromX] = @p0, [FromY] = @p1, [Reason] = @p2, [ToX] = @p3, [ToY] = @p4\r\nOUTPUT 1\r\nWHERE [Id] = @p5;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2b066226-e9fd-4fef-9872-ebce6c7df512","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN81JJFDTMIP:00000001","RequestPath":"/api/Schedules/1211","ConnectionId":"0HN81JJFDTMIP"}}
{"Timestamp":"2024-11-10T22:34:20.6149978+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"e1d61d4d3d2666e978e69b9849d9085d","SpanId":"666a9a5ffbe9884c","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"2b066226-e9fd-4fef-9872-ebce6c7df512","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN81JJFDTMIP:00000001","RequestPath":"/api/Schedules/1211","ConnectionId":"0HN81JJFDTMIP"}}
{"Timestamp":"2024-11-10T22:34:20.6158814+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e1d61d4d3d2666e978e69b9849d9085d","SpanId":"666a9a5ffbe9884c","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","ElapsedMilliseconds":18.7956,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMIP:00000001","RequestPath":"/api/Schedules/1211","ConnectionId":"0HN81JJFDTMIP"}}
{"Timestamp":"2024-11-10T22:34:20.6171236+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e1d61d4d3d2666e978e69b9849d9085d","SpanId":"666a9a5ffbe9884c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIP:00000001","RequestPath":"/api/Schedules/1211","ConnectionId":"0HN81JJFDTMIP"}}
{"Timestamp":"2024-11-10T22:34:20.6182592+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e1d61d4d3d2666e978e69b9849d9085d","SpanId":"666a9a5ffbe9884c","Properties":{"RequestMethod":"PUT","RequestPath":"/api/Schedules/1211","StatusCode":200,"Elapsed":23.6166,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.6166"}]}}
{"Timestamp":"2024-11-10T22:34:20.6195799+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e1d61d4d3d2666e978e69b9849d9085d","SpanId":"666a9a5ffbe9884c","Properties":{"ElapsedMilliseconds":28.734,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"PUT","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1211","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIP:00000001","RequestPath":"/api/Schedules/1211","ConnectionId":"0HN81JJFDTMIP"}}
{"Timestamp":"2024-11-10T22:34:21.4359394+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ca7fe416653346df31b30e0ed2a0503e","SpanId":"de48397ad0ec3854","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIQ"}}
{"Timestamp":"2024-11-10T22:34:21.4382028+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ca7fe416653346df31b30e0ed2a0503e","SpanId":"de48397ad0ec3854","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIQ"}}
{"Timestamp":"2024-11-10T22:34:21.4390628+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ca7fe416653346df31b30e0ed2a0503e","SpanId":"de48397ad0ec3854","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIQ"}}
{"Timestamp":"2024-11-10T22:34:21.4487178+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ca7fe416653346df31b30e0ed2a0503e","SpanId":"de48397ad0ec3854","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIQ"}}
{"Timestamp":"2024-11-10T22:34:21.4534987+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ca7fe416653346df31b30e0ed2a0503e","SpanId":"de48397ad0ec3854","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIQ"}}
{"Timestamp":"2024-11-10T22:34:21.4552487+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ca7fe416653346df31b30e0ed2a0503e","SpanId":"de48397ad0ec3854","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIQ"}}
{"Timestamp":"2024-11-10T22:34:21.4567008+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ca7fe416653346df31b30e0ed2a0503e","SpanId":"de48397ad0ec3854","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.0989,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMIQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIQ"}}
{"Timestamp":"2024-11-10T22:34:21.4578224+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ca7fe416653346df31b30e0ed2a0503e","SpanId":"de48397ad0ec3854","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIQ"}}
{"Timestamp":"2024-11-10T22:34:21.4586440+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ca7fe416653346df31b30e0ed2a0503e","SpanId":"de48397ad0ec3854","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":20.7649,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.7649"}]}}
{"Timestamp":"2024-11-10T22:34:21.4601453+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ca7fe416653346df31b30e0ed2a0503e","SpanId":"de48397ad0ec3854","Properties":{"ElapsedMilliseconds":24.214,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIQ"}}
{"Timestamp":"2024-11-10T22:34:21.4625286+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2183c5401b26419a97cad82ca761e791","SpanId":"3bf4ce80b74bd1b4","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMIR"}}
{"Timestamp":"2024-11-10T22:34:21.4641570+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2183c5401b26419a97cad82ca761e791","SpanId":"3bf4ce80b74bd1b4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMIR"}}
{"Timestamp":"2024-11-10T22:34:21.4647825+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2183c5401b26419a97cad82ca761e791","SpanId":"3bf4ce80b74bd1b4","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMIR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMIR"}}
{"Timestamp":"2024-11-10T22:34:21.4696371+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2183c5401b26419a97cad82ca761e791","SpanId":"3bf4ce80b74bd1b4","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMIR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMIR"}}
{"Timestamp":"2024-11-10T22:34:21.4712019+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2183c5401b26419a97cad82ca761e791","SpanId":"3bf4ce80b74bd1b4","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMIR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMIR"}}
{"Timestamp":"2024-11-10T22:34:21.4720893+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2183c5401b26419a97cad82ca761e791","SpanId":"3bf4ce80b74bd1b4","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":6.4293,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMIR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMIR"}}
{"Timestamp":"2024-11-10T22:34:21.4734517+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2183c5401b26419a97cad82ca761e791","SpanId":"3bf4ce80b74bd1b4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMIR"}}
{"Timestamp":"2024-11-10T22:34:21.4750019+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2183c5401b26419a97cad82ca761e791","SpanId":"3bf4ce80b74bd1b4","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":10.9881,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"10.9881"}]}}
{"Timestamp":"2024-11-10T22:34:21.4765320+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2183c5401b26419a97cad82ca761e791","SpanId":"3bf4ce80b74bd1b4","Properties":{"ElapsedMilliseconds":14.0696,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMIR"}}
{"Timestamp":"2024-11-10T22:34:22.7102870+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5cc63166d02cbf81993412a4235fe53c","SpanId":"797129e71a2741cb","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIS"}}
{"Timestamp":"2024-11-10T22:34:22.7126259+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5cc63166d02cbf81993412a4235fe53c","SpanId":"797129e71a2741cb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIS"}}
{"Timestamp":"2024-11-10T22:34:22.7138770+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5cc63166d02cbf81993412a4235fe53c","SpanId":"797129e71a2741cb","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIS"}}
{"Timestamp":"2024-11-10T22:34:22.7221743+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5cc63166d02cbf81993412a4235fe53c","SpanId":"797129e71a2741cb","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIS"}}
{"Timestamp":"2024-11-10T22:34:22.7269348+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5cc63166d02cbf81993412a4235fe53c","SpanId":"797129e71a2741cb","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIS"}}
{"Timestamp":"2024-11-10T22:34:22.7291061+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5cc63166d02cbf81993412a4235fe53c","SpanId":"797129e71a2741cb","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIS"}}
{"Timestamp":"2024-11-10T22:34:22.7306878+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5cc63166d02cbf81993412a4235fe53c","SpanId":"797129e71a2741cb","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.706,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMIS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIS"}}
{"Timestamp":"2024-11-10T22:34:22.7320292+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5cc63166d02cbf81993412a4235fe53c","SpanId":"797129e71a2741cb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIS"}}
{"Timestamp":"2024-11-10T22:34:22.7328327+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5cc63166d02cbf81993412a4235fe53c","SpanId":"797129e71a2741cb","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":20.2909,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.2909"}]}}
{"Timestamp":"2024-11-10T22:34:22.7343505+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5cc63166d02cbf81993412a4235fe53c","SpanId":"797129e71a2741cb","Properties":{"ElapsedMilliseconds":24.0842,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIS"}}
{"Timestamp":"2024-11-10T22:34:22.7359713+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c047d65eb936ce95351b4f4da3c5205c","SpanId":"db0dd5488a2ef50c","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1211","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIT:00000001","RequestPath":"/api/Schedules/1211","ConnectionId":"0HN81JJFDTMIT"}}
{"Timestamp":"2024-11-10T22:34:22.7392431+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c047d65eb936ce95351b4f4da3c5205c","SpanId":"db0dd5488a2ef50c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIT:00000001","RequestPath":"/api/Schedules/1211","ConnectionId":"0HN81JJFDTMIT"}}
{"Timestamp":"2024-11-10T22:34:22.7408746+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c047d65eb936ce95351b4f4da3c5205c","SpanId":"db0dd5488a2ef50c","Properties":{"RouteData":"{action = \"Delete\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"97e1ed0f-5c47-407d-97fe-f841696724fe","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JJFDTMIT:00000001","RequestPath":"/api/Schedules/1211","ConnectionId":"0HN81JJFDTMIT"}}
{"Timestamp":"2024-11-10T22:34:22.7443860+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c047d65eb936ce95351b4f4da3c5205c","SpanId":"db0dd5488a2ef50c","Properties":{"elapsed":"1","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"97e1ed0f-5c47-407d-97fe-f841696724fe","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JJFDTMIT:00000001","RequestPath":"/api/Schedules/1211","ConnectionId":"0HN81JJFDTMIT"}}
{"Timestamp":"2024-11-10T22:34:22.7482375+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c047d65eb936ce95351b4f4da3c5205c","SpanId":"db0dd5488a2ef50c","Properties":{"elapsed":"1","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[user_id], [s].[schedule_id], [s].[id]\r\nFROM [Schedule_User] AS [s]\r\nWHERE [s].[schedule_id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"97e1ed0f-5c47-407d-97fe-f841696724fe","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JJFDTMIT:00000001","RequestPath":"/api/Schedules/1211","ConnectionId":"0HN81JJFDTMIT"}}
{"Timestamp":"2024-11-10T22:34:22.7551623+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c047d65eb936ce95351b4f4da3c5205c","SpanId":"db0dd5488a2ef50c","Properties":{"elapsed":"4","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [Schedule_User]\r\nOUTPUT 1\r\nWHERE [schedule_id] = @p0 AND [user_id] = @p1;\r\nDELETE FROM [Schedules]\r\nOUTPUT 1\r\nWHERE [Id] = @p2;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"97e1ed0f-5c47-407d-97fe-f841696724fe","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JJFDTMIT:00000001","RequestPath":"/api/Schedules/1211","ConnectionId":"0HN81JJFDTMIT"}}
{"Timestamp":"2024-11-10T22:34:22.7580317+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"c047d65eb936ce95351b4f4da3c5205c","SpanId":"db0dd5488a2ef50c","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"97e1ed0f-5c47-407d-97fe-f841696724fe","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JJFDTMIT:00000001","RequestPath":"/api/Schedules/1211","ConnectionId":"0HN81JJFDTMIT"}}
{"Timestamp":"2024-11-10T22:34:22.7590146+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c047d65eb936ce95351b4f4da3c5205c","SpanId":"db0dd5488a2ef50c","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","ElapsedMilliseconds":16.8864,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMIT:00000001","RequestPath":"/api/Schedules/1211","ConnectionId":"0HN81JJFDTMIT"}}
{"Timestamp":"2024-11-10T22:34:22.7613508+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c047d65eb936ce95351b4f4da3c5205c","SpanId":"db0dd5488a2ef50c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIT:00000001","RequestPath":"/api/Schedules/1211","ConnectionId":"0HN81JJFDTMIT"}}
{"Timestamp":"2024-11-10T22:34:22.7624055+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c047d65eb936ce95351b4f4da3c5205c","SpanId":"db0dd5488a2ef50c","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/Schedules/1211","StatusCode":200,"Elapsed":23.2201,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.2201"}]}}
{"Timestamp":"2024-11-10T22:34:22.7637471+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c047d65eb936ce95351b4f4da3c5205c","SpanId":"db0dd5488a2ef50c","Properties":{"ElapsedMilliseconds":27.8998,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1211","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIT:00000001","RequestPath":"/api/Schedules/1211","ConnectionId":"0HN81JJFDTMIT"}}
{"Timestamp":"2024-11-10T22:34:24.4189474+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"70dd16cc9b7111d41491ce70c0bcfb50","SpanId":"96aa0abcb6454d4f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIU"}}
{"Timestamp":"2024-11-10T22:34:24.4223685+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"70dd16cc9b7111d41491ce70c0bcfb50","SpanId":"96aa0abcb6454d4f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIU"}}
{"Timestamp":"2024-11-10T22:34:24.4239690+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"70dd16cc9b7111d41491ce70c0bcfb50","SpanId":"96aa0abcb6454d4f","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIU"}}
{"Timestamp":"2024-11-10T22:34:24.4323694+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"70dd16cc9b7111d41491ce70c0bcfb50","SpanId":"96aa0abcb6454d4f","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIU"}}
{"Timestamp":"2024-11-10T22:34:24.4366804+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"70dd16cc9b7111d41491ce70c0bcfb50","SpanId":"96aa0abcb6454d4f","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIU"}}
{"Timestamp":"2024-11-10T22:34:24.4381038+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"70dd16cc9b7111d41491ce70c0bcfb50","SpanId":"96aa0abcb6454d4f","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMIU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIU"}}
{"Timestamp":"2024-11-10T22:34:24.4391854+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"70dd16cc9b7111d41491ce70c0bcfb50","SpanId":"96aa0abcb6454d4f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.9901,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMIU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIU"}}
{"Timestamp":"2024-11-10T22:34:24.4402996+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"70dd16cc9b7111d41491ce70c0bcfb50","SpanId":"96aa0abcb6454d4f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIU"}}
{"Timestamp":"2024-11-10T22:34:24.4409141+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"70dd16cc9b7111d41491ce70c0bcfb50","SpanId":"96aa0abcb6454d4f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":18.7879,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.7879"}]}}
{"Timestamp":"2024-11-10T22:34:24.4421353+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"70dd16cc9b7111d41491ce70c0bcfb50","SpanId":"96aa0abcb6454d4f","Properties":{"ElapsedMilliseconds":23.2174,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMIU"}}
{"Timestamp":"2024-11-10T22:34:24.4448580+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0ab7b1e71f966fe624e354c43cc20eb1","SpanId":"c4e968ef7b185be4","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMIV"}}
{"Timestamp":"2024-11-10T22:34:24.4472494+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0ab7b1e71f966fe624e354c43cc20eb1","SpanId":"c4e968ef7b185be4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMIV"}}
{"Timestamp":"2024-11-10T22:34:24.4484961+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0ab7b1e71f966fe624e354c43cc20eb1","SpanId":"c4e968ef7b185be4","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMIV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMIV"}}
{"Timestamp":"2024-11-10T22:34:24.4551302+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0ab7b1e71f966fe624e354c43cc20eb1","SpanId":"c4e968ef7b185be4","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMIV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMIV"}}
{"Timestamp":"2024-11-10T22:34:24.4573652+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0ab7b1e71f966fe624e354c43cc20eb1","SpanId":"c4e968ef7b185be4","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMIV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMIV"}}
{"Timestamp":"2024-11-10T22:34:24.4600619+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0ab7b1e71f966fe624e354c43cc20eb1","SpanId":"c4e968ef7b185be4","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":9.3481,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMIV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMIV"}}
{"Timestamp":"2024-11-10T22:34:24.4628268+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0ab7b1e71f966fe624e354c43cc20eb1","SpanId":"c4e968ef7b185be4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMIV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMIV"}}
{"Timestamp":"2024-11-10T22:34:24.4647558+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0ab7b1e71f966fe624e354c43cc20eb1","SpanId":"c4e968ef7b185be4","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":17.7866,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.7866"}]}}
{"Timestamp":"2024-11-10T22:34:24.4668052+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0ab7b1e71f966fe624e354c43cc20eb1","SpanId":"c4e968ef7b185be4","Properties":{"ElapsedMilliseconds":22.0379,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMIV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMIV"}}
{"Timestamp":"2024-11-10T22:34:27.8057710+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d4bacaeca06f7be92e0a849cd43619df","SpanId":"f65b8519490e9cdd","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJ0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ0"}}
{"Timestamp":"2024-11-10T22:34:27.8078820+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d4bacaeca06f7be92e0a849cd43619df","SpanId":"f65b8519490e9cdd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJ0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ0"}}
{"Timestamp":"2024-11-10T22:34:27.8087408+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d4bacaeca06f7be92e0a849cd43619df","SpanId":"f65b8519490e9cdd","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ0"}}
{"Timestamp":"2024-11-10T22:34:27.8173945+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d4bacaeca06f7be92e0a849cd43619df","SpanId":"f65b8519490e9cdd","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ0"}}
{"Timestamp":"2024-11-10T22:34:27.8223366+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d4bacaeca06f7be92e0a849cd43619df","SpanId":"f65b8519490e9cdd","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ0"}}
{"Timestamp":"2024-11-10T22:34:27.8242115+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d4bacaeca06f7be92e0a849cd43619df","SpanId":"f65b8519490e9cdd","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ0"}}
{"Timestamp":"2024-11-10T22:34:27.8257535+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d4bacaeca06f7be92e0a849cd43619df","SpanId":"f65b8519490e9cdd","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.8381,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMJ0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ0"}}
{"Timestamp":"2024-11-10T22:34:27.8265741+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d4bacaeca06f7be92e0a849cd43619df","SpanId":"f65b8519490e9cdd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJ0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ0"}}
{"Timestamp":"2024-11-10T22:34:27.8284214+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d4bacaeca06f7be92e0a849cd43619df","SpanId":"f65b8519490e9cdd","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":20.587,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.5870"}]}}
{"Timestamp":"2024-11-10T22:34:27.8311090+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d4bacaeca06f7be92e0a849cd43619df","SpanId":"f65b8519490e9cdd","Properties":{"ElapsedMilliseconds":25.3364,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJ0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ0"}}
{"Timestamp":"2024-11-10T22:34:27.8343763+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"68f8353c3d88c4917cc3ac3673f8cff1","SpanId":"8701045597cb78fc","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJ1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJ1"}}
{"Timestamp":"2024-11-10T22:34:27.8374250+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"68f8353c3d88c4917cc3ac3673f8cff1","SpanId":"8701045597cb78fc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJ1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJ1"}}
{"Timestamp":"2024-11-10T22:34:27.8384984+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"68f8353c3d88c4917cc3ac3673f8cff1","SpanId":"8701045597cb78fc","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJ1"}}
{"Timestamp":"2024-11-10T22:34:27.8466801+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"68f8353c3d88c4917cc3ac3673f8cff1","SpanId":"8701045597cb78fc","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJ1"}}
{"Timestamp":"2024-11-10T22:34:27.8481748+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"68f8353c3d88c4917cc3ac3673f8cff1","SpanId":"8701045597cb78fc","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJ1"}}
{"Timestamp":"2024-11-10T22:34:27.8500892+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"68f8353c3d88c4917cc3ac3673f8cff1","SpanId":"8701045597cb78fc","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":9.624,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMJ1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJ1"}}
{"Timestamp":"2024-11-10T22:34:27.8508527+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"68f8353c3d88c4917cc3ac3673f8cff1","SpanId":"8701045597cb78fc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJ1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJ1"}}
{"Timestamp":"2024-11-10T22:34:27.8515982+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"68f8353c3d88c4917cc3ac3673f8cff1","SpanId":"8701045597cb78fc","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":14.4288,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.4288"}]}}
{"Timestamp":"2024-11-10T22:34:27.8531756+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"68f8353c3d88c4917cc3ac3673f8cff1","SpanId":"8701045597cb78fc","Properties":{"ElapsedMilliseconds":18.8306,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJ1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJ1"}}
{"Timestamp":"2024-11-10T22:34:27.9766583+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f76e5e21afc61eb4364d1a49d4059407","SpanId":"f5cf7be1d68a5681","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJ2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ2"}}
{"Timestamp":"2024-11-10T22:34:27.9817727+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f76e5e21afc61eb4364d1a49d4059407","SpanId":"f5cf7be1d68a5681","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJ2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ2"}}
{"Timestamp":"2024-11-10T22:34:27.9829549+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d4c33fbffcd2254b342510811fa45c47","SpanId":"aa44a739c329a09b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJ3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ3"}}
{"Timestamp":"2024-11-10T22:34:27.9832921+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f76e5e21afc61eb4364d1a49d4059407","SpanId":"f5cf7be1d68a5681","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ2"}}
{"Timestamp":"2024-11-10T22:34:27.9846341+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d4c33fbffcd2254b342510811fa45c47","SpanId":"aa44a739c329a09b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJ3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ3"}}
{"Timestamp":"2024-11-10T22:34:27.9870458+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d4c33fbffcd2254b342510811fa45c47","SpanId":"aa44a739c329a09b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ3"}}
{"Timestamp":"2024-11-10T22:34:27.9885126+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f76e5e21afc61eb4364d1a49d4059407","SpanId":"f5cf7be1d68a5681","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ2"}}
{"Timestamp":"2024-11-10T22:34:27.9917691+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d4c33fbffcd2254b342510811fa45c47","SpanId":"aa44a739c329a09b","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ3"}}
{"Timestamp":"2024-11-10T22:34:27.9928996+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f76e5e21afc61eb4364d1a49d4059407","SpanId":"f5cf7be1d68a5681","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ2"}}
{"Timestamp":"2024-11-10T22:34:28.0008537+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d4c33fbffcd2254b342510811fa45c47","SpanId":"aa44a739c329a09b","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ3"}}
{"Timestamp":"2024-11-10T22:34:28.0026188+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f76e5e21afc61eb4364d1a49d4059407","SpanId":"f5cf7be1d68a5681","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ2"}}
{"Timestamp":"2024-11-10T22:34:28.0048794+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d4c33fbffcd2254b342510811fa45c47","SpanId":"aa44a739c329a09b","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ3"}}
{"Timestamp":"2024-11-10T22:34:28.0065610+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f76e5e21afc61eb4364d1a49d4059407","SpanId":"f5cf7be1d68a5681","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.9343,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMJ2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ2"}}
{"Timestamp":"2024-11-10T22:34:28.0080824+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d4c33fbffcd2254b342510811fa45c47","SpanId":"aa44a739c329a09b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":19.2231,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMJ3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ3"}}
{"Timestamp":"2024-11-10T22:34:28.0098243+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f76e5e21afc61eb4364d1a49d4059407","SpanId":"f5cf7be1d68a5681","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJ2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ2"}}
{"Timestamp":"2024-11-10T22:34:28.0123570+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d4c33fbffcd2254b342510811fa45c47","SpanId":"aa44a739c329a09b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJ3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ3"}}
{"Timestamp":"2024-11-10T22:34:28.0139681+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f76e5e21afc61eb4364d1a49d4059407","SpanId":"f5cf7be1d68a5681","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":32.2839,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"32.2839"}]}}
{"Timestamp":"2024-11-10T22:34:28.0148445+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d4c33fbffcd2254b342510811fa45c47","SpanId":"aa44a739c329a09b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":30.2496,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.2496"}]}}
{"Timestamp":"2024-11-10T22:34:28.0170061+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f76e5e21afc61eb4364d1a49d4059407","SpanId":"f5cf7be1d68a5681","Properties":{"ElapsedMilliseconds":40.5022,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJ2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ2"}}
{"Timestamp":"2024-11-10T22:34:28.0210921+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"db162268eed8089309064a47e4572530","SpanId":"74ecffe555fcac02","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJ4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJ4"}}
{"Timestamp":"2024-11-10T22:34:28.0187966+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d4c33fbffcd2254b342510811fa45c47","SpanId":"aa44a739c329a09b","Properties":{"ElapsedMilliseconds":35.935,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJ3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ3"}}
{"Timestamp":"2024-11-10T22:34:28.0218617+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9924fc4776250f42c0ce286be308f28c","SpanId":"6f0f0c5b78fbf82a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJ5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJ5"}}
{"Timestamp":"2024-11-10T22:34:28.0258834+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"db162268eed8089309064a47e4572530","SpanId":"74ecffe555fcac02","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJ4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJ4"}}
{"Timestamp":"2024-11-10T22:34:28.0334049+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9924fc4776250f42c0ce286be308f28c","SpanId":"6f0f0c5b78fbf82a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJ5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJ5"}}
{"Timestamp":"2024-11-10T22:34:28.0339244+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"db162268eed8089309064a47e4572530","SpanId":"74ecffe555fcac02","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJ4"}}
{"Timestamp":"2024-11-10T22:34:28.0349158+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9924fc4776250f42c0ce286be308f28c","SpanId":"6f0f0c5b78fbf82a","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJ5"}}
{"Timestamp":"2024-11-10T22:34:28.0372144+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"db162268eed8089309064a47e4572530","SpanId":"74ecffe555fcac02","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJ4"}}
{"Timestamp":"2024-11-10T22:34:28.0390279+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"db162268eed8089309064a47e4572530","SpanId":"74ecffe555fcac02","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJ4"}}
{"Timestamp":"2024-11-10T22:34:28.0402053+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"db162268eed8089309064a47e4572530","SpanId":"74ecffe555fcac02","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":4.2082,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMJ4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJ4"}}
{"Timestamp":"2024-11-10T22:34:28.0411796+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"db162268eed8089309064a47e4572530","SpanId":"74ecffe555fcac02","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJ4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJ4"}}
{"Timestamp":"2024-11-10T22:34:28.0419707+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"db162268eed8089309064a47e4572530","SpanId":"74ecffe555fcac02","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":16.3032,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.3032"}]}}
{"Timestamp":"2024-11-10T22:34:28.0426816+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9924fc4776250f42c0ce286be308f28c","SpanId":"6f0f0c5b78fbf82a","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJ5"}}
{"Timestamp":"2024-11-10T22:34:28.0439833+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"db162268eed8089309064a47e4572530","SpanId":"74ecffe555fcac02","Properties":{"ElapsedMilliseconds":23.0257,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJ4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJ4"}}
{"Timestamp":"2024-11-10T22:34:28.0464505+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9924fc4776250f42c0ce286be308f28c","SpanId":"6f0f0c5b78fbf82a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJ5"}}
{"Timestamp":"2024-11-10T22:34:28.0501130+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9924fc4776250f42c0ce286be308f28c","SpanId":"6f0f0c5b78fbf82a","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":12.7999,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMJ5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJ5"}}
{"Timestamp":"2024-11-10T22:34:28.0515688+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9924fc4776250f42c0ce286be308f28c","SpanId":"6f0f0c5b78fbf82a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJ5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJ5"}}
{"Timestamp":"2024-11-10T22:34:28.0523208+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9924fc4776250f42c0ce286be308f28c","SpanId":"6f0f0c5b78fbf82a","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":19.1155,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.1155"}]}}
{"Timestamp":"2024-11-10T22:34:28.0535373+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9924fc4776250f42c0ce286be308f28c","SpanId":"6f0f0c5b78fbf82a","Properties":{"ElapsedMilliseconds":31.6875,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJ5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJ5"}}
{"Timestamp":"2024-11-10T22:34:29.9956070+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3beac11adb91e42e491c209b27003a05","SpanId":"e549fe23fb12ef63","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJ6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ6"}}
{"Timestamp":"2024-11-10T22:34:29.9987401+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3beac11adb91e42e491c209b27003a05","SpanId":"e549fe23fb12ef63","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJ6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ6"}}
{"Timestamp":"2024-11-10T22:34:29.9997606+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3beac11adb91e42e491c209b27003a05","SpanId":"e549fe23fb12ef63","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ6"}}
{"Timestamp":"2024-11-10T22:34:30.0079708+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3beac11adb91e42e491c209b27003a05","SpanId":"e549fe23fb12ef63","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ6"}}
{"Timestamp":"2024-11-10T22:34:30.0128505+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3beac11adb91e42e491c209b27003a05","SpanId":"e549fe23fb12ef63","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ6"}}
{"Timestamp":"2024-11-10T22:34:30.0148026+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3beac11adb91e42e491c209b27003a05","SpanId":"e549fe23fb12ef63","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ6"}}
{"Timestamp":"2024-11-10T22:34:30.0156954+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3beac11adb91e42e491c209b27003a05","SpanId":"e549fe23fb12ef63","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":14.6561,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMJ6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ6"}}
{"Timestamp":"2024-11-10T22:34:30.0166382+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3beac11adb91e42e491c209b27003a05","SpanId":"e549fe23fb12ef63","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJ6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ6"}}
{"Timestamp":"2024-11-10T22:34:30.0176083+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3beac11adb91e42e491c209b27003a05","SpanId":"e549fe23fb12ef63","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":18.9956,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.9956"}]}}
{"Timestamp":"2024-11-10T22:34:30.0194587+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3beac11adb91e42e491c209b27003a05","SpanId":"e549fe23fb12ef63","Properties":{"ElapsedMilliseconds":23.9038,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJ6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ6"}}
{"Timestamp":"2024-11-10T22:34:30.0215702+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8c34954ed80292bc33cd1c76fa1b9900","SpanId":"4f371108a1362c10","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJ7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJ7"}}
{"Timestamp":"2024-11-10T22:34:30.0244198+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8c34954ed80292bc33cd1c76fa1b9900","SpanId":"4f371108a1362c10","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJ7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJ7"}}
{"Timestamp":"2024-11-10T22:34:30.0252888+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8c34954ed80292bc33cd1c76fa1b9900","SpanId":"4f371108a1362c10","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJ7"}}
{"Timestamp":"2024-11-10T22:34:30.0314857+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8c34954ed80292bc33cd1c76fa1b9900","SpanId":"4f371108a1362c10","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJ7"}}
{"Timestamp":"2024-11-10T22:34:30.0332104+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8c34954ed80292bc33cd1c76fa1b9900","SpanId":"4f371108a1362c10","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJ7"}}
{"Timestamp":"2024-11-10T22:34:30.0342272+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8c34954ed80292bc33cd1c76fa1b9900","SpanId":"4f371108a1362c10","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":7.633,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMJ7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJ7"}}
{"Timestamp":"2024-11-10T22:34:30.0353484+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8c34954ed80292bc33cd1c76fa1b9900","SpanId":"4f371108a1362c10","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJ7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJ7"}}
{"Timestamp":"2024-11-10T22:34:30.0362251+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8c34954ed80292bc33cd1c76fa1b9900","SpanId":"4f371108a1362c10","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":12.0328,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.0328"}]}}
{"Timestamp":"2024-11-10T22:34:30.0375978+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8c34954ed80292bc33cd1c76fa1b9900","SpanId":"4f371108a1362c10","Properties":{"ElapsedMilliseconds":16.0541,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJ7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJ7"}}
{"Timestamp":"2024-11-10T22:34:30.1643952+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fd6b3bd78fd170d5676387762446dc73","SpanId":"9129007f9a949da2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJ8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ8"}}
{"Timestamp":"2024-11-10T22:34:30.1685765+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fd6b3bd78fd170d5676387762446dc73","SpanId":"9129007f9a949da2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJ8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ8"}}
{"Timestamp":"2024-11-10T22:34:30.1691653+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"63cde01bc3f4c6a007c975f81557e0fa","SpanId":"b026b383b19b4c33","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ9"}}
{"Timestamp":"2024-11-10T22:34:30.1695453+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fd6b3bd78fd170d5676387762446dc73","SpanId":"9129007f9a949da2","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ8"}}
{"Timestamp":"2024-11-10T22:34:30.1711584+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"63cde01bc3f4c6a007c975f81557e0fa","SpanId":"b026b383b19b4c33","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ9"}}
{"Timestamp":"2024-11-10T22:34:30.1736567+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"63cde01bc3f4c6a007c975f81557e0fa","SpanId":"b026b383b19b4c33","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ9"}}
{"Timestamp":"2024-11-10T22:34:30.1748075+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fd6b3bd78fd170d5676387762446dc73","SpanId":"9129007f9a949da2","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ8"}}
{"Timestamp":"2024-11-10T22:34:30.1776370+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"63cde01bc3f4c6a007c975f81557e0fa","SpanId":"b026b383b19b4c33","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ9"}}
{"Timestamp":"2024-11-10T22:34:30.1789333+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fd6b3bd78fd170d5676387762446dc73","SpanId":"9129007f9a949da2","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ8"}}
{"Timestamp":"2024-11-10T22:34:30.1841554+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"63cde01bc3f4c6a007c975f81557e0fa","SpanId":"b026b383b19b4c33","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ9"}}
{"Timestamp":"2024-11-10T22:34:30.1844611+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fd6b3bd78fd170d5676387762446dc73","SpanId":"9129007f9a949da2","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ8"}}
{"Timestamp":"2024-11-10T22:34:30.1886466+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"63cde01bc3f4c6a007c975f81557e0fa","SpanId":"b026b383b19b4c33","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ9"}}
{"Timestamp":"2024-11-10T22:34:30.1906411+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fd6b3bd78fd170d5676387762446dc73","SpanId":"9129007f9a949da2","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":18.5465,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMJ8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ8"}}
{"Timestamp":"2024-11-10T22:34:30.1924028+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"63cde01bc3f4c6a007c975f81557e0fa","SpanId":"b026b383b19b4c33","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.4608,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ9"}}
{"Timestamp":"2024-11-10T22:34:30.1932100+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fd6b3bd78fd170d5676387762446dc73","SpanId":"9129007f9a949da2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJ8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ8"}}
{"Timestamp":"2024-11-10T22:34:30.1944957+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"63cde01bc3f4c6a007c975f81557e0fa","SpanId":"b026b383b19b4c33","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ9"}}
{"Timestamp":"2024-11-10T22:34:30.1957791+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fd6b3bd78fd170d5676387762446dc73","SpanId":"9129007f9a949da2","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":27.2469,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.2469"}]}}
{"Timestamp":"2024-11-10T22:34:30.1965158+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"63cde01bc3f4c6a007c975f81557e0fa","SpanId":"b026b383b19b4c33","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":25.4119,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.4119"}]}}
{"Timestamp":"2024-11-10T22:34:30.1981843+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fd6b3bd78fd170d5676387762446dc73","SpanId":"9129007f9a949da2","Properties":{"ElapsedMilliseconds":33.7933,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJ8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ8"}}
{"Timestamp":"2024-11-10T22:34:30.1994917+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"63cde01bc3f4c6a007c975f81557e0fa","SpanId":"b026b383b19b4c33","Properties":{"ElapsedMilliseconds":30.4211,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJ9"}}
{"Timestamp":"2024-11-10T22:34:30.2034282+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4c55dde24cb1e4172de04188514548f3","SpanId":"c6216330138d99d3","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJA"}}
{"Timestamp":"2024-11-10T22:34:30.2043814+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"22ba86e14796202849446d42550e7921","SpanId":"2fded0e5eb024fb0","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJB"}}
{"Timestamp":"2024-11-10T22:34:30.2105853+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4c55dde24cb1e4172de04188514548f3","SpanId":"c6216330138d99d3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJA"}}
{"Timestamp":"2024-11-10T22:34:30.2141185+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"22ba86e14796202849446d42550e7921","SpanId":"2fded0e5eb024fb0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJB"}}
{"Timestamp":"2024-11-10T22:34:30.2150319+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4c55dde24cb1e4172de04188514548f3","SpanId":"c6216330138d99d3","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJA"}}
{"Timestamp":"2024-11-10T22:34:30.2165974+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"22ba86e14796202849446d42550e7921","SpanId":"2fded0e5eb024fb0","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJB"}}
{"Timestamp":"2024-11-10T22:34:30.2188186+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4c55dde24cb1e4172de04188514548f3","SpanId":"c6216330138d99d3","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJA"}}
{"Timestamp":"2024-11-10T22:34:30.2212624+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4c55dde24cb1e4172de04188514548f3","SpanId":"c6216330138d99d3","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJA"}}
{"Timestamp":"2024-11-10T22:34:30.2220916+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4c55dde24cb1e4172de04188514548f3","SpanId":"c6216330138d99d3","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":4.2364,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMJA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJA"}}
{"Timestamp":"2024-11-10T22:34:30.2228814+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4c55dde24cb1e4172de04188514548f3","SpanId":"c6216330138d99d3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJA"}}
{"Timestamp":"2024-11-10T22:34:30.2237072+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4c55dde24cb1e4172de04188514548f3","SpanId":"c6216330138d99d3","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":13.6213,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.6213"}]}}
{"Timestamp":"2024-11-10T22:34:30.2248035+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"22ba86e14796202849446d42550e7921","SpanId":"2fded0e5eb024fb0","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJB"}}
{"Timestamp":"2024-11-10T22:34:30.2249949+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4c55dde24cb1e4172de04188514548f3","SpanId":"c6216330138d99d3","Properties":{"ElapsedMilliseconds":21.6006,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJA"}}
{"Timestamp":"2024-11-10T22:34:30.2267705+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"22ba86e14796202849446d42550e7921","SpanId":"2fded0e5eb024fb0","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJB"}}
{"Timestamp":"2024-11-10T22:34:30.2313783+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"22ba86e14796202849446d42550e7921","SpanId":"2fded0e5eb024fb0","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":11.3497,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMJB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJB"}}
{"Timestamp":"2024-11-10T22:34:30.2323935+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"22ba86e14796202849446d42550e7921","SpanId":"2fded0e5eb024fb0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJB"}}
{"Timestamp":"2024-11-10T22:34:30.2333923+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"22ba86e14796202849446d42550e7921","SpanId":"2fded0e5eb024fb0","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":19.8352,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.8352"}]}}
{"Timestamp":"2024-11-10T22:34:30.2344607+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"22ba86e14796202849446d42550e7921","SpanId":"2fded0e5eb024fb0","Properties":{"ElapsedMilliseconds":30.0962,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJB"}}
{"Timestamp":"2024-11-10T22:34:32.0596246+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"434900d2b62ae184d036a52f46a35017","SpanId":"2e2ce0791fff64b1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJC"}}
{"Timestamp":"2024-11-10T22:34:32.0611688+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"434900d2b62ae184d036a52f46a35017","SpanId":"2e2ce0791fff64b1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJC"}}
{"Timestamp":"2024-11-10T22:34:32.0623440+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"434900d2b62ae184d036a52f46a35017","SpanId":"2e2ce0791fff64b1","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJC"}}
{"Timestamp":"2024-11-10T22:34:32.0688109+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"434900d2b62ae184d036a52f46a35017","SpanId":"2e2ce0791fff64b1","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJC"}}
{"Timestamp":"2024-11-10T22:34:32.0723528+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"434900d2b62ae184d036a52f46a35017","SpanId":"2e2ce0791fff64b1","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJC"}}
{"Timestamp":"2024-11-10T22:34:32.0745237+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"434900d2b62ae184d036a52f46a35017","SpanId":"2e2ce0791fff64b1","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJC"}}
{"Timestamp":"2024-11-10T22:34:32.0761446+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"434900d2b62ae184d036a52f46a35017","SpanId":"2e2ce0791fff64b1","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":12.2248,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMJC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJC"}}
{"Timestamp":"2024-11-10T22:34:32.0777802+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"434900d2b62ae184d036a52f46a35017","SpanId":"2e2ce0791fff64b1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJC"}}
{"Timestamp":"2024-11-10T22:34:32.0786384+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"434900d2b62ae184d036a52f46a35017","SpanId":"2e2ce0791fff64b1","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":17.5244,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.5244"}]}}
{"Timestamp":"2024-11-10T22:34:32.0808913+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"434900d2b62ae184d036a52f46a35017","SpanId":"2e2ce0791fff64b1","Properties":{"ElapsedMilliseconds":21.2663,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJC"}}
{"Timestamp":"2024-11-10T22:34:32.0832728+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1d52e6a50e6045cddd3399bcedfaa61f","SpanId":"86569113fa56916d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-18&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJD"}}
{"Timestamp":"2024-11-10T22:34:32.0859221+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1d52e6a50e6045cddd3399bcedfaa61f","SpanId":"86569113fa56916d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJD"}}
{"Timestamp":"2024-11-10T22:34:32.0867716+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1d52e6a50e6045cddd3399bcedfaa61f","SpanId":"86569113fa56916d","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJD"}}
{"Timestamp":"2024-11-10T22:34:32.0919332+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1d52e6a50e6045cddd3399bcedfaa61f","SpanId":"86569113fa56916d","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJD"}}
{"Timestamp":"2024-11-10T22:34:32.0935179+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1d52e6a50e6045cddd3399bcedfaa61f","SpanId":"86569113fa56916d","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJD"}}
{"Timestamp":"2024-11-10T22:34:32.0944049+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1d52e6a50e6045cddd3399bcedfaa61f","SpanId":"86569113fa56916d","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":6.1186,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMJD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJD"}}
{"Timestamp":"2024-11-10T22:34:32.0956662+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1d52e6a50e6045cddd3399bcedfaa61f","SpanId":"86569113fa56916d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJD"}}
{"Timestamp":"2024-11-10T22:34:32.0967842+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1d52e6a50e6045cddd3399bcedfaa61f","SpanId":"86569113fa56916d","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":11.1267,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.1267"}]}}
{"Timestamp":"2024-11-10T22:34:32.0979764+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1d52e6a50e6045cddd3399bcedfaa61f","SpanId":"86569113fa56916d","Properties":{"ElapsedMilliseconds":14.7185,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-18&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJD"}}
{"Timestamp":"2024-11-10T22:34:32.2194249+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4a755f2fe1fbc9f98c0069791305bede","SpanId":"9a03bfe313ad4eb4","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJE"}}
{"Timestamp":"2024-11-10T22:34:32.2223671+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4a755f2fe1fbc9f98c0069791305bede","SpanId":"9a03bfe313ad4eb4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJE"}}
{"Timestamp":"2024-11-10T22:34:32.2235927+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"101c03e2de0dfa74c96937713ca40d3d","SpanId":"7133ad072ed238f4","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJF"}}
{"Timestamp":"2024-11-10T22:34:32.2237437+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4a755f2fe1fbc9f98c0069791305bede","SpanId":"9a03bfe313ad4eb4","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJE"}}
{"Timestamp":"2024-11-10T22:34:32.2254175+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"101c03e2de0dfa74c96937713ca40d3d","SpanId":"7133ad072ed238f4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJF"}}
{"Timestamp":"2024-11-10T22:34:32.2283126+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"101c03e2de0dfa74c96937713ca40d3d","SpanId":"7133ad072ed238f4","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJF"}}
{"Timestamp":"2024-11-10T22:34:32.2297289+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4a755f2fe1fbc9f98c0069791305bede","SpanId":"9a03bfe313ad4eb4","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJE"}}
{"Timestamp":"2024-11-10T22:34:32.2329619+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"101c03e2de0dfa74c96937713ca40d3d","SpanId":"7133ad072ed238f4","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJF"}}
{"Timestamp":"2024-11-10T22:34:32.2334134+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4a755f2fe1fbc9f98c0069791305bede","SpanId":"9a03bfe313ad4eb4","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJE"}}
{"Timestamp":"2024-11-10T22:34:32.2379806+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"101c03e2de0dfa74c96937713ca40d3d","SpanId":"7133ad072ed238f4","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJF"}}
{"Timestamp":"2024-11-10T22:34:32.2388244+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4a755f2fe1fbc9f98c0069791305bede","SpanId":"9a03bfe313ad4eb4","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJE"}}
{"Timestamp":"2024-11-10T22:34:32.2411498+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"101c03e2de0dfa74c96937713ca40d3d","SpanId":"7133ad072ed238f4","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJF"}}
{"Timestamp":"2024-11-10T22:34:32.2434703+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4a755f2fe1fbc9f98c0069791305bede","SpanId":"9a03bfe313ad4eb4","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.1695,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMJE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJE"}}
{"Timestamp":"2024-11-10T22:34:32.2453180+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"101c03e2de0dfa74c96937713ca40d3d","SpanId":"7133ad072ed238f4","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.4945,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJF"}}
{"Timestamp":"2024-11-10T22:34:32.2466371+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4a755f2fe1fbc9f98c0069791305bede","SpanId":"9a03bfe313ad4eb4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJE"}}
{"Timestamp":"2024-11-10T22:34:32.2483869+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"101c03e2de0dfa74c96937713ca40d3d","SpanId":"7133ad072ed238f4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJF"}}
{"Timestamp":"2024-11-10T22:34:32.2491577+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4a755f2fe1fbc9f98c0069791305bede","SpanId":"9a03bfe313ad4eb4","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":26.9344,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.9344"}]}}
{"Timestamp":"2024-11-10T22:34:32.2501303+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"101c03e2de0dfa74c96937713ca40d3d","SpanId":"7133ad072ed238f4","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":24.7424,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.7424"}]}}
{"Timestamp":"2024-11-10T22:34:32.2521242+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4a755f2fe1fbc9f98c0069791305bede","SpanId":"9a03bfe313ad4eb4","Properties":{"ElapsedMilliseconds":32.7148,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJE"}}
{"Timestamp":"2024-11-10T22:34:32.2534308+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"101c03e2de0dfa74c96937713ca40d3d","SpanId":"7133ad072ed238f4","Properties":{"ElapsedMilliseconds":29.8736,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJF"}}
{"Timestamp":"2024-11-10T22:34:32.2569914+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b557807d3f10e4f7c1113880c61f808e","SpanId":"54e5cf2778d9037c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-18&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJG"}}
{"Timestamp":"2024-11-10T22:34:32.2601150+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"051cf1ecf313eb2fdceabcd4b63846c3","SpanId":"5d9ec734130bf12f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-18&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJH"}}
{"Timestamp":"2024-11-10T22:34:32.2654587+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b557807d3f10e4f7c1113880c61f808e","SpanId":"54e5cf2778d9037c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJG"}}
{"Timestamp":"2024-11-10T22:34:32.2667599+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"051cf1ecf313eb2fdceabcd4b63846c3","SpanId":"5d9ec734130bf12f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJH"}}
{"Timestamp":"2024-11-10T22:34:32.2672411+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b557807d3f10e4f7c1113880c61f808e","SpanId":"54e5cf2778d9037c","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJG"}}
{"Timestamp":"2024-11-10T22:34:32.2677811+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"051cf1ecf313eb2fdceabcd4b63846c3","SpanId":"5d9ec734130bf12f","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJH"}}
{"Timestamp":"2024-11-10T22:34:32.2698586+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b557807d3f10e4f7c1113880c61f808e","SpanId":"54e5cf2778d9037c","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJG"}}
{"Timestamp":"2024-11-10T22:34:32.2719278+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b557807d3f10e4f7c1113880c61f808e","SpanId":"54e5cf2778d9037c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJG"}}
{"Timestamp":"2024-11-10T22:34:32.2730811+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b557807d3f10e4f7c1113880c61f808e","SpanId":"54e5cf2778d9037c","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":4.303,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMJG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJG"}}
{"Timestamp":"2024-11-10T22:34:32.2741549+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"051cf1ecf313eb2fdceabcd4b63846c3","SpanId":"5d9ec734130bf12f","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJH"}}
{"Timestamp":"2024-11-10T22:34:32.2746201+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b557807d3f10e4f7c1113880c61f808e","SpanId":"54e5cf2778d9037c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJG"}}
{"Timestamp":"2024-11-10T22:34:32.2762777+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"051cf1ecf313eb2fdceabcd4b63846c3","SpanId":"5d9ec734130bf12f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJH"}}
{"Timestamp":"2024-11-10T22:34:32.2769925+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b557807d3f10e4f7c1113880c61f808e","SpanId":"54e5cf2778d9037c","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":11.9962,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.9962"}]}}
{"Timestamp":"2024-11-10T22:34:32.2779493+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"051cf1ecf313eb2fdceabcd4b63846c3","SpanId":"5d9ec734130bf12f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":7.7526,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMJH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJH"}}
{"Timestamp":"2024-11-10T22:34:32.2801930+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b557807d3f10e4f7c1113880c61f808e","SpanId":"54e5cf2778d9037c","Properties":{"ElapsedMilliseconds":23.2272,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-18&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJG"}}
{"Timestamp":"2024-11-10T22:34:32.2814334+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"051cf1ecf313eb2fdceabcd4b63846c3","SpanId":"5d9ec734130bf12f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJH"}}
{"Timestamp":"2024-11-10T22:34:32.2851306+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"051cf1ecf313eb2fdceabcd4b63846c3","SpanId":"5d9ec734130bf12f","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":18.4851,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.4851"}]}}
{"Timestamp":"2024-11-10T22:34:32.2866884+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"051cf1ecf313eb2fdceabcd4b63846c3","SpanId":"5d9ec734130bf12f","Properties":{"ElapsedMilliseconds":26.7564,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-18&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJH"}}
{"Timestamp":"2024-11-10T22:34:33.8538902+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cdb0a1e2fcea5aeedba0766214dee6ec","SpanId":"242dfe1546eed97b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJI"}}
{"Timestamp":"2024-11-10T22:34:33.8585336+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cdb0a1e2fcea5aeedba0766214dee6ec","SpanId":"242dfe1546eed97b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJI"}}
{"Timestamp":"2024-11-10T22:34:33.8593877+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cdb0a1e2fcea5aeedba0766214dee6ec","SpanId":"242dfe1546eed97b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJI"}}
{"Timestamp":"2024-11-10T22:34:33.8696266+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cdb0a1e2fcea5aeedba0766214dee6ec","SpanId":"242dfe1546eed97b","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJI"}}
{"Timestamp":"2024-11-10T22:34:33.8757549+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cdb0a1e2fcea5aeedba0766214dee6ec","SpanId":"242dfe1546eed97b","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJI"}}
{"Timestamp":"2024-11-10T22:34:33.8793400+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cdb0a1e2fcea5aeedba0766214dee6ec","SpanId":"242dfe1546eed97b","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJI"}}
{"Timestamp":"2024-11-10T22:34:33.8816277+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cdb0a1e2fcea5aeedba0766214dee6ec","SpanId":"242dfe1546eed97b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.5126,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMJI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJI"}}
{"Timestamp":"2024-11-10T22:34:33.8832045+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cdb0a1e2fcea5aeedba0766214dee6ec","SpanId":"242dfe1546eed97b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJI"}}
{"Timestamp":"2024-11-10T22:34:33.8846493+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cdb0a1e2fcea5aeedba0766214dee6ec","SpanId":"242dfe1546eed97b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":26.1595,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.1595"}]}}
{"Timestamp":"2024-11-10T22:34:33.8860181+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cdb0a1e2fcea5aeedba0766214dee6ec","SpanId":"242dfe1546eed97b","Properties":{"ElapsedMilliseconds":32.1542,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJI"}}
{"Timestamp":"2024-11-10T22:34:33.8885549+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"88d1096c8c7df88f9ac6bd50647ff645","SpanId":"94b4478b199c19dd","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJJ"}}
{"Timestamp":"2024-11-10T22:34:33.8911759+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"88d1096c8c7df88f9ac6bd50647ff645","SpanId":"94b4478b199c19dd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJJ"}}
{"Timestamp":"2024-11-10T22:34:33.8921683+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"88d1096c8c7df88f9ac6bd50647ff645","SpanId":"94b4478b199c19dd","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJJ"}}
{"Timestamp":"2024-11-10T22:34:33.8981178+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"88d1096c8c7df88f9ac6bd50647ff645","SpanId":"94b4478b199c19dd","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJJ"}}
{"Timestamp":"2024-11-10T22:34:33.9004951+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"88d1096c8c7df88f9ac6bd50647ff645","SpanId":"94b4478b199c19dd","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJJ"}}
{"Timestamp":"2024-11-10T22:34:33.9014135+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"88d1096c8c7df88f9ac6bd50647ff645","SpanId":"94b4478b199c19dd","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.2172,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMJJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJJ"}}
{"Timestamp":"2024-11-10T22:34:33.9023133+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"88d1096c8c7df88f9ac6bd50647ff645","SpanId":"94b4478b199c19dd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJJ"}}
{"Timestamp":"2024-11-10T22:34:33.9033675+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"88d1096c8c7df88f9ac6bd50647ff645","SpanId":"94b4478b199c19dd","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":12.4249,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.4249"}]}}
{"Timestamp":"2024-11-10T22:34:33.9044377+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"88d1096c8c7df88f9ac6bd50647ff645","SpanId":"94b4478b199c19dd","Properties":{"ElapsedMilliseconds":16.0078,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJJ"}}
{"Timestamp":"2024-11-10T22:34:34.0376217+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1f0d29f4307a230f2b598df6b0744e48","SpanId":"d14cf37331c42d1e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJK"}}
{"Timestamp":"2024-11-10T22:34:34.0409884+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1f0d29f4307a230f2b598df6b0744e48","SpanId":"d14cf37331c42d1e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJK"}}
{"Timestamp":"2024-11-10T22:34:34.0418442+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1eb5867de08693e56ce701a64f8e03f8","SpanId":"5e771c0844b914ce","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJL"}}
{"Timestamp":"2024-11-10T22:34:34.0424092+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1f0d29f4307a230f2b598df6b0744e48","SpanId":"d14cf37331c42d1e","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJK"}}
{"Timestamp":"2024-11-10T22:34:34.0437342+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1eb5867de08693e56ce701a64f8e03f8","SpanId":"5e771c0844b914ce","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJL"}}
{"Timestamp":"2024-11-10T22:34:34.0467891+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1eb5867de08693e56ce701a64f8e03f8","SpanId":"5e771c0844b914ce","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJL"}}
{"Timestamp":"2024-11-10T22:34:34.0478505+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1f0d29f4307a230f2b598df6b0744e48","SpanId":"d14cf37331c42d1e","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJK"}}
{"Timestamp":"2024-11-10T22:34:34.0510086+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1eb5867de08693e56ce701a64f8e03f8","SpanId":"5e771c0844b914ce","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJL"}}
{"Timestamp":"2024-11-10T22:34:34.0516340+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1f0d29f4307a230f2b598df6b0744e48","SpanId":"d14cf37331c42d1e","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJK"}}
{"Timestamp":"2024-11-10T22:34:34.0568080+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1eb5867de08693e56ce701a64f8e03f8","SpanId":"5e771c0844b914ce","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJL"}}
{"Timestamp":"2024-11-10T22:34:34.0572430+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1f0d29f4307a230f2b598df6b0744e48","SpanId":"d14cf37331c42d1e","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJK"}}
{"Timestamp":"2024-11-10T22:34:34.0594715+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1eb5867de08693e56ce701a64f8e03f8","SpanId":"5e771c0844b914ce","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJL"}}
{"Timestamp":"2024-11-10T22:34:34.0610530+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1f0d29f4307a230f2b598df6b0744e48","SpanId":"d14cf37331c42d1e","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.3395,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMJK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJK"}}
{"Timestamp":"2024-11-10T22:34:34.0626542+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1eb5867de08693e56ce701a64f8e03f8","SpanId":"5e771c0844b914ce","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":14.6875,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJL"}}
{"Timestamp":"2024-11-10T22:34:34.0637343+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1f0d29f4307a230f2b598df6b0744e48","SpanId":"d14cf37331c42d1e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJK"}}
{"Timestamp":"2024-11-10T22:34:34.0653457+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1eb5867de08693e56ce701a64f8e03f8","SpanId":"5e771c0844b914ce","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJL"}}
{"Timestamp":"2024-11-10T22:34:34.0671981+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1f0d29f4307a230f2b598df6b0744e48","SpanId":"d14cf37331c42d1e","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":26.495,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.4950"}]}}
{"Timestamp":"2024-11-10T22:34:34.0682791+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1eb5867de08693e56ce701a64f8e03f8","SpanId":"5e771c0844b914ce","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":24.5625,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.5625"}]}}
{"Timestamp":"2024-11-10T22:34:34.0699092+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1f0d29f4307a230f2b598df6b0744e48","SpanId":"d14cf37331c42d1e","Properties":{"ElapsedMilliseconds":32.3018,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJK"}}
{"Timestamp":"2024-11-10T22:34:34.0741664+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d19b1e154c5947f02f8a95305873371e","SpanId":"681839fc2288b12d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJM"}}
{"Timestamp":"2024-11-10T22:34:34.0721217+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1eb5867de08693e56ce701a64f8e03f8","SpanId":"5e771c0844b914ce","Properties":{"ElapsedMilliseconds":30.3313,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJL"}}
{"Timestamp":"2024-11-10T22:34:34.0751598+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"71120c6fc86f53a06a6f49c03b2b19fe","SpanId":"a64353912da23428","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJN"}}
{"Timestamp":"2024-11-10T22:34:34.0789814+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d19b1e154c5947f02f8a95305873371e","SpanId":"681839fc2288b12d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJM"}}
{"Timestamp":"2024-11-10T22:34:34.0888727+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"71120c6fc86f53a06a6f49c03b2b19fe","SpanId":"a64353912da23428","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJN"}}
{"Timestamp":"2024-11-10T22:34:34.0898254+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d19b1e154c5947f02f8a95305873371e","SpanId":"681839fc2288b12d","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJM"}}
{"Timestamp":"2024-11-10T22:34:34.0906901+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"71120c6fc86f53a06a6f49c03b2b19fe","SpanId":"a64353912da23428","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJN"}}
{"Timestamp":"2024-11-10T22:34:34.0996660+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d19b1e154c5947f02f8a95305873371e","SpanId":"681839fc2288b12d","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJM"}}
{"Timestamp":"2024-11-10T22:34:34.1014429+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d19b1e154c5947f02f8a95305873371e","SpanId":"681839fc2288b12d","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJM"}}
{"Timestamp":"2024-11-10T22:34:34.1026607+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d19b1e154c5947f02f8a95305873371e","SpanId":"681839fc2288b12d","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":9.9416,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMJM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJM"}}
{"Timestamp":"2024-11-10T22:34:34.1035990+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"71120c6fc86f53a06a6f49c03b2b19fe","SpanId":"a64353912da23428","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJN"}}
{"Timestamp":"2024-11-10T22:34:34.1038082+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d19b1e154c5947f02f8a95305873371e","SpanId":"681839fc2288b12d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJM"}}
{"Timestamp":"2024-11-10T22:34:34.1056395+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"71120c6fc86f53a06a6f49c03b2b19fe","SpanId":"a64353912da23428","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJN"}}
{"Timestamp":"2024-11-10T22:34:34.1063053+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d19b1e154c5947f02f8a95305873371e","SpanId":"681839fc2288b12d","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":27.7891,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.7891"}]}}
{"Timestamp":"2024-11-10T22:34:34.1073379+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"71120c6fc86f53a06a6f49c03b2b19fe","SpanId":"a64353912da23428","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":13.0451,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMJN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJN"}}
{"Timestamp":"2024-11-10T22:34:34.1093333+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d19b1e154c5947f02f8a95305873371e","SpanId":"681839fc2288b12d","Properties":{"ElapsedMilliseconds":35.1872,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJM"}}
{"Timestamp":"2024-11-10T22:34:34.1103691+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"71120c6fc86f53a06a6f49c03b2b19fe","SpanId":"a64353912da23428","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJN"}}
{"Timestamp":"2024-11-10T22:34:34.1145158+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"71120c6fc86f53a06a6f49c03b2b19fe","SpanId":"a64353912da23428","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":26.0793,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.0793"}]}}
{"Timestamp":"2024-11-10T22:34:34.1158904+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"71120c6fc86f53a06a6f49c03b2b19fe","SpanId":"a64353912da23428","Properties":{"ElapsedMilliseconds":40.9226,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJN"}}
{"Timestamp":"2024-11-10T22:34:35.6372263+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ee2a47750e01b3ffc993ec5daaacbba0","SpanId":"b33ffe9f2ddf3e4b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJO"}}
{"Timestamp":"2024-11-10T22:34:35.6393146+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ee2a47750e01b3ffc993ec5daaacbba0","SpanId":"b33ffe9f2ddf3e4b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJO"}}
{"Timestamp":"2024-11-10T22:34:35.6402358+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ee2a47750e01b3ffc993ec5daaacbba0","SpanId":"b33ffe9f2ddf3e4b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJO"}}
{"Timestamp":"2024-11-10T22:34:35.6490348+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ee2a47750e01b3ffc993ec5daaacbba0","SpanId":"b33ffe9f2ddf3e4b","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJO"}}
{"Timestamp":"2024-11-10T22:34:35.6529926+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ee2a47750e01b3ffc993ec5daaacbba0","SpanId":"b33ffe9f2ddf3e4b","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJO"}}
{"Timestamp":"2024-11-10T22:34:35.6547808+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ee2a47750e01b3ffc993ec5daaacbba0","SpanId":"b33ffe9f2ddf3e4b","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJO"}}
{"Timestamp":"2024-11-10T22:34:35.6559258+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ee2a47750e01b3ffc993ec5daaacbba0","SpanId":"b33ffe9f2ddf3e4b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.6703,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMJO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJO"}}
{"Timestamp":"2024-11-10T22:34:35.6572134+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ee2a47750e01b3ffc993ec5daaacbba0","SpanId":"b33ffe9f2ddf3e4b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJO"}}
{"Timestamp":"2024-11-10T22:34:35.6582256+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ee2a47750e01b3ffc993ec5daaacbba0","SpanId":"b33ffe9f2ddf3e4b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":18.9573,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.9573"}]}}
{"Timestamp":"2024-11-10T22:34:35.6600609+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ee2a47750e01b3ffc993ec5daaacbba0","SpanId":"b33ffe9f2ddf3e4b","Properties":{"ElapsedMilliseconds":22.9704,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJO"}}
{"Timestamp":"2024-11-10T22:34:35.6625691+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"13f1bd4850850304f7dccccfc700720c","SpanId":"62c9ddbf320941fe","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJP"}}
{"Timestamp":"2024-11-10T22:34:35.6665577+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"13f1bd4850850304f7dccccfc700720c","SpanId":"62c9ddbf320941fe","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJP"}}
{"Timestamp":"2024-11-10T22:34:35.6677401+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"13f1bd4850850304f7dccccfc700720c","SpanId":"62c9ddbf320941fe","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJP"}}
{"Timestamp":"2024-11-10T22:34:35.6735326+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"13f1bd4850850304f7dccccfc700720c","SpanId":"62c9ddbf320941fe","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJP"}}
{"Timestamp":"2024-11-10T22:34:35.6753920+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"13f1bd4850850304f7dccccfc700720c","SpanId":"62c9ddbf320941fe","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJP"}}
{"Timestamp":"2024-11-10T22:34:35.6764395+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"13f1bd4850850304f7dccccfc700720c","SpanId":"62c9ddbf320941fe","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":7.3072,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMJP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJP"}}
{"Timestamp":"2024-11-10T22:34:35.6775643+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"13f1bd4850850304f7dccccfc700720c","SpanId":"62c9ddbf320941fe","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJP"}}
{"Timestamp":"2024-11-10T22:34:35.6784522+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"13f1bd4850850304f7dccccfc700720c","SpanId":"62c9ddbf320941fe","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":12.6171,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.6171"}]}}
{"Timestamp":"2024-11-10T22:34:35.6800731+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"13f1bd4850850304f7dccccfc700720c","SpanId":"62c9ddbf320941fe","Properties":{"ElapsedMilliseconds":17.4616,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJP"}}
{"Timestamp":"2024-11-10T22:34:35.8276730+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"11b9b8b6febb51991cc312db053bb34c","SpanId":"26c2ea496c2ea32c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJQ"}}
{"Timestamp":"2024-11-10T22:34:35.8313114+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"11b9b8b6febb51991cc312db053bb34c","SpanId":"26c2ea496c2ea32c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJQ"}}
{"Timestamp":"2024-11-10T22:34:35.8325203+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"11b9b8b6febb51991cc312db053bb34c","SpanId":"26c2ea496c2ea32c","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJQ"}}
{"Timestamp":"2024-11-10T22:34:35.8326367+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9684d62cf725ee7611c9bf3e58c1bd59","SpanId":"97b11ade53b3ee69","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJR"}}
{"Timestamp":"2024-11-10T22:34:35.8376321+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"11b9b8b6febb51991cc312db053bb34c","SpanId":"26c2ea496c2ea32c","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJQ"}}
{"Timestamp":"2024-11-10T22:34:35.8378162+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9684d62cf725ee7611c9bf3e58c1bd59","SpanId":"97b11ade53b3ee69","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJR"}}
{"Timestamp":"2024-11-10T22:34:35.8408423+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"11b9b8b6febb51991cc312db053bb34c","SpanId":"26c2ea496c2ea32c","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJQ"}}
{"Timestamp":"2024-11-10T22:34:35.8411242+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9684d62cf725ee7611c9bf3e58c1bd59","SpanId":"97b11ade53b3ee69","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJR"}}
{"Timestamp":"2024-11-10T22:34:35.8427962+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"11b9b8b6febb51991cc312db053bb34c","SpanId":"26c2ea496c2ea32c","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJQ"}}
{"Timestamp":"2024-11-10T22:34:35.8459003+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"11b9b8b6febb51991cc312db053bb34c","SpanId":"26c2ea496c2ea32c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":11.617,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMJQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJQ"}}
{"Timestamp":"2024-11-10T22:34:35.8521770+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9684d62cf725ee7611c9bf3e58c1bd59","SpanId":"97b11ade53b3ee69","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJR"}}
{"Timestamp":"2024-11-10T22:34:35.8527131+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"11b9b8b6febb51991cc312db053bb34c","SpanId":"26c2ea496c2ea32c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJQ"}}
{"Timestamp":"2024-11-10T22:34:35.8579132+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"11b9b8b6febb51991cc312db053bb34c","SpanId":"26c2ea496c2ea32c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":26.7457,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.7457"}]}}
{"Timestamp":"2024-11-10T22:34:35.8582563+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9684d62cf725ee7611c9bf3e58c1bd59","SpanId":"97b11ade53b3ee69","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJR"}}
{"Timestamp":"2024-11-10T22:34:35.8594917+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"11b9b8b6febb51991cc312db053bb34c","SpanId":"26c2ea496c2ea32c","Properties":{"ElapsedMilliseconds":31.8417,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJQ"}}
{"Timestamp":"2024-11-10T22:34:35.8618931+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9684d62cf725ee7611c9bf3e58c1bd59","SpanId":"97b11ade53b3ee69","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJR"}}
{"Timestamp":"2024-11-10T22:34:35.8636633+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"62de9701f64f98d109a3546f9a2319df","SpanId":"77912a784a645818","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJS"}}
{"Timestamp":"2024-11-10T22:34:35.8678203+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9684d62cf725ee7611c9bf3e58c1bd59","SpanId":"97b11ade53b3ee69","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":24.0021,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJR"}}
{"Timestamp":"2024-11-10T22:34:35.8708154+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"62de9701f64f98d109a3546f9a2319df","SpanId":"77912a784a645818","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJS"}}
{"Timestamp":"2024-11-10T22:34:35.8721924+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9684d62cf725ee7611c9bf3e58c1bd59","SpanId":"97b11ade53b3ee69","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJR"}}
{"Timestamp":"2024-11-10T22:34:35.8731979+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"62de9701f64f98d109a3546f9a2319df","SpanId":"77912a784a645818","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJS"}}
{"Timestamp":"2024-11-10T22:34:35.8740827+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9684d62cf725ee7611c9bf3e58c1bd59","SpanId":"97b11ade53b3ee69","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":36.3418,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"36.3418"}]}}
{"Timestamp":"2024-11-10T22:34:35.8781538+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"62de9701f64f98d109a3546f9a2319df","SpanId":"77912a784a645818","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJS"}}
{"Timestamp":"2024-11-10T22:34:35.8782614+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9684d62cf725ee7611c9bf3e58c1bd59","SpanId":"97b11ade53b3ee69","Properties":{"ElapsedMilliseconds":45.6906,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJR"}}
{"Timestamp":"2024-11-10T22:34:35.8815926+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"eaa94199727e9e6915a707581fe74109","SpanId":"f62b7d4ea76891be","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJT"}}
{"Timestamp":"2024-11-10T22:34:35.8823892+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"62de9701f64f98d109a3546f9a2319df","SpanId":"77912a784a645818","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJS"}}
{"Timestamp":"2024-11-10T22:34:35.8871029+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"eaa94199727e9e6915a707581fe74109","SpanId":"f62b7d4ea76891be","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJT"}}
{"Timestamp":"2024-11-10T22:34:35.8879410+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"62de9701f64f98d109a3546f9a2319df","SpanId":"77912a784a645818","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":11.8983,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMJS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJS"}}
{"Timestamp":"2024-11-10T22:34:35.8887015+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"eaa94199727e9e6915a707581fe74109","SpanId":"f62b7d4ea76891be","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJT"}}
{"Timestamp":"2024-11-10T22:34:35.8895929+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"62de9701f64f98d109a3546f9a2319df","SpanId":"77912a784a645818","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJS"}}
{"Timestamp":"2024-11-10T22:34:35.8920293+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"62de9701f64f98d109a3546f9a2319df","SpanId":"77912a784a645818","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":21.5179,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.5179"}]}}
{"Timestamp":"2024-11-10T22:34:35.8933157+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"62de9701f64f98d109a3546f9a2319df","SpanId":"77912a784a645818","Properties":{"ElapsedMilliseconds":29.6574,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJS"}}
{"Timestamp":"2024-11-10T22:34:35.8958938+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"eaa94199727e9e6915a707581fe74109","SpanId":"f62b7d4ea76891be","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJT"}}
{"Timestamp":"2024-11-10T22:34:35.8985968+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"eaa94199727e9e6915a707581fe74109","SpanId":"f62b7d4ea76891be","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJT"}}
{"Timestamp":"2024-11-10T22:34:35.8994594+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"eaa94199727e9e6915a707581fe74109","SpanId":"f62b7d4ea76891be","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":8.5435,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMJT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJT"}}
{"Timestamp":"2024-11-10T22:34:35.9002837+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"eaa94199727e9e6915a707581fe74109","SpanId":"f62b7d4ea76891be","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJT"}}
{"Timestamp":"2024-11-10T22:34:35.9010638+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"eaa94199727e9e6915a707581fe74109","SpanId":"f62b7d4ea76891be","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":14.0936,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.0936"}]}}
{"Timestamp":"2024-11-10T22:34:35.9021315+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"eaa94199727e9e6915a707581fe74109","SpanId":"f62b7d4ea76891be","Properties":{"ElapsedMilliseconds":20.6202,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMJT"}}
{"Timestamp":"2024-11-10T22:34:37.9028121+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"75d9b9041be4c0fd5a7838adf22dba64","SpanId":"c4a9c318e54099d6","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJU"}}
{"Timestamp":"2024-11-10T22:34:37.9066754+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"75d9b9041be4c0fd5a7838adf22dba64","SpanId":"c4a9c318e54099d6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJU"}}
{"Timestamp":"2024-11-10T22:34:37.9082114+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"75d9b9041be4c0fd5a7838adf22dba64","SpanId":"c4a9c318e54099d6","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJU"}}
{"Timestamp":"2024-11-10T22:34:37.9195198+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"75d9b9041be4c0fd5a7838adf22dba64","SpanId":"c4a9c318e54099d6","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJU"}}
{"Timestamp":"2024-11-10T22:34:37.9243119+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"75d9b9041be4c0fd5a7838adf22dba64","SpanId":"c4a9c318e54099d6","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJU"}}
{"Timestamp":"2024-11-10T22:34:37.9261480+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"75d9b9041be4c0fd5a7838adf22dba64","SpanId":"c4a9c318e54099d6","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMJU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJU"}}
{"Timestamp":"2024-11-10T22:34:37.9274598+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"75d9b9041be4c0fd5a7838adf22dba64","SpanId":"c4a9c318e54099d6","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.3717,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMJU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJU"}}
{"Timestamp":"2024-11-10T22:34:37.9285879+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"75d9b9041be4c0fd5a7838adf22dba64","SpanId":"c4a9c318e54099d6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJU"}}
{"Timestamp":"2024-11-10T22:34:37.9294400+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"75d9b9041be4c0fd5a7838adf22dba64","SpanId":"c4a9c318e54099d6","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":22.8173,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.8173"}]}}
{"Timestamp":"2024-11-10T22:34:37.9312537+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"75d9b9041be4c0fd5a7838adf22dba64","SpanId":"c4a9c318e54099d6","Properties":{"ElapsedMilliseconds":28.5684,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMJU"}}
{"Timestamp":"2024-11-10T22:34:37.9346109+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9a14db0d47457c7ec54686e138e19eb5","SpanId":"dbeeb123540900ce","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJV"}}
{"Timestamp":"2024-11-10T22:34:37.9367061+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9a14db0d47457c7ec54686e138e19eb5","SpanId":"dbeeb123540900ce","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJV"}}
{"Timestamp":"2024-11-10T22:34:37.9378147+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9a14db0d47457c7ec54686e138e19eb5","SpanId":"dbeeb123540900ce","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJV"}}
{"Timestamp":"2024-11-10T22:34:37.9435053+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9a14db0d47457c7ec54686e138e19eb5","SpanId":"dbeeb123540900ce","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJV"}}
{"Timestamp":"2024-11-10T22:34:37.9460008+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9a14db0d47457c7ec54686e138e19eb5","SpanId":"dbeeb123540900ce","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMJV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJV"}}
{"Timestamp":"2024-11-10T22:34:37.9479559+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9a14db0d47457c7ec54686e138e19eb5","SpanId":"dbeeb123540900ce","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.6369,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMJV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJV"}}
{"Timestamp":"2024-11-10T22:34:37.9500606+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9a14db0d47457c7ec54686e138e19eb5","SpanId":"dbeeb123540900ce","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMJV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJV"}}
{"Timestamp":"2024-11-10T22:34:37.9515159+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9a14db0d47457c7ec54686e138e19eb5","SpanId":"dbeeb123540900ce","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":15.0157,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.0157"}]}}
{"Timestamp":"2024-11-10T22:34:37.9533405+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9a14db0d47457c7ec54686e138e19eb5","SpanId":"dbeeb123540900ce","Properties":{"ElapsedMilliseconds":18.8863,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMJV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMJV"}}
{"Timestamp":"2024-11-10T22:34:38.0551556+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"81c5c09cc3d9dd49fcd03a0d82526060","SpanId":"ffa39540739ce3ea","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMK0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMK0"}}
{"Timestamp":"2024-11-10T22:34:38.0605894+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"81c5c09cc3d9dd49fcd03a0d82526060","SpanId":"ffa39540739ce3ea","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMK0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMK0"}}
{"Timestamp":"2024-11-10T22:34:38.0611204+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3896676d961aa510962f1f8ffb47555d","SpanId":"d6156a29c1a9889d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMK1"}}
{"Timestamp":"2024-11-10T22:34:38.0616437+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"81c5c09cc3d9dd49fcd03a0d82526060","SpanId":"ffa39540739ce3ea","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMK0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMK0"}}
{"Timestamp":"2024-11-10T22:34:38.0635451+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3896676d961aa510962f1f8ffb47555d","SpanId":"d6156a29c1a9889d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMK1"}}
{"Timestamp":"2024-11-10T22:34:38.0670920+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3896676d961aa510962f1f8ffb47555d","SpanId":"d6156a29c1a9889d","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMK1"}}
{"Timestamp":"2024-11-10T22:34:38.0733474+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"81c5c09cc3d9dd49fcd03a0d82526060","SpanId":"ffa39540739ce3ea","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMK0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMK0"}}
{"Timestamp":"2024-11-10T22:34:38.0752360+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3896676d961aa510962f1f8ffb47555d","SpanId":"d6156a29c1a9889d","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMK1"}}
{"Timestamp":"2024-11-10T22:34:38.0842852+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"81c5c09cc3d9dd49fcd03a0d82526060","SpanId":"ffa39540739ce3ea","Properties":{"elapsed":"8","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMK0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMK0"}}
{"Timestamp":"2024-11-10T22:34:38.0861444+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3896676d961aa510962f1f8ffb47555d","SpanId":"d6156a29c1a9889d","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMK1"}}
{"Timestamp":"2024-11-10T22:34:38.0880620+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"81c5c09cc3d9dd49fcd03a0d82526060","SpanId":"ffa39540739ce3ea","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMK0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMK0"}}
{"Timestamp":"2024-11-10T22:34:38.0900888+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3896676d961aa510962f1f8ffb47555d","SpanId":"d6156a29c1a9889d","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"90ad25d1-ee7b-41a4-81d3-d096a62ad785","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JJFDTMK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMK1"}}
{"Timestamp":"2024-11-10T22:34:38.0907979+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"81c5c09cc3d9dd49fcd03a0d82526060","SpanId":"ffa39540739ce3ea","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":25.9598,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMK0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMK0"}}
{"Timestamp":"2024-11-10T22:34:38.0919900+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3896676d961aa510962f1f8ffb47555d","SpanId":"d6156a29c1a9889d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":22.188,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMK1"}}
{"Timestamp":"2024-11-10T22:34:38.0932983+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"81c5c09cc3d9dd49fcd03a0d82526060","SpanId":"ffa39540739ce3ea","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMK0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMK0"}}
{"Timestamp":"2024-11-10T22:34:38.0956624+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3896676d961aa510962f1f8ffb47555d","SpanId":"d6156a29c1a9889d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMK1"}}
{"Timestamp":"2024-11-10T22:34:38.0964211+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"81c5c09cc3d9dd49fcd03a0d82526060","SpanId":"ffa39540739ce3ea","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":35.9429,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.9429"}]}}
{"Timestamp":"2024-11-10T22:34:38.0971538+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3896676d961aa510962f1f8ffb47555d","SpanId":"d6156a29c1a9889d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":33.672,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.6720"}]}}
{"Timestamp":"2024-11-10T22:34:38.0994997+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"81c5c09cc3d9dd49fcd03a0d82526060","SpanId":"ffa39540739ce3ea","Properties":{"ElapsedMilliseconds":44.4886,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMK0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMK0"}}
{"Timestamp":"2024-11-10T22:34:38.1014710+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3896676d961aa510962f1f8ffb47555d","SpanId":"d6156a29c1a9889d","Properties":{"ElapsedMilliseconds":40.4242,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JJFDTMK1"}}
{"Timestamp":"2024-11-10T22:34:38.1048033+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"05e1784a56695b7c36bc92b43386fa5b","SpanId":"d70dc28c8a486ff2","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMK2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMK2"}}
{"Timestamp":"2024-11-10T22:34:38.1071961+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"eef097e7e3fb54d1dbedd7e0a9d9d30f","SpanId":"34dbe7b2975f38aa","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMK3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMK3"}}
{"Timestamp":"2024-11-10T22:34:38.1129231+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"05e1784a56695b7c36bc92b43386fa5b","SpanId":"d70dc28c8a486ff2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMK2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMK2"}}
{"Timestamp":"2024-11-10T22:34:38.1152737+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"eef097e7e3fb54d1dbedd7e0a9d9d30f","SpanId":"34dbe7b2975f38aa","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMK3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMK3"}}
{"Timestamp":"2024-11-10T22:34:38.1157260+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"05e1784a56695b7c36bc92b43386fa5b","SpanId":"d70dc28c8a486ff2","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMK2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMK2"}}
{"Timestamp":"2024-11-10T22:34:38.1164309+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"eef097e7e3fb54d1dbedd7e0a9d9d30f","SpanId":"34dbe7b2975f38aa","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMK3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMK3"}}
{"Timestamp":"2024-11-10T22:34:38.1264300+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"05e1784a56695b7c36bc92b43386fa5b","SpanId":"d70dc28c8a486ff2","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMK2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMK2"}}
{"Timestamp":"2024-11-10T22:34:38.1280311+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"eef097e7e3fb54d1dbedd7e0a9d9d30f","SpanId":"34dbe7b2975f38aa","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMK3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMK3"}}
{"Timestamp":"2024-11-10T22:34:38.1284879+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"05e1784a56695b7c36bc92b43386fa5b","SpanId":"d70dc28c8a486ff2","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"edfc6c92-caad-4313-acd9-0474f0c9e155","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMK2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMK2"}}
{"Timestamp":"2024-11-10T22:34:38.1303044+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"eef097e7e3fb54d1dbedd7e0a9d9d30f","SpanId":"34dbe7b2975f38aa","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d6a9af16-2142-4c37-ad14-590e16842a52","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JJFDTMK3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMK3"}}
{"Timestamp":"2024-11-10T22:34:38.1322562+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"05e1784a56695b7c36bc92b43386fa5b","SpanId":"d70dc28c8a486ff2","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":14.5349,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMK2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMK2"}}
{"Timestamp":"2024-11-10T22:34:38.1334621+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"eef097e7e3fb54d1dbedd7e0a9d9d30f","SpanId":"34dbe7b2975f38aa","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":13.7906,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JJFDTMK3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMK3"}}
{"Timestamp":"2024-11-10T22:34:38.1344894+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"05e1784a56695b7c36bc92b43386fa5b","SpanId":"d70dc28c8a486ff2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMK2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMK2"}}
{"Timestamp":"2024-11-10T22:34:38.1360817+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"eef097e7e3fb54d1dbedd7e0a9d9d30f","SpanId":"34dbe7b2975f38aa","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JJFDTMK3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMK3"}}
{"Timestamp":"2024-11-10T22:34:38.1377083+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"eef097e7e3fb54d1dbedd7e0a9d9d30f","SpanId":"34dbe7b2975f38aa","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":22.7111,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.7111"}]}}
{"Timestamp":"2024-11-10T22:34:38.1370495+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"05e1784a56695b7c36bc92b43386fa5b","SpanId":"d70dc28c8a486ff2","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":24.6537,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.6537"}]}}
{"Timestamp":"2024-11-10T22:34:38.1394097+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"eef097e7e3fb54d1dbedd7e0a9d9d30f","SpanId":"34dbe7b2975f38aa","Properties":{"ElapsedMilliseconds":32.2568,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMK3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JJFDTMK3"}}
{"Timestamp":"2024-11-10T22:34:38.1407542+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"05e1784a56695b7c36bc92b43386fa5b","SpanId":"d70dc28c8a486ff2","Properties":{"ElapsedMilliseconds":36.0072,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JJFDTMK2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JJFDTMK2"}}
{"Timestamp":"2024-11-10T22:47:57.4369469+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-10T22:47:57.9746303+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T22:47:58.0929945+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T22:47:58.0948270+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T22:47:58.0958652+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T22:47:58.2946895+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f6cddf0ae3139c7fdb3d61704214810b","SpanId":"678f20d1b5a17363","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JS69UOOS:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN81JS69UOOS"}}
{"Timestamp":"2024-11-10T22:47:58.5759234+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f6cddf0ae3139c7fdb3d61704214810b","SpanId":"678f20d1b5a17363","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":140.387,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"140.3870"}]}}
{"Timestamp":"2024-11-10T22:47:58.5857251+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e46fb497a3a941a7f9788e259ae2ce4d","SpanId":"458da2a8ef9604ca","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JS69UOOU:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN81JS69UOOU"}}
{"Timestamp":"2024-11-10T22:47:58.5879954+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"275402b637df990861fee95318504c0e","SpanId":"0818dc8d4da70637","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JS69UOOT:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN81JS69UOOT"}}
{"Timestamp":"2024-11-10T22:47:58.6051119+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"275402b637df990861fee95318504c0e","SpanId":"0818dc8d4da70637","Properties":{"ElapsedMilliseconds":16.9001,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JS69UOOT:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN81JS69UOOT"}}
{"Timestamp":"2024-11-10T22:47:58.6051120+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f6cddf0ae3139c7fdb3d61704214810b","SpanId":"678f20d1b5a17363","Properties":{"ElapsedMilliseconds":323.4107,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JS69UOOS:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN81JS69UOOS"}}
{"Timestamp":"2024-11-10T22:47:58.6433488+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e46fb497a3a941a7f9788e259ae2ce4d","SpanId":"458da2a8ef9604ca","Properties":{"ElapsedMilliseconds":57.8553,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JS69UOOU:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN81JS69UOOU"}}
{"Timestamp":"2024-11-10T22:47:58.7086541+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f7edeeb11ba36982cc2aafc804a1e408","SpanId":"42f3fbdea45f0e86","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JS69UOOU:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN81JS69UOOU"}}
{"Timestamp":"2024-11-10T22:47:58.8518347+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f7edeeb11ba36982cc2aafc804a1e408","SpanId":"42f3fbdea45f0e86","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":138.2039,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"138.2039"}]}}
{"Timestamp":"2024-11-10T22:47:58.8546935+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f7edeeb11ba36982cc2aafc804a1e408","SpanId":"42f3fbdea45f0e86","Properties":{"ElapsedMilliseconds":146.0642,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JS69UOOU:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN81JS69UOOU"}}
{"Timestamp":"2024-11-10T22:48:20.9034885+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-10T22:48:21.1677433+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T22:48:21.2465023+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T22:48:21.2489671+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T22:48:21.2500096+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T22:48:21.8877048+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dec59498c60ab6cad1c3a055cbb0a730","SpanId":"4c7490ca22105909","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UIP:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN81JSDB1UIP"}}
{"Timestamp":"2024-11-10T22:48:22.2333933+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"dec59498c60ab6cad1c3a055cbb0a730","SpanId":"4c7490ca22105909","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":99.4405,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"99.4405"}]}}
{"Timestamp":"2024-11-10T22:48:22.2385442+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"180019bd580a419fb34c962d9c2221c3","SpanId":"57050173fb814137","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UIQ:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN81JSDB1UIQ"}}
{"Timestamp":"2024-11-10T22:48:22.2505021+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5b3846accbb4ab7dc1315da3d0b3de12","SpanId":"e343855cb2f443cf","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UIR:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN81JSDB1UIR"}}
{"Timestamp":"2024-11-10T22:48:22.2655186+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dec59498c60ab6cad1c3a055cbb0a730","SpanId":"4c7490ca22105909","Properties":{"ElapsedMilliseconds":385.745,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UIP:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN81JSDB1UIP"}}
{"Timestamp":"2024-11-10T22:48:22.2655183+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"180019bd580a419fb34c962d9c2221c3","SpanId":"57050173fb814137","Properties":{"ElapsedMilliseconds":27.1399,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UIQ:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN81JSDB1UIQ"}}
{"Timestamp":"2024-11-10T22:48:22.3093379+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5b3846accbb4ab7dc1315da3d0b3de12","SpanId":"e343855cb2f443cf","Properties":{"ElapsedMilliseconds":69.5272,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UIR:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN81JSDB1UIR"}}
{"Timestamp":"2024-11-10T22:48:22.3496456+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"35d88950730b49b00ce7eebff41b2136","SpanId":"2840e4fb1d2ddbe6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UIR:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN81JSDB1UIR"}}
{"Timestamp":"2024-11-10T22:48:22.4735125+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"35d88950730b49b00ce7eebff41b2136","SpanId":"2840e4fb1d2ddbe6","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":116.184,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"116.1840"}]}}
{"Timestamp":"2024-11-10T22:48:22.4764917+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"35d88950730b49b00ce7eebff41b2136","SpanId":"2840e4fb1d2ddbe6","Properties":{"ElapsedMilliseconds":126.7954,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UIR:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN81JSDB1UIR"}}
{"Timestamp":"2024-11-10T22:48:33.3388232+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5931d613d8984d82764c23e116fe6ec6","SpanId":"c5254e4b5ccfe0db","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UIS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JSDB1UIS"}}
{"Timestamp":"2024-11-10T22:48:33.3451848+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"5931d613d8984d82764c23e116fe6ec6","SpanId":"c5254e4b5ccfe0db","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN81JSDB1UIS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JSDB1UIS"}}
{"Timestamp":"2024-11-10T22:48:33.4431337+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5931d613d8984d82764c23e116fe6ec6","SpanId":"c5254e4b5ccfe0db","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UIS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JSDB1UIS"}}
{"Timestamp":"2024-11-10T22:48:33.4835655+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5931d613d8984d82764c23e116fe6ec6","SpanId":"c5254e4b5ccfe0db","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"848b8584-2e81-450d-8050-d0f7a9361a6a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81JSDB1UIS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JSDB1UIS"}}
{"Timestamp":"2024-11-10T22:48:35.4349576+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5931d613d8984d82764c23e116fe6ec6","SpanId":"c5254e4b5ccfe0db","Properties":{"elapsed":"56","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"848b8584-2e81-450d-8050-d0f7a9361a6a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81JSDB1UIS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JSDB1UIS"}}
{"Timestamp":"2024-11-10T22:48:35.8042111+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5931d613d8984d82764c23e116fe6ec6","SpanId":"c5254e4b5ccfe0db","Properties":{"elapsed":"42","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"848b8584-2e81-450d-8050-d0f7a9361a6a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81JSDB1UIS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JSDB1UIS"}}
{"Timestamp":"2024-11-10T22:48:35.8356247+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5931d613d8984d82764c23e116fe6ec6","SpanId":"c5254e4b5ccfe0db","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"848b8584-2e81-450d-8050-d0f7a9361a6a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81JSDB1UIS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JSDB1UIS"}}
{"Timestamp":"2024-11-10T22:48:35.8443385+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5931d613d8984d82764c23e116fe6ec6","SpanId":"c5254e4b5ccfe0db","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":2353.5269,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UIS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JSDB1UIS"}}
{"Timestamp":"2024-11-10T22:48:35.8459718+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5931d613d8984d82764c23e116fe6ec6","SpanId":"c5254e4b5ccfe0db","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UIS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JSDB1UIS"}}
{"Timestamp":"2024-11-10T22:48:35.8486984+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5931d613d8984d82764c23e116fe6ec6","SpanId":"c5254e4b5ccfe0db","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":2506.3759,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2506.3759"}]}}
{"Timestamp":"2024-11-10T22:48:35.8603872+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5931d613d8984d82764c23e116fe6ec6","SpanId":"c5254e4b5ccfe0db","Properties":{"ElapsedMilliseconds":2521.6366,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UIS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81JSDB1UIS"}}
{"Timestamp":"2024-11-10T22:48:40.7378211+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7a24f3e27d3ae3ed68ec19fc91d63138","SpanId":"1374c9e1b3a41449","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UIT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UIT"}}
{"Timestamp":"2024-11-10T22:48:40.7456582+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7a24f3e27d3ae3ed68ec19fc91d63138","SpanId":"1374c9e1b3a41449","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UIT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UIT"}}
{"Timestamp":"2024-11-10T22:48:40.7539535+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7a24f3e27d3ae3ed68ec19fc91d63138","SpanId":"1374c9e1b3a41449","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UIT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UIT"}}
{"Timestamp":"2024-11-10T22:48:40.8662705+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"56bbd68f9a456bc8792239a6a52abdef","SpanId":"24fc94dcb604052f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UIU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UIU"}}
{"Timestamp":"2024-11-10T22:48:40.8727030+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"56bbd68f9a456bc8792239a6a52abdef","SpanId":"24fc94dcb604052f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UIU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UIU"}}
{"Timestamp":"2024-11-10T22:48:40.8747532+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"56bbd68f9a456bc8792239a6a52abdef","SpanId":"24fc94dcb604052f","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UIU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UIU"}}
{"Timestamp":"2024-11-10T22:48:40.8775718+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7a24f3e27d3ae3ed68ec19fc91d63138","SpanId":"1374c9e1b3a41449","Properties":{"elapsed":"17","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UIT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UIT"}}
{"Timestamp":"2024-11-10T22:48:40.9947266+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7a24f3e27d3ae3ed68ec19fc91d63138","SpanId":"1374c9e1b3a41449","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UIT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UIT"}}
{"Timestamp":"2024-11-10T22:48:41.0019567+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"56bbd68f9a456bc8792239a6a52abdef","SpanId":"24fc94dcb604052f","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UIU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UIU"}}
{"Timestamp":"2024-11-10T22:48:41.0088552+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"56bbd68f9a456bc8792239a6a52abdef","SpanId":"24fc94dcb604052f","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UIU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UIU"}}
{"Timestamp":"2024-11-10T22:48:41.0107138+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7a24f3e27d3ae3ed68ec19fc91d63138","SpanId":"1374c9e1b3a41449","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UIT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UIT"}}
{"Timestamp":"2024-11-10T22:48:41.0107126+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"56bbd68f9a456bc8792239a6a52abdef","SpanId":"24fc94dcb604052f","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UIU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UIU"}}
{"Timestamp":"2024-11-10T22:48:41.0119729+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7a24f3e27d3ae3ed68ec19fc91d63138","SpanId":"1374c9e1b3a41449","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":255.9289,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UIT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UIT"}}
{"Timestamp":"2024-11-10T22:48:41.0127818+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"56bbd68f9a456bc8792239a6a52abdef","SpanId":"24fc94dcb604052f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":136.3453,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UIU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UIU"}}
{"Timestamp":"2024-11-10T22:48:41.0137758+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7a24f3e27d3ae3ed68ec19fc91d63138","SpanId":"1374c9e1b3a41449","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UIT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UIT"}}
{"Timestamp":"2024-11-10T22:48:41.0147117+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"56bbd68f9a456bc8792239a6a52abdef","SpanId":"24fc94dcb604052f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UIU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UIU"}}
{"Timestamp":"2024-11-10T22:48:41.0155323+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7a24f3e27d3ae3ed68ec19fc91d63138","SpanId":"1374c9e1b3a41449","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":272.1022,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"272.1022"}]}}
{"Timestamp":"2024-11-10T22:48:41.0163895+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"56bbd68f9a456bc8792239a6a52abdef","SpanId":"24fc94dcb604052f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":145.9757,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"145.9757"}]}}
{"Timestamp":"2024-11-10T22:48:41.0187706+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7a24f3e27d3ae3ed68ec19fc91d63138","SpanId":"1374c9e1b3a41449","Properties":{"ElapsedMilliseconds":280.9205,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UIT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UIT"}}
{"Timestamp":"2024-11-10T22:48:41.0196774+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"56bbd68f9a456bc8792239a6a52abdef","SpanId":"24fc94dcb604052f","Properties":{"ElapsedMilliseconds":153.3846,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UIU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UIU"}}
{"Timestamp":"2024-11-10T22:48:41.0252103+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c2b581f6fe5e296e7f38daef430eedbb","SpanId":"13507732e4ac0927","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UIV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UIV"}}
{"Timestamp":"2024-11-10T22:48:41.0263043+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b98a0e234fa6de4d2e5731ab42872fde","SpanId":"6126051733c6ccc9","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJ0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJ0"}}
{"Timestamp":"2024-11-10T22:48:41.0749743+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b98a0e234fa6de4d2e5731ab42872fde","SpanId":"6126051733c6ccc9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJ0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJ0"}}
{"Timestamp":"2024-11-10T22:48:41.0749746+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c2b581f6fe5e296e7f38daef430eedbb","SpanId":"13507732e4ac0927","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UIV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UIV"}}
{"Timestamp":"2024-11-10T22:48:41.0795221+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b98a0e234fa6de4d2e5731ab42872fde","SpanId":"6126051733c6ccc9","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJ0"}}
{"Timestamp":"2024-11-10T22:48:41.0795231+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c2b581f6fe5e296e7f38daef430eedbb","SpanId":"13507732e4ac0927","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"52f69725-5c2e-4791-844c-67fb2e1c17d9","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UIV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UIV"}}
{"Timestamp":"2024-11-10T22:48:41.1512630+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c2b581f6fe5e296e7f38daef430eedbb","SpanId":"13507732e4ac0927","Properties":{"elapsed":"14","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"52f69725-5c2e-4791-844c-67fb2e1c17d9","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UIV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UIV"}}
{"Timestamp":"2024-11-10T22:48:41.1512629+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b98a0e234fa6de4d2e5731ab42872fde","SpanId":"6126051733c6ccc9","Properties":{"elapsed":"9","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJ0"}}
{"Timestamp":"2024-11-10T22:48:41.1571442+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c2b581f6fe5e296e7f38daef430eedbb","SpanId":"13507732e4ac0927","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"52f69725-5c2e-4791-844c-67fb2e1c17d9","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UIV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UIV"}}
{"Timestamp":"2024-11-10T22:48:41.1682669+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b98a0e234fa6de4d2e5731ab42872fde","SpanId":"6126051733c6ccc9","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJ0"}}
{"Timestamp":"2024-11-10T22:48:41.1774998+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c2b581f6fe5e296e7f38daef430eedbb","SpanId":"13507732e4ac0927","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":93.4597,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UIV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UIV"}}
{"Timestamp":"2024-11-10T22:48:41.1787346+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c2b581f6fe5e296e7f38daef430eedbb","SpanId":"13507732e4ac0927","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UIV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UIV"}}
{"Timestamp":"2024-11-10T22:48:41.1798684+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c2b581f6fe5e296e7f38daef430eedbb","SpanId":"13507732e4ac0927","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":150.7355,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"150.7355"}]}}
{"Timestamp":"2024-11-10T22:48:41.1819162+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c2b581f6fe5e296e7f38daef430eedbb","SpanId":"13507732e4ac0927","Properties":{"ElapsedMilliseconds":156.8949,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UIV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UIV"}}
{"Timestamp":"2024-11-10T22:48:41.1832828+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b98a0e234fa6de4d2e5731ab42872fde","SpanId":"6126051733c6ccc9","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":101.789,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UJ0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJ0"}}
{"Timestamp":"2024-11-10T22:48:41.1874607+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b98a0e234fa6de4d2e5731ab42872fde","SpanId":"6126051733c6ccc9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJ0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJ0"}}
{"Timestamp":"2024-11-10T22:48:41.1888986+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b98a0e234fa6de4d2e5731ab42872fde","SpanId":"6126051733c6ccc9","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":156.8932,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"156.8932"}]}}
{"Timestamp":"2024-11-10T22:48:41.1909212+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b98a0e234fa6de4d2e5731ab42872fde","SpanId":"6126051733c6ccc9","Properties":{"ElapsedMilliseconds":164.5576,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJ0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJ0"}}
{"Timestamp":"2024-11-10T22:48:45.6362526+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8a109ded7112ce77646195bd2fc2b06a","SpanId":"74fd135a1023f74f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJ1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ1"}}
{"Timestamp":"2024-11-10T22:48:45.6392344+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8a109ded7112ce77646195bd2fc2b06a","SpanId":"74fd135a1023f74f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJ1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ1"}}
{"Timestamp":"2024-11-10T22:48:45.6399349+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8a109ded7112ce77646195bd2fc2b06a","SpanId":"74fd135a1023f74f","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ1"}}
{"Timestamp":"2024-11-10T22:48:45.6488968+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8a109ded7112ce77646195bd2fc2b06a","SpanId":"74fd135a1023f74f","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ1"}}
{"Timestamp":"2024-11-10T22:48:45.6550379+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8a109ded7112ce77646195bd2fc2b06a","SpanId":"74fd135a1023f74f","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ1"}}
{"Timestamp":"2024-11-10T22:48:45.6573708+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8a109ded7112ce77646195bd2fc2b06a","SpanId":"74fd135a1023f74f","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ1"}}
{"Timestamp":"2024-11-10T22:48:45.6586364+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8a109ded7112ce77646195bd2fc2b06a","SpanId":"74fd135a1023f74f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.5941,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UJ1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ1"}}
{"Timestamp":"2024-11-10T22:48:45.6601915+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8a109ded7112ce77646195bd2fc2b06a","SpanId":"74fd135a1023f74f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJ1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ1"}}
{"Timestamp":"2024-11-10T22:48:45.6609664+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8a109ded7112ce77646195bd2fc2b06a","SpanId":"74fd135a1023f74f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":21.8353,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.8353"}]}}
{"Timestamp":"2024-11-10T22:48:45.6623879+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8a109ded7112ce77646195bd2fc2b06a","SpanId":"74fd135a1023f74f","Properties":{"ElapsedMilliseconds":26.2358,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJ1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ1"}}
{"Timestamp":"2024-11-10T22:48:45.6645381+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4080d7d714062c8f7ffdd48524f08697","SpanId":"87477d40b431a398","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJ2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJ2"}}
{"Timestamp":"2024-11-10T22:48:45.6757986+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4080d7d714062c8f7ffdd48524f08697","SpanId":"87477d40b431a398","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJ2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJ2"}}
{"Timestamp":"2024-11-10T22:48:45.6764594+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4080d7d714062c8f7ffdd48524f08697","SpanId":"87477d40b431a398","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"52f69725-5c2e-4791-844c-67fb2e1c17d9","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJ2"}}
{"Timestamp":"2024-11-10T22:48:45.6832444+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4080d7d714062c8f7ffdd48524f08697","SpanId":"87477d40b431a398","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"52f69725-5c2e-4791-844c-67fb2e1c17d9","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJ2"}}
{"Timestamp":"2024-11-10T22:48:45.6858659+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4080d7d714062c8f7ffdd48524f08697","SpanId":"87477d40b431a398","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"52f69725-5c2e-4791-844c-67fb2e1c17d9","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJ2"}}
{"Timestamp":"2024-11-10T22:48:45.6872944+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4080d7d714062c8f7ffdd48524f08697","SpanId":"87477d40b431a398","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":9.6468,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UJ2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJ2"}}
{"Timestamp":"2024-11-10T22:48:45.6887249+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4080d7d714062c8f7ffdd48524f08697","SpanId":"87477d40b431a398","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJ2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJ2"}}
{"Timestamp":"2024-11-10T22:48:45.6897055+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4080d7d714062c8f7ffdd48524f08697","SpanId":"87477d40b431a398","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":14.3457,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.3457"}]}}
{"Timestamp":"2024-11-10T22:48:45.6911689+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4080d7d714062c8f7ffdd48524f08697","SpanId":"87477d40b431a398","Properties":{"ElapsedMilliseconds":26.6618,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJ2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJ2"}}
{"Timestamp":"2024-11-10T22:48:45.8194275+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5983e10930faae9721dc6133c1385f9a","SpanId":"67af2e5149e63fa0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJ3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ3"}}
{"Timestamp":"2024-11-10T22:48:45.8228916+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5983e10930faae9721dc6133c1385f9a","SpanId":"67af2e5149e63fa0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJ3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ3"}}
{"Timestamp":"2024-11-10T22:48:45.8246393+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5983e10930faae9721dc6133c1385f9a","SpanId":"67af2e5149e63fa0","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ3"}}
{"Timestamp":"2024-11-10T22:48:45.8249055+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"15652da60385874419e817ee0fb8fcbc","SpanId":"6aa72676ef57e7a1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJ4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ4"}}
{"Timestamp":"2024-11-10T22:48:45.8306430+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"15652da60385874419e817ee0fb8fcbc","SpanId":"6aa72676ef57e7a1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJ4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ4"}}
{"Timestamp":"2024-11-10T22:48:45.8314290+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"15652da60385874419e817ee0fb8fcbc","SpanId":"6aa72676ef57e7a1","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ4"}}
{"Timestamp":"2024-11-10T22:48:45.8363131+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5983e10930faae9721dc6133c1385f9a","SpanId":"67af2e5149e63fa0","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ3"}}
{"Timestamp":"2024-11-10T22:48:45.8496945+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"15652da60385874419e817ee0fb8fcbc","SpanId":"6aa72676ef57e7a1","Properties":{"elapsed":"11","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ4"}}
{"Timestamp":"2024-11-10T22:48:45.8501629+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5983e10930faae9721dc6133c1385f9a","SpanId":"67af2e5149e63fa0","Properties":{"elapsed":"9","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ3"}}
{"Timestamp":"2024-11-10T22:48:45.8597854+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5983e10930faae9721dc6133c1385f9a","SpanId":"67af2e5149e63fa0","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ3"}}
{"Timestamp":"2024-11-10T22:48:45.8611419+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5983e10930faae9721dc6133c1385f9a","SpanId":"67af2e5149e63fa0","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":34.2986,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UJ3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ3"}}
{"Timestamp":"2024-11-10T22:48:45.8621416+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"15652da60385874419e817ee0fb8fcbc","SpanId":"6aa72676ef57e7a1","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ4"}}
{"Timestamp":"2024-11-10T22:48:45.8643288+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5983e10930faae9721dc6133c1385f9a","SpanId":"67af2e5149e63fa0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJ3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ3"}}
{"Timestamp":"2024-11-10T22:48:45.8671096+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"15652da60385874419e817ee0fb8fcbc","SpanId":"6aa72676ef57e7a1","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ4"}}
{"Timestamp":"2024-11-10T22:48:45.8682454+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5983e10930faae9721dc6133c1385f9a","SpanId":"67af2e5149e63fa0","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":45.8212,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"45.8212"}]}}
{"Timestamp":"2024-11-10T22:48:45.8696761+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"15652da60385874419e817ee0fb8fcbc","SpanId":"6aa72676ef57e7a1","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":37.1177,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UJ4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ4"}}
{"Timestamp":"2024-11-10T22:48:45.8709751+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5983e10930faae9721dc6133c1385f9a","SpanId":"67af2e5149e63fa0","Properties":{"ElapsedMilliseconds":51.529,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJ3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ3"}}
{"Timestamp":"2024-11-10T22:48:45.8718738+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"15652da60385874419e817ee0fb8fcbc","SpanId":"6aa72676ef57e7a1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJ4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ4"}}
{"Timestamp":"2024-11-10T22:48:45.8772111+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0f51a7a0f3dd96a291aef16eec129a4a","SpanId":"16c904fc579940d8","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJ5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJ5"}}
{"Timestamp":"2024-11-10T22:48:45.8799887+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"15652da60385874419e817ee0fb8fcbc","SpanId":"6aa72676ef57e7a1","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":49.4397,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"49.4397"}]}}
{"Timestamp":"2024-11-10T22:48:45.8821514+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0f51a7a0f3dd96a291aef16eec129a4a","SpanId":"16c904fc579940d8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJ5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJ5"}}
{"Timestamp":"2024-11-10T22:48:45.8849019+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"15652da60385874419e817ee0fb8fcbc","SpanId":"6aa72676ef57e7a1","Properties":{"ElapsedMilliseconds":59.9848,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJ4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ4"}}
{"Timestamp":"2024-11-10T22:48:45.8857922+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0f51a7a0f3dd96a291aef16eec129a4a","SpanId":"16c904fc579940d8","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"52f69725-5c2e-4791-844c-67fb2e1c17d9","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJ5"}}
{"Timestamp":"2024-11-10T22:48:45.8882596+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"456eae05fa20e6b6a6b59c0ddad50878","SpanId":"f9ce424aacb2bde6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJ6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJ6"}}
{"Timestamp":"2024-11-10T22:48:45.8929699+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"456eae05fa20e6b6a6b59c0ddad50878","SpanId":"f9ce424aacb2bde6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJ6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJ6"}}
{"Timestamp":"2024-11-10T22:48:45.8941081+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"456eae05fa20e6b6a6b59c0ddad50878","SpanId":"f9ce424aacb2bde6","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJ6"}}
{"Timestamp":"2024-11-10T22:48:45.8962292+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0f51a7a0f3dd96a291aef16eec129a4a","SpanId":"16c904fc579940d8","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"52f69725-5c2e-4791-844c-67fb2e1c17d9","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJ5"}}
{"Timestamp":"2024-11-10T22:48:45.8987741+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0f51a7a0f3dd96a291aef16eec129a4a","SpanId":"16c904fc579940d8","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"52f69725-5c2e-4791-844c-67fb2e1c17d9","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJ5"}}
{"Timestamp":"2024-11-10T22:48:45.9002170+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0f51a7a0f3dd96a291aef16eec129a4a","SpanId":"16c904fc579940d8","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":10.1444,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UJ5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJ5"}}
{"Timestamp":"2024-11-10T22:48:45.9031115+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0f51a7a0f3dd96a291aef16eec129a4a","SpanId":"16c904fc579940d8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJ5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJ5"}}
{"Timestamp":"2024-11-10T22:48:45.9048175+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0f51a7a0f3dd96a291aef16eec129a4a","SpanId":"16c904fc579940d8","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":23.1129,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.1129"}]}}
{"Timestamp":"2024-11-10T22:48:45.9073810+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0f51a7a0f3dd96a291aef16eec129a4a","SpanId":"16c904fc579940d8","Properties":{"ElapsedMilliseconds":30.4462,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJ5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJ5"}}
{"Timestamp":"2024-11-10T22:48:45.9073728+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"456eae05fa20e6b6a6b59c0ddad50878","SpanId":"f9ce424aacb2bde6","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJ6"}}
{"Timestamp":"2024-11-10T22:48:45.9126289+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"456eae05fa20e6b6a6b59c0ddad50878","SpanId":"f9ce424aacb2bde6","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJ6"}}
{"Timestamp":"2024-11-10T22:48:45.9137885+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"456eae05fa20e6b6a6b59c0ddad50878","SpanId":"f9ce424aacb2bde6","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":17.5418,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UJ6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJ6"}}
{"Timestamp":"2024-11-10T22:48:45.9152674+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"456eae05fa20e6b6a6b59c0ddad50878","SpanId":"f9ce424aacb2bde6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJ6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJ6"}}
{"Timestamp":"2024-11-10T22:48:45.9179072+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"456eae05fa20e6b6a6b59c0ddad50878","SpanId":"f9ce424aacb2bde6","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":25.2557,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.2557"}]}}
{"Timestamp":"2024-11-10T22:48:45.9217069+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"456eae05fa20e6b6a6b59c0ddad50878","SpanId":"f9ce424aacb2bde6","Properties":{"ElapsedMilliseconds":33.4715,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJ6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJ6"}}
{"Timestamp":"2024-11-10T22:48:47.8322257+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"df39531317153a4d5aa849e30ff5b38d","SpanId":"b58e69b726dbf92c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJ7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ7"}}
{"Timestamp":"2024-11-10T22:48:47.8388392+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"df39531317153a4d5aa849e30ff5b38d","SpanId":"b58e69b726dbf92c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJ7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ7"}}
{"Timestamp":"2024-11-10T22:48:47.8411363+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"df39531317153a4d5aa849e30ff5b38d","SpanId":"b58e69b726dbf92c","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ7"}}
{"Timestamp":"2024-11-10T22:48:47.8497555+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"df39531317153a4d5aa849e30ff5b38d","SpanId":"b58e69b726dbf92c","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ7"}}
{"Timestamp":"2024-11-10T22:48:47.8553516+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"df39531317153a4d5aa849e30ff5b38d","SpanId":"b58e69b726dbf92c","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ7"}}
{"Timestamp":"2024-11-10T22:48:47.8580896+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"df39531317153a4d5aa849e30ff5b38d","SpanId":"b58e69b726dbf92c","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ7"}}
{"Timestamp":"2024-11-10T22:48:47.8589736+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"df39531317153a4d5aa849e30ff5b38d","SpanId":"b58e69b726dbf92c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.3137,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UJ7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ7"}}
{"Timestamp":"2024-11-10T22:48:47.8597714+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"df39531317153a4d5aa849e30ff5b38d","SpanId":"b58e69b726dbf92c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJ7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ7"}}
{"Timestamp":"2024-11-10T22:48:47.8603926+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"df39531317153a4d5aa849e30ff5b38d","SpanId":"b58e69b726dbf92c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":21.8037,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.8037"}]}}
{"Timestamp":"2024-11-10T22:48:47.8616090+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"df39531317153a4d5aa849e30ff5b38d","SpanId":"b58e69b726dbf92c","Properties":{"ElapsedMilliseconds":29.6141,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJ7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ7"}}
{"Timestamp":"2024-11-10T22:48:47.8636777+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cdf38e4020ae4b8bc62268e42ae4b414","SpanId":"fb7ffbbaa9729fd5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJ8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJ8"}}
{"Timestamp":"2024-11-10T22:48:47.8665329+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cdf38e4020ae4b8bc62268e42ae4b414","SpanId":"fb7ffbbaa9729fd5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJ8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJ8"}}
{"Timestamp":"2024-11-10T22:48:47.8673463+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cdf38e4020ae4b8bc62268e42ae4b414","SpanId":"fb7ffbbaa9729fd5","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJ8"}}
{"Timestamp":"2024-11-10T22:48:47.8741079+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cdf38e4020ae4b8bc62268e42ae4b414","SpanId":"fb7ffbbaa9729fd5","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJ8"}}
{"Timestamp":"2024-11-10T22:48:47.8761818+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cdf38e4020ae4b8bc62268e42ae4b414","SpanId":"fb7ffbbaa9729fd5","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJ8"}}
{"Timestamp":"2024-11-10T22:48:47.8773009+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cdf38e4020ae4b8bc62268e42ae4b414","SpanId":"fb7ffbbaa9729fd5","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":8.297,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UJ8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJ8"}}
{"Timestamp":"2024-11-10T22:48:47.8785206+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cdf38e4020ae4b8bc62268e42ae4b414","SpanId":"fb7ffbbaa9729fd5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJ8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJ8"}}
{"Timestamp":"2024-11-10T22:48:47.8793050+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cdf38e4020ae4b8bc62268e42ae4b414","SpanId":"fb7ffbbaa9729fd5","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":13.0325,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.0325"}]}}
{"Timestamp":"2024-11-10T22:48:47.8806031+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cdf38e4020ae4b8bc62268e42ae4b414","SpanId":"fb7ffbbaa9729fd5","Properties":{"ElapsedMilliseconds":16.9859,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJ8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJ8"}}
{"Timestamp":"2024-11-10T22:48:47.8905018+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a85b5f8454ccd5bb71ba233a376284f9","SpanId":"4f13f995b3478e14","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ9"}}
{"Timestamp":"2024-11-10T22:48:47.8919931+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a85b5f8454ccd5bb71ba233a376284f9","SpanId":"4f13f995b3478e14","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ9"}}
{"Timestamp":"2024-11-10T22:48:47.8926841+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a85b5f8454ccd5bb71ba233a376284f9","SpanId":"4f13f995b3478e14","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ9"}}
{"Timestamp":"2024-11-10T22:48:47.8971431+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a85b5f8454ccd5bb71ba233a376284f9","SpanId":"4f13f995b3478e14","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ9"}}
{"Timestamp":"2024-11-10T22:48:47.9002923+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a85b5f8454ccd5bb71ba233a376284f9","SpanId":"4f13f995b3478e14","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ9"}}
{"Timestamp":"2024-11-10T22:48:47.9024532+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a85b5f8454ccd5bb71ba233a376284f9","SpanId":"4f13f995b3478e14","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ9"}}
{"Timestamp":"2024-11-10T22:48:47.9039763+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a85b5f8454ccd5bb71ba233a376284f9","SpanId":"4f13f995b3478e14","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":10.145,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ9"}}
{"Timestamp":"2024-11-10T22:48:47.9049276+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a85b5f8454ccd5bb71ba233a376284f9","SpanId":"4f13f995b3478e14","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ9"}}
{"Timestamp":"2024-11-10T22:48:47.9056269+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a85b5f8454ccd5bb71ba233a376284f9","SpanId":"4f13f995b3478e14","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":13.7209,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.7209"}]}}
{"Timestamp":"2024-11-10T22:48:47.9068712+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a85b5f8454ccd5bb71ba233a376284f9","SpanId":"4f13f995b3478e14","Properties":{"ElapsedMilliseconds":16.4066,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJ9"}}
{"Timestamp":"2024-11-10T22:48:47.9109445+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"83003c7fd161df33feaccf60f2e6c0fe","SpanId":"a51205d51ee00ab8","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UJA"}}
{"Timestamp":"2024-11-10T22:48:47.9128138+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"83003c7fd161df33feaccf60f2e6c0fe","SpanId":"a51205d51ee00ab8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UJA"}}
{"Timestamp":"2024-11-10T22:48:47.9147412+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"83003c7fd161df33feaccf60f2e6c0fe","SpanId":"a51205d51ee00ab8","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f4ca4294-229f-49f3-b35b-d816f4eda200","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81JSDB1UJA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UJA"}}
{"Timestamp":"2024-11-10T22:48:47.9764064+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"83003c7fd161df33feaccf60f2e6c0fe","SpanId":"a51205d51ee00ab8","Properties":{"elapsed":"4","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f4ca4294-229f-49f3-b35b-d816f4eda200","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81JSDB1UJA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UJA"}}
{"Timestamp":"2024-11-10T22:48:48.0234577+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"83003c7fd161df33feaccf60f2e6c0fe","SpanId":"a51205d51ee00ab8","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f4ca4294-229f-49f3-b35b-d816f4eda200","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81JSDB1UJA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UJA"}}
{"Timestamp":"2024-11-10T22:48:48.0286616+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"83003c7fd161df33feaccf60f2e6c0fe","SpanId":"a51205d51ee00ab8","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f4ca4294-229f-49f3-b35b-d816f4eda200","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81JSDB1UJA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UJA"}}
{"Timestamp":"2024-11-10T22:48:48.0302588+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"83003c7fd161df33feaccf60f2e6c0fe","SpanId":"a51205d51ee00ab8","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":114.2647,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UJA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UJA"}}
{"Timestamp":"2024-11-10T22:48:48.0318935+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"83003c7fd161df33feaccf60f2e6c0fe","SpanId":"a51205d51ee00ab8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UJA"}}
{"Timestamp":"2024-11-10T22:48:48.0327534+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"83003c7fd161df33feaccf60f2e6c0fe","SpanId":"a51205d51ee00ab8","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":120.1806,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"120.1806"}]}}
{"Timestamp":"2024-11-10T22:48:48.0353445+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"83003c7fd161df33feaccf60f2e6c0fe","SpanId":"a51205d51ee00ab8","Properties":{"ElapsedMilliseconds":124.3978,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UJA"}}
{"Timestamp":"2024-11-10T22:48:49.5201014+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"33940fb1af0b3b25a36045c58ae3dfff","SpanId":"316b87210aaba6f3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJB"}}
{"Timestamp":"2024-11-10T22:48:49.5224382+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"33940fb1af0b3b25a36045c58ae3dfff","SpanId":"316b87210aaba6f3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJB"}}
{"Timestamp":"2024-11-10T22:48:49.5231279+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"33940fb1af0b3b25a36045c58ae3dfff","SpanId":"316b87210aaba6f3","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJB"}}
{"Timestamp":"2024-11-10T22:48:49.5326729+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"33940fb1af0b3b25a36045c58ae3dfff","SpanId":"316b87210aaba6f3","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJB"}}
{"Timestamp":"2024-11-10T22:48:49.5376865+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"33940fb1af0b3b25a36045c58ae3dfff","SpanId":"316b87210aaba6f3","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJB"}}
{"Timestamp":"2024-11-10T22:48:49.5413476+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"33940fb1af0b3b25a36045c58ae3dfff","SpanId":"316b87210aaba6f3","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJB"}}
{"Timestamp":"2024-11-10T22:48:49.5423277+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"33940fb1af0b3b25a36045c58ae3dfff","SpanId":"316b87210aaba6f3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.3294,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UJB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJB"}}
{"Timestamp":"2024-11-10T22:48:49.5430861+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"33940fb1af0b3b25a36045c58ae3dfff","SpanId":"316b87210aaba6f3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJB"}}
{"Timestamp":"2024-11-10T22:48:49.5436705+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"33940fb1af0b3b25a36045c58ae3dfff","SpanId":"316b87210aaba6f3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":21.5319,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.5319"}]}}
{"Timestamp":"2024-11-10T22:48:49.5447743+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"33940fb1af0b3b25a36045c58ae3dfff","SpanId":"316b87210aaba6f3","Properties":{"ElapsedMilliseconds":24.7902,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJB"}}
{"Timestamp":"2024-11-10T22:48:49.5461441+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"36e4b9da4f13605ad11857da714aa583","SpanId":"09ea706d9fbfc355","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2236","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJC:00000001","RequestPath":"/api/Schedules/2236","ConnectionId":"0HN81JSDB1UJC"}}
{"Timestamp":"2024-11-10T22:48:49.5489327+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"36e4b9da4f13605ad11857da714aa583","SpanId":"09ea706d9fbfc355","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJC:00000001","RequestPath":"/api/Schedules/2236","ConnectionId":"0HN81JSDB1UJC"}}
{"Timestamp":"2024-11-10T22:48:49.5505199+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"36e4b9da4f13605ad11857da714aa583","SpanId":"09ea706d9fbfc355","Properties":{"RouteData":"{action = \"Delete\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a11ae62e-6484-4867-a1e4-43be151c68bf","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JSDB1UJC:00000001","RequestPath":"/api/Schedules/2236","ConnectionId":"0HN81JSDB1UJC"}}
{"Timestamp":"2024-11-10T22:48:49.5601725+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"36e4b9da4f13605ad11857da714aa583","SpanId":"09ea706d9fbfc355","Properties":{"elapsed":"1","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a11ae62e-6484-4867-a1e4-43be151c68bf","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JSDB1UJC:00000001","RequestPath":"/api/Schedules/2236","ConnectionId":"0HN81JSDB1UJC"}}
{"Timestamp":"2024-11-10T22:48:49.5692072+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"36e4b9da4f13605ad11857da714aa583","SpanId":"09ea706d9fbfc355","Properties":{"elapsed":"2","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[user_id], [s].[schedule_id], [s].[id]\r\nFROM [Schedule_User] AS [s]\r\nWHERE [s].[schedule_id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a11ae62e-6484-4867-a1e4-43be151c68bf","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JSDB1UJC:00000001","RequestPath":"/api/Schedules/2236","ConnectionId":"0HN81JSDB1UJC"}}
{"Timestamp":"2024-11-10T22:48:49.6020874+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"36e4b9da4f13605ad11857da714aa583","SpanId":"09ea706d9fbfc355","Properties":{"elapsed":"4","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [Schedule_User]\r\nOUTPUT 1\r\nWHERE [schedule_id] = @p0 AND [user_id] = @p1;\r\nDELETE FROM [Schedules]\r\nOUTPUT 1\r\nWHERE [Id] = @p2;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a11ae62e-6484-4867-a1e4-43be151c68bf","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JSDB1UJC:00000001","RequestPath":"/api/Schedules/2236","ConnectionId":"0HN81JSDB1UJC"}}
{"Timestamp":"2024-11-10T22:48:49.6169296+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"36e4b9da4f13605ad11857da714aa583","SpanId":"09ea706d9fbfc355","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"a11ae62e-6484-4867-a1e4-43be151c68bf","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JSDB1UJC:00000001","RequestPath":"/api/Schedules/2236","ConnectionId":"0HN81JSDB1UJC"}}
{"Timestamp":"2024-11-10T22:48:49.6179753+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"36e4b9da4f13605ad11857da714aa583","SpanId":"09ea706d9fbfc355","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","ElapsedMilliseconds":66.236,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UJC:00000001","RequestPath":"/api/Schedules/2236","ConnectionId":"0HN81JSDB1UJC"}}
{"Timestamp":"2024-11-10T22:48:49.6191722+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"36e4b9da4f13605ad11857da714aa583","SpanId":"09ea706d9fbfc355","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJC:00000001","RequestPath":"/api/Schedules/2236","ConnectionId":"0HN81JSDB1UJC"}}
{"Timestamp":"2024-11-10T22:48:49.6200535+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"36e4b9da4f13605ad11857da714aa583","SpanId":"09ea706d9fbfc355","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/Schedules/2236","StatusCode":200,"Elapsed":71.1896,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"71.1896"}]}}
{"Timestamp":"2024-11-10T22:48:49.6223286+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"36e4b9da4f13605ad11857da714aa583","SpanId":"09ea706d9fbfc355","Properties":{"ElapsedMilliseconds":76.0332,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2236","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJC:00000001","RequestPath":"/api/Schedules/2236","ConnectionId":"0HN81JSDB1UJC"}}
{"Timestamp":"2024-11-10T22:48:51.6141663+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b5609054fcb0ff9f1cadd32cb3eb160a","SpanId":"fb102fbdd0c55629","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJD"}}
{"Timestamp":"2024-11-10T22:48:51.6167116+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b5609054fcb0ff9f1cadd32cb3eb160a","SpanId":"fb102fbdd0c55629","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJD"}}
{"Timestamp":"2024-11-10T22:48:51.6179574+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b5609054fcb0ff9f1cadd32cb3eb160a","SpanId":"fb102fbdd0c55629","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJD"}}
{"Timestamp":"2024-11-10T22:48:51.6283666+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b5609054fcb0ff9f1cadd32cb3eb160a","SpanId":"fb102fbdd0c55629","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJD"}}
{"Timestamp":"2024-11-10T22:48:51.6317669+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b5609054fcb0ff9f1cadd32cb3eb160a","SpanId":"fb102fbdd0c55629","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJD"}}
{"Timestamp":"2024-11-10T22:48:51.6334066+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b5609054fcb0ff9f1cadd32cb3eb160a","SpanId":"fb102fbdd0c55629","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJD"}}
{"Timestamp":"2024-11-10T22:48:51.6348912+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b5609054fcb0ff9f1cadd32cb3eb160a","SpanId":"fb102fbdd0c55629","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.9156,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UJD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJD"}}
{"Timestamp":"2024-11-10T22:48:51.6366923+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b5609054fcb0ff9f1cadd32cb3eb160a","SpanId":"fb102fbdd0c55629","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJD"}}
{"Timestamp":"2024-11-10T22:48:51.6381539+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b5609054fcb0ff9f1cadd32cb3eb160a","SpanId":"fb102fbdd0c55629","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":21.6709,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.6709"}]}}
{"Timestamp":"2024-11-10T22:48:51.6393928+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b5609054fcb0ff9f1cadd32cb3eb160a","SpanId":"fb102fbdd0c55629","Properties":{"ElapsedMilliseconds":25.3049,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJD"}}
{"Timestamp":"2024-11-10T22:48:51.6414764+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c1295a24d161d78af584442f11248869","SpanId":"5b7b7f035d6765ec","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJE"}}
{"Timestamp":"2024-11-10T22:48:51.6442307+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c1295a24d161d78af584442f11248869","SpanId":"5b7b7f035d6765ec","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJE"}}
{"Timestamp":"2024-11-10T22:48:51.6450074+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c1295a24d161d78af584442f11248869","SpanId":"5b7b7f035d6765ec","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJE"}}
{"Timestamp":"2024-11-10T22:48:51.6512298+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c1295a24d161d78af584442f11248869","SpanId":"5b7b7f035d6765ec","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJE"}}
{"Timestamp":"2024-11-10T22:48:51.6538607+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c1295a24d161d78af584442f11248869","SpanId":"5b7b7f035d6765ec","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJE"}}
{"Timestamp":"2024-11-10T22:48:51.6552563+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c1295a24d161d78af584442f11248869","SpanId":"5b7b7f035d6765ec","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":8.9407,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UJE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJE"}}
{"Timestamp":"2024-11-10T22:48:51.6570732+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c1295a24d161d78af584442f11248869","SpanId":"5b7b7f035d6765ec","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJE"}}
{"Timestamp":"2024-11-10T22:48:51.6585258+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c1295a24d161d78af584442f11248869","SpanId":"5b7b7f035d6765ec","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":14.4992,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.4992"}]}}
{"Timestamp":"2024-11-10T22:48:51.6603580+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c1295a24d161d78af584442f11248869","SpanId":"5b7b7f035d6765ec","Properties":{"ElapsedMilliseconds":18.8892,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJE"}}
{"Timestamp":"2024-11-10T22:48:57.4820227+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b91c61f99e4b8554a359adec7285d026","SpanId":"abe9000b34125384","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJF"}}
{"Timestamp":"2024-11-10T22:48:57.4857816+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b91c61f99e4b8554a359adec7285d026","SpanId":"abe9000b34125384","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJF"}}
{"Timestamp":"2024-11-10T22:48:57.4876017+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b91c61f99e4b8554a359adec7285d026","SpanId":"abe9000b34125384","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJF"}}
{"Timestamp":"2024-11-10T22:48:57.5018134+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b91c61f99e4b8554a359adec7285d026","SpanId":"abe9000b34125384","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJF"}}
{"Timestamp":"2024-11-10T22:48:57.5100034+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b91c61f99e4b8554a359adec7285d026","SpanId":"abe9000b34125384","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJF"}}
{"Timestamp":"2024-11-10T22:48:57.5119681+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b91c61f99e4b8554a359adec7285d026","SpanId":"abe9000b34125384","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJF"}}
{"Timestamp":"2024-11-10T22:48:57.5135414+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b91c61f99e4b8554a359adec7285d026","SpanId":"abe9000b34125384","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":23.4467,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJF"}}
{"Timestamp":"2024-11-10T22:48:57.5151182+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b91c61f99e4b8554a359adec7285d026","SpanId":"abe9000b34125384","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJF"}}
{"Timestamp":"2024-11-10T22:48:57.5160991+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b91c61f99e4b8554a359adec7285d026","SpanId":"abe9000b34125384","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":30.4557,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.4557"}]}}
{"Timestamp":"2024-11-10T22:48:57.5178684+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b91c61f99e4b8554a359adec7285d026","SpanId":"abe9000b34125384","Properties":{"ElapsedMilliseconds":35.8826,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJF"}}
{"Timestamp":"2024-11-10T22:48:57.5209640+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"67673cf1660c5972f328ebec9c45d3a8","SpanId":"a629d793b76b3729","Properties":{"Protocol":"HTTP/1.1","Method":"PUT","ContentType":"application/json; charset=utf-8","ContentLength":100,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1228","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJG:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN81JSDB1UJG"}}
{"Timestamp":"2024-11-10T22:48:57.5236539+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"67673cf1660c5972f328ebec9c45d3a8","SpanId":"a629d793b76b3729","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJG:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN81JSDB1UJG"}}
{"Timestamp":"2024-11-10T22:48:57.5262922+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"67673cf1660c5972f328ebec9c45d3a8","SpanId":"a629d793b76b3729","Properties":{"RouteData":"{action = \"Update\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Update(Int32, WebCalenderAPI.Models.ScheduleVM)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"13c6f699-24f5-4932-aac1-06aec5262b0c","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN81JSDB1UJG:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN81JSDB1UJG"}}
{"Timestamp":"2024-11-10T22:48:57.5407857+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"67673cf1660c5972f328ebec9c45d3a8","SpanId":"a629d793b76b3729","Properties":{"elapsed":"3","parameters":"@__schedule_id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__schedule_id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"13c6f699-24f5-4932-aac1-06aec5262b0c","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN81JSDB1UJG:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN81JSDB1UJG"}}
{"Timestamp":"2024-11-10T22:48:57.5546818+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"67673cf1660c5972f328ebec9c45d3a8","SpanId":"a629d793b76b3729","Properties":{"elapsed":"5","parameters":"@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [Schedules] SET [Reason] = @p0, [ToX] = @p1\r\nOUTPUT 1\r\nWHERE [Id] = @p2;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"13c6f699-24f5-4932-aac1-06aec5262b0c","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN81JSDB1UJG:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN81JSDB1UJG"}}
{"Timestamp":"2024-11-10T22:48:57.5602467+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"67673cf1660c5972f328ebec9c45d3a8","SpanId":"a629d793b76b3729","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"13c6f699-24f5-4932-aac1-06aec5262b0c","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN81JSDB1UJG:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN81JSDB1UJG"}}
{"Timestamp":"2024-11-10T22:48:57.5611849+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"67673cf1660c5972f328ebec9c45d3a8","SpanId":"a629d793b76b3729","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","ElapsedMilliseconds":32.9871,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UJG:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN81JSDB1UJG"}}
{"Timestamp":"2024-11-10T22:48:57.5623919+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"67673cf1660c5972f328ebec9c45d3a8","SpanId":"a629d793b76b3729","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJG:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN81JSDB1UJG"}}
{"Timestamp":"2024-11-10T22:48:57.5635887+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"67673cf1660c5972f328ebec9c45d3a8","SpanId":"a629d793b76b3729","Properties":{"RequestMethod":"PUT","RequestPath":"/api/Schedules/1228","StatusCode":200,"Elapsed":40.1083,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"40.1083"}]}}
{"Timestamp":"2024-11-10T22:48:57.5657932+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"67673cf1660c5972f328ebec9c45d3a8","SpanId":"a629d793b76b3729","Properties":{"ElapsedMilliseconds":44.8369,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"PUT","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1228","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJG:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN81JSDB1UJG"}}
{"Timestamp":"2024-11-10T22:48:58.2339052+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ab2490855411a13b97a0509ed37f5180","SpanId":"6e47f1b4ff2e23e9","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJH"}}
{"Timestamp":"2024-11-10T22:48:58.2362326+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ab2490855411a13b97a0509ed37f5180","SpanId":"6e47f1b4ff2e23e9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJH"}}
{"Timestamp":"2024-11-10T22:48:58.2372788+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ab2490855411a13b97a0509ed37f5180","SpanId":"6e47f1b4ff2e23e9","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJH"}}
{"Timestamp":"2024-11-10T22:48:58.2475796+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ab2490855411a13b97a0509ed37f5180","SpanId":"6e47f1b4ff2e23e9","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJH"}}
{"Timestamp":"2024-11-10T22:48:58.2513881+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ab2490855411a13b97a0509ed37f5180","SpanId":"6e47f1b4ff2e23e9","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJH"}}
{"Timestamp":"2024-11-10T22:48:58.2531054+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ab2490855411a13b97a0509ed37f5180","SpanId":"6e47f1b4ff2e23e9","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJH"}}
{"Timestamp":"2024-11-10T22:48:58.2554749+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ab2490855411a13b97a0509ed37f5180","SpanId":"6e47f1b4ff2e23e9","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.2724,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJH"}}
{"Timestamp":"2024-11-10T22:48:58.2574684+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ab2490855411a13b97a0509ed37f5180","SpanId":"6e47f1b4ff2e23e9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJH"}}
{"Timestamp":"2024-11-10T22:48:58.2583538+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ab2490855411a13b97a0509ed37f5180","SpanId":"6e47f1b4ff2e23e9","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":22.2636,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.2636"}]}}
{"Timestamp":"2024-11-10T22:48:58.2595027+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ab2490855411a13b97a0509ed37f5180","SpanId":"6e47f1b4ff2e23e9","Properties":{"ElapsedMilliseconds":25.615,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJH"}}
{"Timestamp":"2024-11-10T22:48:58.2616423+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"81ce18404a69f49f732dec2cc7769b26","SpanId":"c95e077f4e3e97b5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJI"}}
{"Timestamp":"2024-11-10T22:48:58.2641473+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"81ce18404a69f49f732dec2cc7769b26","SpanId":"c95e077f4e3e97b5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJI"}}
{"Timestamp":"2024-11-10T22:48:58.2649516+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"81ce18404a69f49f732dec2cc7769b26","SpanId":"c95e077f4e3e97b5","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJI"}}
{"Timestamp":"2024-11-10T22:48:58.2702167+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"81ce18404a69f49f732dec2cc7769b26","SpanId":"c95e077f4e3e97b5","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJI"}}
{"Timestamp":"2024-11-10T22:48:58.2724963+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"81ce18404a69f49f732dec2cc7769b26","SpanId":"c95e077f4e3e97b5","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJI"}}
{"Timestamp":"2024-11-10T22:48:58.2746635+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"81ce18404a69f49f732dec2cc7769b26","SpanId":"c95e077f4e3e97b5","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":8.6068,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UJI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJI"}}
{"Timestamp":"2024-11-10T22:48:58.2756741+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"81ce18404a69f49f732dec2cc7769b26","SpanId":"c95e077f4e3e97b5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJI"}}
{"Timestamp":"2024-11-10T22:48:58.2768252+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"81ce18404a69f49f732dec2cc7769b26","SpanId":"c95e077f4e3e97b5","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":12.9189,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.9189"}]}}
{"Timestamp":"2024-11-10T22:48:58.2792051+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"81ce18404a69f49f732dec2cc7769b26","SpanId":"c95e077f4e3e97b5","Properties":{"ElapsedMilliseconds":17.5638,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJI"}}
{"Timestamp":"2024-11-10T22:49:02.5088284+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2722eb6b50c4cfbe7d61e3588fb8da4d","SpanId":"7a9fc3440996faf6","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJJ"}}
{"Timestamp":"2024-11-10T22:49:02.5123156+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2722eb6b50c4cfbe7d61e3588fb8da4d","SpanId":"7a9fc3440996faf6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJJ"}}
{"Timestamp":"2024-11-10T22:49:02.5134018+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2722eb6b50c4cfbe7d61e3588fb8da4d","SpanId":"7a9fc3440996faf6","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJJ"}}
{"Timestamp":"2024-11-10T22:49:02.5211818+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2722eb6b50c4cfbe7d61e3588fb8da4d","SpanId":"7a9fc3440996faf6","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJJ"}}
{"Timestamp":"2024-11-10T22:49:02.5254388+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2722eb6b50c4cfbe7d61e3588fb8da4d","SpanId":"7a9fc3440996faf6","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJJ"}}
{"Timestamp":"2024-11-10T22:49:02.5274946+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2722eb6b50c4cfbe7d61e3588fb8da4d","SpanId":"7a9fc3440996faf6","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJJ"}}
{"Timestamp":"2024-11-10T22:49:02.5285627+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2722eb6b50c4cfbe7d61e3588fb8da4d","SpanId":"7a9fc3440996faf6","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.8631,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UJJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJJ"}}
{"Timestamp":"2024-11-10T22:49:02.5299386+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2722eb6b50c4cfbe7d61e3588fb8da4d","SpanId":"7a9fc3440996faf6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJJ"}}
{"Timestamp":"2024-11-10T22:49:02.5307669+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2722eb6b50c4cfbe7d61e3588fb8da4d","SpanId":"7a9fc3440996faf6","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":18.8184,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.8184"}]}}
{"Timestamp":"2024-11-10T22:49:02.5321058+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2722eb6b50c4cfbe7d61e3588fb8da4d","SpanId":"7a9fc3440996faf6","Properties":{"ElapsedMilliseconds":23.3345,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJJ"}}
{"Timestamp":"2024-11-10T22:49:02.5343186+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0a3c472908637ffef6af1dd86c06006f","SpanId":"ee4ad9dd59635958","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJK"}}
{"Timestamp":"2024-11-10T22:49:02.5371693+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0a3c472908637ffef6af1dd86c06006f","SpanId":"ee4ad9dd59635958","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJK"}}
{"Timestamp":"2024-11-10T22:49:02.5380209+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0a3c472908637ffef6af1dd86c06006f","SpanId":"ee4ad9dd59635958","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"52f69725-5c2e-4791-844c-67fb2e1c17d9","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJK"}}
{"Timestamp":"2024-11-10T22:49:02.5437654+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0a3c472908637ffef6af1dd86c06006f","SpanId":"ee4ad9dd59635958","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"52f69725-5c2e-4791-844c-67fb2e1c17d9","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJK"}}
{"Timestamp":"2024-11-10T22:49:02.5456805+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0a3c472908637ffef6af1dd86c06006f","SpanId":"ee4ad9dd59635958","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"52f69725-5c2e-4791-844c-67fb2e1c17d9","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJK"}}
{"Timestamp":"2024-11-10T22:49:02.5468123+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0a3c472908637ffef6af1dd86c06006f","SpanId":"ee4ad9dd59635958","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":7.4386,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UJK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJK"}}
{"Timestamp":"2024-11-10T22:49:02.5481181+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0a3c472908637ffef6af1dd86c06006f","SpanId":"ee4ad9dd59635958","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJK"}}
{"Timestamp":"2024-11-10T22:49:02.5491191+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0a3c472908637ffef6af1dd86c06006f","SpanId":"ee4ad9dd59635958","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":12.1908,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.1908"}]}}
{"Timestamp":"2024-11-10T22:49:02.5507607+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0a3c472908637ffef6af1dd86c06006f","SpanId":"ee4ad9dd59635958","Properties":{"ElapsedMilliseconds":16.4535,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJK"}}
{"Timestamp":"2024-11-10T22:49:02.6853669+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"89bdb5eff2ada1ad29846b62e1ec23f6","SpanId":"3a8c3b7e3cf36545","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJL"}}
{"Timestamp":"2024-11-10T22:49:02.6916466+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"89bdb5eff2ada1ad29846b62e1ec23f6","SpanId":"3a8c3b7e3cf36545","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJL"}}
{"Timestamp":"2024-11-10T22:49:02.6941853+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"89bdb5eff2ada1ad29846b62e1ec23f6","SpanId":"3a8c3b7e3cf36545","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJL"}}
{"Timestamp":"2024-11-10T22:49:02.6945783+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"18731bf31e316a36f706ecd5e113807e","SpanId":"e1787e237f057cdd","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJM"}}
{"Timestamp":"2024-11-10T22:49:02.7024883+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"18731bf31e316a36f706ecd5e113807e","SpanId":"e1787e237f057cdd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJM"}}
{"Timestamp":"2024-11-10T22:49:02.7027446+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"89bdb5eff2ada1ad29846b62e1ec23f6","SpanId":"3a8c3b7e3cf36545","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJL"}}
{"Timestamp":"2024-11-10T22:49:02.7039907+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"18731bf31e316a36f706ecd5e113807e","SpanId":"e1787e237f057cdd","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJM"}}
{"Timestamp":"2024-11-10T22:49:02.7093345+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"89bdb5eff2ada1ad29846b62e1ec23f6","SpanId":"3a8c3b7e3cf36545","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJL"}}
{"Timestamp":"2024-11-10T22:49:02.7217019+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"89bdb5eff2ada1ad29846b62e1ec23f6","SpanId":"3a8c3b7e3cf36545","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJL"}}
{"Timestamp":"2024-11-10T22:49:02.7258856+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"18731bf31e316a36f706ecd5e113807e","SpanId":"e1787e237f057cdd","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJM"}}
{"Timestamp":"2024-11-10T22:49:02.7293912+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"89bdb5eff2ada1ad29846b62e1ec23f6","SpanId":"3a8c3b7e3cf36545","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":32.3846,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJL"}}
{"Timestamp":"2024-11-10T22:49:02.7360502+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"89bdb5eff2ada1ad29846b62e1ec23f6","SpanId":"3a8c3b7e3cf36545","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJL"}}
{"Timestamp":"2024-11-10T22:49:02.7370310+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"18731bf31e316a36f706ecd5e113807e","SpanId":"e1787e237f057cdd","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJM"}}
{"Timestamp":"2024-11-10T22:49:02.7379607+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"89bdb5eff2ada1ad29846b62e1ec23f6","SpanId":"3a8c3b7e3cf36545","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":46.5731,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"46.5731"}]}}
{"Timestamp":"2024-11-10T22:49:02.7427243+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"18731bf31e316a36f706ecd5e113807e","SpanId":"e1787e237f057cdd","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJM"}}
{"Timestamp":"2024-11-10T22:49:02.7440352+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"89bdb5eff2ada1ad29846b62e1ec23f6","SpanId":"3a8c3b7e3cf36545","Properties":{"ElapsedMilliseconds":58.6806,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJL"}}
{"Timestamp":"2024-11-10T22:49:02.7454145+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"18731bf31e316a36f706ecd5e113807e","SpanId":"e1787e237f057cdd","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":35.1328,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UJM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJM"}}
{"Timestamp":"2024-11-10T22:49:02.7511054+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2dac50c8b7cc5b7a9bd64041af09d643","SpanId":"06b91d98dd48e465","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJN"}}
{"Timestamp":"2024-11-10T22:49:02.7512153+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"18731bf31e316a36f706ecd5e113807e","SpanId":"e1787e237f057cdd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJM"}}
{"Timestamp":"2024-11-10T22:49:02.7535085+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2dac50c8b7cc5b7a9bd64041af09d643","SpanId":"06b91d98dd48e465","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJN"}}
{"Timestamp":"2024-11-10T22:49:02.7540439+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"18731bf31e316a36f706ecd5e113807e","SpanId":"e1787e237f057cdd","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":51.6515,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"51.6515"}]}}
{"Timestamp":"2024-11-10T22:49:02.7548996+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2dac50c8b7cc5b7a9bd64041af09d643","SpanId":"06b91d98dd48e465","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"52f69725-5c2e-4791-844c-67fb2e1c17d9","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJN"}}
{"Timestamp":"2024-11-10T22:49:02.7562989+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"18731bf31e316a36f706ecd5e113807e","SpanId":"e1787e237f057cdd","Properties":{"ElapsedMilliseconds":61.7387,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJM"}}
{"Timestamp":"2024-11-10T22:49:02.7598337+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"87de3473f10126476d83aeae992f2b68","SpanId":"4d5d6ba34097c2ae","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJO"}}
{"Timestamp":"2024-11-10T22:49:02.7621794+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2dac50c8b7cc5b7a9bd64041af09d643","SpanId":"06b91d98dd48e465","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"52f69725-5c2e-4791-844c-67fb2e1c17d9","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJN"}}
{"Timestamp":"2024-11-10T22:49:02.7648660+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"87de3473f10126476d83aeae992f2b68","SpanId":"4d5d6ba34097c2ae","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJO"}}
{"Timestamp":"2024-11-10T22:49:02.7663308+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2dac50c8b7cc5b7a9bd64041af09d643","SpanId":"06b91d98dd48e465","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"52f69725-5c2e-4791-844c-67fb2e1c17d9","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJN"}}
{"Timestamp":"2024-11-10T22:49:02.7670826+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"87de3473f10126476d83aeae992f2b68","SpanId":"4d5d6ba34097c2ae","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJO"}}
{"Timestamp":"2024-11-10T22:49:02.7682143+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2dac50c8b7cc5b7a9bd64041af09d643","SpanId":"06b91d98dd48e465","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":9.6064,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UJN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJN"}}
{"Timestamp":"2024-11-10T22:49:02.7712176+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2dac50c8b7cc5b7a9bd64041af09d643","SpanId":"06b91d98dd48e465","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJN"}}
{"Timestamp":"2024-11-10T22:49:02.7720680+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2dac50c8b7cc5b7a9bd64041af09d643","SpanId":"06b91d98dd48e465","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":18.9469,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.9469"}]}}
{"Timestamp":"2024-11-10T22:49:02.7735015+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2dac50c8b7cc5b7a9bd64041af09d643","SpanId":"06b91d98dd48e465","Properties":{"ElapsedMilliseconds":22.4058,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJN"}}
{"Timestamp":"2024-11-10T22:49:02.7764464+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"87de3473f10126476d83aeae992f2b68","SpanId":"4d5d6ba34097c2ae","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJO"}}
{"Timestamp":"2024-11-10T22:49:02.7802923+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"87de3473f10126476d83aeae992f2b68","SpanId":"4d5d6ba34097c2ae","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJO"}}
{"Timestamp":"2024-11-10T22:49:02.7813723+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"87de3473f10126476d83aeae992f2b68","SpanId":"4d5d6ba34097c2ae","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":11.7243,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UJO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJO"}}
{"Timestamp":"2024-11-10T22:49:02.7823733+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"87de3473f10126476d83aeae992f2b68","SpanId":"4d5d6ba34097c2ae","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJO"}}
{"Timestamp":"2024-11-10T22:49:02.7836809+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"87de3473f10126476d83aeae992f2b68","SpanId":"4d5d6ba34097c2ae","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":19.0488,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.0488"}]}}
{"Timestamp":"2024-11-10T22:49:02.7851351+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"87de3473f10126476d83aeae992f2b68","SpanId":"4d5d6ba34097c2ae","Properties":{"ElapsedMilliseconds":25.4186,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJO"}}
{"Timestamp":"2024-11-10T22:49:07.8779141+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"97bcbbde9f92f1f288c48808b8cb7cee","SpanId":"4e1a14af498161ec","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJP"}}
{"Timestamp":"2024-11-10T22:49:07.8813590+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"97bcbbde9f92f1f288c48808b8cb7cee","SpanId":"4e1a14af498161ec","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJP"}}
{"Timestamp":"2024-11-10T22:49:07.8826727+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"97bcbbde9f92f1f288c48808b8cb7cee","SpanId":"4e1a14af498161ec","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJP"}}
{"Timestamp":"2024-11-10T22:49:07.8932163+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"97bcbbde9f92f1f288c48808b8cb7cee","SpanId":"4e1a14af498161ec","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJP"}}
{"Timestamp":"2024-11-10T22:49:07.8983213+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"97bcbbde9f92f1f288c48808b8cb7cee","SpanId":"4e1a14af498161ec","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJP"}}
{"Timestamp":"2024-11-10T22:49:07.9001424+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"97bcbbde9f92f1f288c48808b8cb7cee","SpanId":"4e1a14af498161ec","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJP"}}
{"Timestamp":"2024-11-10T22:49:07.9009529+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"97bcbbde9f92f1f288c48808b8cb7cee","SpanId":"4e1a14af498161ec","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.1921,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UJP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJP"}}
{"Timestamp":"2024-11-10T22:49:07.9016770+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"97bcbbde9f92f1f288c48808b8cb7cee","SpanId":"4e1a14af498161ec","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJP"}}
{"Timestamp":"2024-11-10T22:49:07.9022885+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"97bcbbde9f92f1f288c48808b8cb7cee","SpanId":"4e1a14af498161ec","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":21.061,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.0610"}]}}
{"Timestamp":"2024-11-10T22:49:07.9034322+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"97bcbbde9f92f1f288c48808b8cb7cee","SpanId":"4e1a14af498161ec","Properties":{"ElapsedMilliseconds":25.6066,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJP"}}
{"Timestamp":"2024-11-10T22:49:07.9049575+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"14998f1098f79b00c05f99f101ffe610","SpanId":"e88e3ed3cb6a1190","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2233","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJQ:00000001","RequestPath":"/api/Schedules/2233","ConnectionId":"0HN81JSDB1UJQ"}}
{"Timestamp":"2024-11-10T22:49:07.9081409+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"14998f1098f79b00c05f99f101ffe610","SpanId":"e88e3ed3cb6a1190","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJQ:00000001","RequestPath":"/api/Schedules/2233","ConnectionId":"0HN81JSDB1UJQ"}}
{"Timestamp":"2024-11-10T22:49:07.9096587+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"14998f1098f79b00c05f99f101ffe610","SpanId":"e88e3ed3cb6a1190","Properties":{"RouteData":"{action = \"Delete\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a11ae62e-6484-4867-a1e4-43be151c68bf","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JSDB1UJQ:00000001","RequestPath":"/api/Schedules/2233","ConnectionId":"0HN81JSDB1UJQ"}}
{"Timestamp":"2024-11-10T22:49:07.9138152+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"14998f1098f79b00c05f99f101ffe610","SpanId":"e88e3ed3cb6a1190","Properties":{"elapsed":"1","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a11ae62e-6484-4867-a1e4-43be151c68bf","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JSDB1UJQ:00000001","RequestPath":"/api/Schedules/2233","ConnectionId":"0HN81JSDB1UJQ"}}
{"Timestamp":"2024-11-10T22:49:07.9168006+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"14998f1098f79b00c05f99f101ffe610","SpanId":"e88e3ed3cb6a1190","Properties":{"elapsed":"1","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[user_id], [s].[schedule_id], [s].[id]\r\nFROM [Schedule_User] AS [s]\r\nWHERE [s].[schedule_id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a11ae62e-6484-4867-a1e4-43be151c68bf","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JSDB1UJQ:00000001","RequestPath":"/api/Schedules/2233","ConnectionId":"0HN81JSDB1UJQ"}}
{"Timestamp":"2024-11-10T22:49:07.9221249+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"14998f1098f79b00c05f99f101ffe610","SpanId":"e88e3ed3cb6a1190","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [Schedule_User]\r\nOUTPUT 1\r\nWHERE [schedule_id] = @p0 AND [user_id] = @p1;\r\nDELETE FROM [Schedules]\r\nOUTPUT 1\r\nWHERE [Id] = @p2;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a11ae62e-6484-4867-a1e4-43be151c68bf","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JSDB1UJQ:00000001","RequestPath":"/api/Schedules/2233","ConnectionId":"0HN81JSDB1UJQ"}}
{"Timestamp":"2024-11-10T22:49:07.9268578+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"14998f1098f79b00c05f99f101ffe610","SpanId":"e88e3ed3cb6a1190","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"a11ae62e-6484-4867-a1e4-43be151c68bf","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81JSDB1UJQ:00000001","RequestPath":"/api/Schedules/2233","ConnectionId":"0HN81JSDB1UJQ"}}
{"Timestamp":"2024-11-10T22:49:07.9282440+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"14998f1098f79b00c05f99f101ffe610","SpanId":"e88e3ed3cb6a1190","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","ElapsedMilliseconds":16.7824,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UJQ:00000001","RequestPath":"/api/Schedules/2233","ConnectionId":"0HN81JSDB1UJQ"}}
{"Timestamp":"2024-11-10T22:49:07.9294133+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"14998f1098f79b00c05f99f101ffe610","SpanId":"e88e3ed3cb6a1190","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJQ:00000001","RequestPath":"/api/Schedules/2233","ConnectionId":"0HN81JSDB1UJQ"}}
{"Timestamp":"2024-11-10T22:49:07.9303803+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"14998f1098f79b00c05f99f101ffe610","SpanId":"e88e3ed3cb6a1190","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/Schedules/2233","StatusCode":200,"Elapsed":22.3747,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.3747"}]}}
{"Timestamp":"2024-11-10T22:49:07.9319430+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"14998f1098f79b00c05f99f101ffe610","SpanId":"e88e3ed3cb6a1190","Properties":{"ElapsedMilliseconds":27.0084,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2233","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJQ:00000001","RequestPath":"/api/Schedules/2233","ConnectionId":"0HN81JSDB1UJQ"}}
{"Timestamp":"2024-11-10T22:49:09.2674541+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5637f8fc89f4094da069d33b19680c99","SpanId":"46d02350937403a0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJR"}}
{"Timestamp":"2024-11-10T22:49:09.2721846+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5637f8fc89f4094da069d33b19680c99","SpanId":"46d02350937403a0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJR"}}
{"Timestamp":"2024-11-10T22:49:09.2735662+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5637f8fc89f4094da069d33b19680c99","SpanId":"46d02350937403a0","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJR"}}
{"Timestamp":"2024-11-10T22:49:09.2837523+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5637f8fc89f4094da069d33b19680c99","SpanId":"46d02350937403a0","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJR"}}
{"Timestamp":"2024-11-10T22:49:09.2874160+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5637f8fc89f4094da069d33b19680c99","SpanId":"46d02350937403a0","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJR"}}
{"Timestamp":"2024-11-10T22:49:09.2888860+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5637f8fc89f4094da069d33b19680c99","SpanId":"46d02350937403a0","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJR"}}
{"Timestamp":"2024-11-10T22:49:09.2898054+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5637f8fc89f4094da069d33b19680c99","SpanId":"46d02350937403a0","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":14.3998,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJR"}}
{"Timestamp":"2024-11-10T22:49:09.2910752+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5637f8fc89f4094da069d33b19680c99","SpanId":"46d02350937403a0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJR"}}
{"Timestamp":"2024-11-10T22:49:09.2936139+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5637f8fc89f4094da069d33b19680c99","SpanId":"46d02350937403a0","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":21.6316,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.6316"}]}}
{"Timestamp":"2024-11-10T22:49:09.2966157+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5637f8fc89f4094da069d33b19680c99","SpanId":"46d02350937403a0","Properties":{"ElapsedMilliseconds":29.2707,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJR"}}
{"Timestamp":"2024-11-10T22:49:09.2993076+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ea655f43c75e02f6adfad18b361bca5b","SpanId":"22ea6c7b6cdfe8b5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJS"}}
{"Timestamp":"2024-11-10T22:49:09.3017003+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ea655f43c75e02f6adfad18b361bca5b","SpanId":"22ea6c7b6cdfe8b5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJS"}}
{"Timestamp":"2024-11-10T22:49:09.3023874+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ea655f43c75e02f6adfad18b361bca5b","SpanId":"22ea6c7b6cdfe8b5","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJS"}}
{"Timestamp":"2024-11-10T22:49:09.3080860+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ea655f43c75e02f6adfad18b361bca5b","SpanId":"22ea6c7b6cdfe8b5","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJS"}}
{"Timestamp":"2024-11-10T22:49:09.3104583+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ea655f43c75e02f6adfad18b361bca5b","SpanId":"22ea6c7b6cdfe8b5","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJS"}}
{"Timestamp":"2024-11-10T22:49:09.3123956+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ea655f43c75e02f6adfad18b361bca5b","SpanId":"22ea6c7b6cdfe8b5","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":8.4176,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UJS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJS"}}
{"Timestamp":"2024-11-10T22:49:09.3135722+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ea655f43c75e02f6adfad18b361bca5b","SpanId":"22ea6c7b6cdfe8b5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJS"}}
{"Timestamp":"2024-11-10T22:49:09.3146464+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ea655f43c75e02f6adfad18b361bca5b","SpanId":"22ea6c7b6cdfe8b5","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":13.1284,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.1284"}]}}
{"Timestamp":"2024-11-10T22:49:09.3166939+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ea655f43c75e02f6adfad18b361bca5b","SpanId":"22ea6c7b6cdfe8b5","Properties":{"ElapsedMilliseconds":17.3553,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UJS"}}
{"Timestamp":"2024-11-10T22:49:12.2130450+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"09e3c7e29e5b7b4ac246036b104c9ee1","SpanId":"9727fac373c4d5e2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJT"}}
{"Timestamp":"2024-11-10T22:49:12.2150367+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"09e3c7e29e5b7b4ac246036b104c9ee1","SpanId":"9727fac373c4d5e2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJT"}}
{"Timestamp":"2024-11-10T22:49:12.2158175+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"09e3c7e29e5b7b4ac246036b104c9ee1","SpanId":"9727fac373c4d5e2","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJT"}}
{"Timestamp":"2024-11-10T22:49:12.2237570+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"09e3c7e29e5b7b4ac246036b104c9ee1","SpanId":"9727fac373c4d5e2","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJT"}}
{"Timestamp":"2024-11-10T22:49:12.2288859+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"09e3c7e29e5b7b4ac246036b104c9ee1","SpanId":"9727fac373c4d5e2","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJT"}}
{"Timestamp":"2024-11-10T22:49:12.2322106+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"09e3c7e29e5b7b4ac246036b104c9ee1","SpanId":"9727fac373c4d5e2","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJT"}}
{"Timestamp":"2024-11-10T22:49:12.2334475+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"09e3c7e29e5b7b4ac246036b104c9ee1","SpanId":"9727fac373c4d5e2","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.3208,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UJT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJT"}}
{"Timestamp":"2024-11-10T22:49:12.2345897+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"09e3c7e29e5b7b4ac246036b104c9ee1","SpanId":"9727fac373c4d5e2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJT"}}
{"Timestamp":"2024-11-10T22:49:12.2354169+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"09e3c7e29e5b7b4ac246036b104c9ee1","SpanId":"9727fac373c4d5e2","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":20.4548,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.4548"}]}}
{"Timestamp":"2024-11-10T22:49:12.2370163+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"09e3c7e29e5b7b4ac246036b104c9ee1","SpanId":"9727fac373c4d5e2","Properties":{"ElapsedMilliseconds":24.0465,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJT"}}
{"Timestamp":"2024-11-10T22:49:12.2393976+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5a944898f5fce15922206c5c3b4cf98b","SpanId":"586bba26bdc840c6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJU"}}
{"Timestamp":"2024-11-10T22:49:12.2432102+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5a944898f5fce15922206c5c3b4cf98b","SpanId":"586bba26bdc840c6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJU"}}
{"Timestamp":"2024-11-10T22:49:12.2441920+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5a944898f5fce15922206c5c3b4cf98b","SpanId":"586bba26bdc840c6","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"52f69725-5c2e-4791-844c-67fb2e1c17d9","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJU"}}
{"Timestamp":"2024-11-10T22:49:12.2548419+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5a944898f5fce15922206c5c3b4cf98b","SpanId":"586bba26bdc840c6","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"52f69725-5c2e-4791-844c-67fb2e1c17d9","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJU"}}
{"Timestamp":"2024-11-10T22:49:12.2566590+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5a944898f5fce15922206c5c3b4cf98b","SpanId":"586bba26bdc840c6","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"52f69725-5c2e-4791-844c-67fb2e1c17d9","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UJU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJU"}}
{"Timestamp":"2024-11-10T22:49:12.2578675+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5a944898f5fce15922206c5c3b4cf98b","SpanId":"586bba26bdc840c6","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.0065,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UJU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJU"}}
{"Timestamp":"2024-11-10T22:49:12.2589429+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5a944898f5fce15922206c5c3b4cf98b","SpanId":"586bba26bdc840c6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJU"}}
{"Timestamp":"2024-11-10T22:49:12.2599096+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5a944898f5fce15922206c5c3b4cf98b","SpanId":"586bba26bdc840c6","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":16.974,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.9740"}]}}
{"Timestamp":"2024-11-10T22:49:12.2618560+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5a944898f5fce15922206c5c3b4cf98b","SpanId":"586bba26bdc840c6","Properties":{"ElapsedMilliseconds":22.4706,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UJU"}}
{"Timestamp":"2024-11-10T22:49:12.6036541+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ee336eea3285aa2868e273ef6b8060e7","SpanId":"aa4b1344caa4ec73","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJV"}}
{"Timestamp":"2024-11-10T22:49:12.6066826+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ee336eea3285aa2868e273ef6b8060e7","SpanId":"aa4b1344caa4ec73","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJV"}}
{"Timestamp":"2024-11-10T22:49:12.6083287+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ee336eea3285aa2868e273ef6b8060e7","SpanId":"aa4b1344caa4ec73","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJV"}}
{"Timestamp":"2024-11-10T22:49:12.6083683+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a9ed3e7c170fcfb87916ed193d117d17","SpanId":"e022737ad7ba8273","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UK0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK0"}}
{"Timestamp":"2024-11-10T22:49:12.6131554+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a9ed3e7c170fcfb87916ed193d117d17","SpanId":"e022737ad7ba8273","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UK0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK0"}}
{"Timestamp":"2024-11-10T22:49:12.6141719+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a9ed3e7c170fcfb87916ed193d117d17","SpanId":"e022737ad7ba8273","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UK0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK0"}}
{"Timestamp":"2024-11-10T22:49:12.6199626+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ee336eea3285aa2868e273ef6b8060e7","SpanId":"aa4b1344caa4ec73","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJV"}}
{"Timestamp":"2024-11-10T22:49:12.6225173+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a9ed3e7c170fcfb87916ed193d117d17","SpanId":"e022737ad7ba8273","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UK0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK0"}}
{"Timestamp":"2024-11-10T22:49:12.6310123+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ee336eea3285aa2868e273ef6b8060e7","SpanId":"aa4b1344caa4ec73","Properties":{"elapsed":"7","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJV"}}
{"Timestamp":"2024-11-10T22:49:12.6310123+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a9ed3e7c170fcfb87916ed193d117d17","SpanId":"e022737ad7ba8273","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UK0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK0"}}
{"Timestamp":"2024-11-10T22:49:12.6354366+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ee336eea3285aa2868e273ef6b8060e7","SpanId":"aa4b1344caa4ec73","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJV"}}
{"Timestamp":"2024-11-10T22:49:12.6362932+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a9ed3e7c170fcfb87916ed193d117d17","SpanId":"e022737ad7ba8273","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UK0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK0"}}
{"Timestamp":"2024-11-10T22:49:12.6369955+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ee336eea3285aa2868e273ef6b8060e7","SpanId":"aa4b1344caa4ec73","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":27.45,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJV"}}
{"Timestamp":"2024-11-10T22:49:12.6380866+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a9ed3e7c170fcfb87916ed193d117d17","SpanId":"e022737ad7ba8273","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":22.696,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UK0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK0"}}
{"Timestamp":"2024-11-10T22:49:12.6391504+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ee336eea3285aa2868e273ef6b8060e7","SpanId":"aa4b1344caa4ec73","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJV"}}
{"Timestamp":"2024-11-10T22:49:12.6402774+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a9ed3e7c170fcfb87916ed193d117d17","SpanId":"e022737ad7ba8273","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UK0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK0"}}
{"Timestamp":"2024-11-10T22:49:12.6414087+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ee336eea3285aa2868e273ef6b8060e7","SpanId":"aa4b1344caa4ec73","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":35.0548,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.0548"}]}}
{"Timestamp":"2024-11-10T22:49:12.6422173+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a9ed3e7c170fcfb87916ed193d117d17","SpanId":"e022737ad7ba8273","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":29.2193,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.2193"}]}}
{"Timestamp":"2024-11-10T22:49:12.6446435+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ee336eea3285aa2868e273ef6b8060e7","SpanId":"aa4b1344caa4ec73","Properties":{"ElapsedMilliseconds":41.1169,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UJV"}}
{"Timestamp":"2024-11-10T22:49:12.6462264+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a9ed3e7c170fcfb87916ed193d117d17","SpanId":"e022737ad7ba8273","Properties":{"ElapsedMilliseconds":37.8672,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UK0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK0"}}
{"Timestamp":"2024-11-10T22:49:12.6514648+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f7fa3e8076448af297af17a6ccfca573","SpanId":"0b79a4760960770a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UK1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UK1"}}
{"Timestamp":"2024-11-10T22:49:12.6539869+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"13f40f5580d318e36bc6ca2a9fda3863","SpanId":"b094d69859e4d25d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UK2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UK2"}}
{"Timestamp":"2024-11-10T22:49:12.6567032+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f7fa3e8076448af297af17a6ccfca573","SpanId":"0b79a4760960770a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UK1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UK1"}}
{"Timestamp":"2024-11-10T22:49:12.6589063+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"13f40f5580d318e36bc6ca2a9fda3863","SpanId":"b094d69859e4d25d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UK2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UK2"}}
{"Timestamp":"2024-11-10T22:49:12.6596085+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f7fa3e8076448af297af17a6ccfca573","SpanId":"0b79a4760960770a","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"52f69725-5c2e-4791-844c-67fb2e1c17d9","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UK1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UK1"}}
{"Timestamp":"2024-11-10T22:49:12.6603278+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"13f40f5580d318e36bc6ca2a9fda3863","SpanId":"b094d69859e4d25d","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UK2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UK2"}}
{"Timestamp":"2024-11-10T22:49:12.6678943+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f7fa3e8076448af297af17a6ccfca573","SpanId":"0b79a4760960770a","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"52f69725-5c2e-4791-844c-67fb2e1c17d9","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UK1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UK1"}}
{"Timestamp":"2024-11-10T22:49:12.6693119+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"13f40f5580d318e36bc6ca2a9fda3863","SpanId":"b094d69859e4d25d","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UK2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UK2"}}
{"Timestamp":"2024-11-10T22:49:12.6702563+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f7fa3e8076448af297af17a6ccfca573","SpanId":"0b79a4760960770a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"52f69725-5c2e-4791-844c-67fb2e1c17d9","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UK1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UK1"}}
{"Timestamp":"2024-11-10T22:49:12.6719244+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"13f40f5580d318e36bc6ca2a9fda3863","SpanId":"b094d69859e4d25d","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UK2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UK2"}}
{"Timestamp":"2024-11-10T22:49:12.6727823+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f7fa3e8076448af297af17a6ccfca573","SpanId":"0b79a4760960770a","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":10.358,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UK1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UK1"}}
{"Timestamp":"2024-11-10T22:49:12.6741003+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"13f40f5580d318e36bc6ca2a9fda3863","SpanId":"b094d69859e4d25d","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":10.6244,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UK2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UK2"}}
{"Timestamp":"2024-11-10T22:49:12.6752368+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f7fa3e8076448af297af17a6ccfca573","SpanId":"0b79a4760960770a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UK1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UK1"}}
{"Timestamp":"2024-11-10T22:49:12.6765382+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"13f40f5580d318e36bc6ca2a9fda3863","SpanId":"b094d69859e4d25d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UK2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UK2"}}
{"Timestamp":"2024-11-10T22:49:12.6781981+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f7fa3e8076448af297af17a6ccfca573","SpanId":"0b79a4760960770a","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":21.7458,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.7458"}]}}
{"Timestamp":"2024-11-10T22:49:12.6795854+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"13f40f5580d318e36bc6ca2a9fda3863","SpanId":"b094d69859e4d25d","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":20.8967,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.8967"}]}}
{"Timestamp":"2024-11-10T22:49:12.6810450+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f7fa3e8076448af297af17a6ccfca573","SpanId":"0b79a4760960770a","Properties":{"ElapsedMilliseconds":29.6217,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UK1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UK1"}}
{"Timestamp":"2024-11-10T22:49:12.6827583+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"13f40f5580d318e36bc6ca2a9fda3863","SpanId":"b094d69859e4d25d","Properties":{"ElapsedMilliseconds":28.8699,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UK2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UK2"}}
{"Timestamp":"2024-11-10T22:49:13.9437551+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2e7a62150188df84787566575cf50683","SpanId":"68ff0687de9d53b8","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UK3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK3"}}
{"Timestamp":"2024-11-10T22:49:13.9465587+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2e7a62150188df84787566575cf50683","SpanId":"68ff0687de9d53b8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UK3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK3"}}
{"Timestamp":"2024-11-10T22:49:13.9477864+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2e7a62150188df84787566575cf50683","SpanId":"68ff0687de9d53b8","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UK3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK3"}}
{"Timestamp":"2024-11-10T22:49:13.9548804+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2e7a62150188df84787566575cf50683","SpanId":"68ff0687de9d53b8","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UK3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK3"}}
{"Timestamp":"2024-11-10T22:49:13.9592022+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2e7a62150188df84787566575cf50683","SpanId":"68ff0687de9d53b8","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UK3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK3"}}
{"Timestamp":"2024-11-10T22:49:13.9612837+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2e7a62150188df84787566575cf50683","SpanId":"68ff0687de9d53b8","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UK3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK3"}}
{"Timestamp":"2024-11-10T22:49:13.9634925+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2e7a62150188df84787566575cf50683","SpanId":"68ff0687de9d53b8","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":14.384,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UK3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK3"}}
{"Timestamp":"2024-11-10T22:49:13.9647010+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2e7a62150188df84787566575cf50683","SpanId":"68ff0687de9d53b8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UK3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK3"}}
{"Timestamp":"2024-11-10T22:49:13.9656847+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2e7a62150188df84787566575cf50683","SpanId":"68ff0687de9d53b8","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":19.3136,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.3136"}]}}
{"Timestamp":"2024-11-10T22:49:13.9672686+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2e7a62150188df84787566575cf50683","SpanId":"68ff0687de9d53b8","Properties":{"ElapsedMilliseconds":23.5331,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UK3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK3"}}
{"Timestamp":"2024-11-10T22:49:13.9695587+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0d4cfd91eb18852bd3b29c0e71e9f6ea","SpanId":"d0abef2c89f565b6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UK4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UK4"}}
{"Timestamp":"2024-11-10T22:49:13.9740211+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0d4cfd91eb18852bd3b29c0e71e9f6ea","SpanId":"d0abef2c89f565b6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UK4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UK4"}}
{"Timestamp":"2024-11-10T22:49:13.9753255+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0d4cfd91eb18852bd3b29c0e71e9f6ea","SpanId":"d0abef2c89f565b6","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UK4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UK4"}}
{"Timestamp":"2024-11-10T22:49:13.9832075+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0d4cfd91eb18852bd3b29c0e71e9f6ea","SpanId":"d0abef2c89f565b6","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UK4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UK4"}}
{"Timestamp":"2024-11-10T22:49:13.9858895+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0d4cfd91eb18852bd3b29c0e71e9f6ea","SpanId":"d0abef2c89f565b6","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UK4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UK4"}}
{"Timestamp":"2024-11-10T22:49:13.9873085+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0d4cfd91eb18852bd3b29c0e71e9f6ea","SpanId":"d0abef2c89f565b6","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":10.161,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UK4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UK4"}}
{"Timestamp":"2024-11-10T22:49:13.9888377+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0d4cfd91eb18852bd3b29c0e71e9f6ea","SpanId":"d0abef2c89f565b6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UK4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UK4"}}
{"Timestamp":"2024-11-10T22:49:13.9899369+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0d4cfd91eb18852bd3b29c0e71e9f6ea","SpanId":"d0abef2c89f565b6","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":16.3627,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.3627"}]}}
{"Timestamp":"2024-11-10T22:49:13.9917336+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0d4cfd91eb18852bd3b29c0e71e9f6ea","SpanId":"d0abef2c89f565b6","Properties":{"ElapsedMilliseconds":22.1946,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UK4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UK4"}}
{"Timestamp":"2024-11-10T22:49:14.0112414+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5d72c12b992443b402ad4d94863a97ef","SpanId":"758168747f11f0bb","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK5"}}
{"Timestamp":"2024-11-10T22:49:14.0141655+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5d72c12b992443b402ad4d94863a97ef","SpanId":"758168747f11f0bb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK5"}}
{"Timestamp":"2024-11-10T22:49:14.0156128+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5d72c12b992443b402ad4d94863a97ef","SpanId":"758168747f11f0bb","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK5"}}
{"Timestamp":"2024-11-10T22:49:14.0207980+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5d72c12b992443b402ad4d94863a97ef","SpanId":"758168747f11f0bb","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK5"}}
{"Timestamp":"2024-11-10T22:49:14.0239875+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5d72c12b992443b402ad4d94863a97ef","SpanId":"758168747f11f0bb","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK5"}}
{"Timestamp":"2024-11-10T22:49:14.0258084+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5d72c12b992443b402ad4d94863a97ef","SpanId":"758168747f11f0bb","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK5"}}
{"Timestamp":"2024-11-10T22:49:14.0269140+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5d72c12b992443b402ad4d94863a97ef","SpanId":"758168747f11f0bb","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":9.4939,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK5"}}
{"Timestamp":"2024-11-10T22:49:14.0276420+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5d72c12b992443b402ad4d94863a97ef","SpanId":"758168747f11f0bb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK5"}}
{"Timestamp":"2024-11-10T22:49:14.0284317+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5d72c12b992443b402ad4d94863a97ef","SpanId":"758168747f11f0bb","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":14.3755,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.3755"}]}}
{"Timestamp":"2024-11-10T22:49:14.0300374+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5d72c12b992443b402ad4d94863a97ef","SpanId":"758168747f11f0bb","Properties":{"ElapsedMilliseconds":18.8678,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK5"}}
{"Timestamp":"2024-11-10T22:49:14.0332110+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"97e5531eb72059b297fe33c55b1a8ad5","SpanId":"e4318d8cee117cec","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UK6:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UK6"}}
{"Timestamp":"2024-11-10T22:49:14.0349392+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"97e5531eb72059b297fe33c55b1a8ad5","SpanId":"e4318d8cee117cec","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UK6:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UK6"}}
{"Timestamp":"2024-11-10T22:49:14.0354968+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"97e5531eb72059b297fe33c55b1a8ad5","SpanId":"e4318d8cee117cec","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f4ca4294-229f-49f3-b35b-d816f4eda200","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81JSDB1UK6:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UK6"}}
{"Timestamp":"2024-11-10T22:49:14.0420053+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"97e5531eb72059b297fe33c55b1a8ad5","SpanId":"e4318d8cee117cec","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f4ca4294-229f-49f3-b35b-d816f4eda200","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81JSDB1UK6:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UK6"}}
{"Timestamp":"2024-11-10T22:49:14.0493086+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"97e5531eb72059b297fe33c55b1a8ad5","SpanId":"e4318d8cee117cec","Properties":{"elapsed":"4","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f4ca4294-229f-49f3-b35b-d816f4eda200","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81JSDB1UK6:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UK6"}}
{"Timestamp":"2024-11-10T22:49:14.0515070+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"97e5531eb72059b297fe33c55b1a8ad5","SpanId":"e4318d8cee117cec","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f4ca4294-229f-49f3-b35b-d816f4eda200","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81JSDB1UK6:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UK6"}}
{"Timestamp":"2024-11-10T22:49:14.0529543+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"97e5531eb72059b297fe33c55b1a8ad5","SpanId":"e4318d8cee117cec","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":16.4901,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UK6:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UK6"}}
{"Timestamp":"2024-11-10T22:49:14.0544866+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"97e5531eb72059b297fe33c55b1a8ad5","SpanId":"e4318d8cee117cec","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UK6:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UK6"}}
{"Timestamp":"2024-11-10T22:49:14.0559839+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"97e5531eb72059b297fe33c55b1a8ad5","SpanId":"e4318d8cee117cec","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":21.1869,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.1869"}]}}
{"Timestamp":"2024-11-10T22:49:14.0581001+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"97e5531eb72059b297fe33c55b1a8ad5","SpanId":"e4318d8cee117cec","Properties":{"ElapsedMilliseconds":24.9162,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UK6:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UK6"}}
{"Timestamp":"2024-11-10T22:49:14.4911938+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"75c88c9651cbc52914a59b6d6aa98a17","SpanId":"24090afe6c371d39","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UK7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK7"}}
{"Timestamp":"2024-11-10T22:49:14.4930006+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"75c88c9651cbc52914a59b6d6aa98a17","SpanId":"24090afe6c371d39","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UK7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK7"}}
{"Timestamp":"2024-11-10T22:49:14.4938905+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"75c88c9651cbc52914a59b6d6aa98a17","SpanId":"24090afe6c371d39","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UK7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK7"}}
{"Timestamp":"2024-11-10T22:49:14.5019704+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"75c88c9651cbc52914a59b6d6aa98a17","SpanId":"24090afe6c371d39","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UK7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK7"}}
{"Timestamp":"2024-11-10T22:49:14.5108617+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"75c88c9651cbc52914a59b6d6aa98a17","SpanId":"24090afe6c371d39","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UK7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK7"}}
{"Timestamp":"2024-11-10T22:49:14.5128480+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"75c88c9651cbc52914a59b6d6aa98a17","SpanId":"24090afe6c371d39","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UK7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK7"}}
{"Timestamp":"2024-11-10T22:49:14.5147891+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"75c88c9651cbc52914a59b6d6aa98a17","SpanId":"24090afe6c371d39","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":19.1267,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UK7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK7"}}
{"Timestamp":"2024-11-10T22:49:14.5162011+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"75c88c9651cbc52914a59b6d6aa98a17","SpanId":"24090afe6c371d39","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UK7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK7"}}
{"Timestamp":"2024-11-10T22:49:14.5170217+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"75c88c9651cbc52914a59b6d6aa98a17","SpanId":"24090afe6c371d39","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":24.2103,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.2103"}]}}
{"Timestamp":"2024-11-10T22:49:14.5184311+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"75c88c9651cbc52914a59b6d6aa98a17","SpanId":"24090afe6c371d39","Properties":{"ElapsedMilliseconds":27.2864,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UK7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK7"}}
{"Timestamp":"2024-11-10T22:49:14.5204988+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"abbb4ea12ee64f87d2a7d785a893d2de","SpanId":"28fa9097d233c8d3","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UK8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UK8"}}
{"Timestamp":"2024-11-10T22:49:14.5241124+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"abbb4ea12ee64f87d2a7d785a893d2de","SpanId":"28fa9097d233c8d3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UK8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UK8"}}
{"Timestamp":"2024-11-10T22:49:14.5250204+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"abbb4ea12ee64f87d2a7d785a893d2de","SpanId":"28fa9097d233c8d3","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UK8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UK8"}}
{"Timestamp":"2024-11-10T22:49:14.5331733+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"abbb4ea12ee64f87d2a7d785a893d2de","SpanId":"28fa9097d233c8d3","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UK8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UK8"}}
{"Timestamp":"2024-11-10T22:49:14.5365814+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"abbb4ea12ee64f87d2a7d785a893d2de","SpanId":"28fa9097d233c8d3","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UK8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UK8"}}
{"Timestamp":"2024-11-10T22:49:14.5383068+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"abbb4ea12ee64f87d2a7d785a893d2de","SpanId":"28fa9097d233c8d3","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":11.7703,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UK8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UK8"}}
{"Timestamp":"2024-11-10T22:49:14.5401051+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"abbb4ea12ee64f87d2a7d785a893d2de","SpanId":"28fa9097d233c8d3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UK8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UK8"}}
{"Timestamp":"2024-11-10T22:49:14.5417364+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"abbb4ea12ee64f87d2a7d785a893d2de","SpanId":"28fa9097d233c8d3","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":17.8382,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.8382"}]}}
{"Timestamp":"2024-11-10T22:49:14.5441836+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"abbb4ea12ee64f87d2a7d785a893d2de","SpanId":"28fa9097d233c8d3","Properties":{"ElapsedMilliseconds":23.7151,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UK8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UK8"}}
{"Timestamp":"2024-11-10T22:49:14.5495634+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6e49773b786659f0e8acadf382c87e7a","SpanId":"91442aa495522717","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UK9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK9"}}
{"Timestamp":"2024-11-10T22:49:14.5520520+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6e49773b786659f0e8acadf382c87e7a","SpanId":"91442aa495522717","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UK9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK9"}}
{"Timestamp":"2024-11-10T22:49:14.5528512+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6e49773b786659f0e8acadf382c87e7a","SpanId":"91442aa495522717","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UK9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK9"}}
{"Timestamp":"2024-11-10T22:49:14.5634230+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6e49773b786659f0e8acadf382c87e7a","SpanId":"91442aa495522717","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UK9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK9"}}
{"Timestamp":"2024-11-10T22:49:14.5693706+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6e49773b786659f0e8acadf382c87e7a","SpanId":"91442aa495522717","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UK9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK9"}}
{"Timestamp":"2024-11-10T22:49:14.5712318+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6e49773b786659f0e8acadf382c87e7a","SpanId":"91442aa495522717","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UK9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK9"}}
{"Timestamp":"2024-11-10T22:49:14.5724121+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6e49773b786659f0e8acadf382c87e7a","SpanId":"91442aa495522717","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.9218,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UK9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK9"}}
{"Timestamp":"2024-11-10T22:49:14.5741781+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6e49773b786659f0e8acadf382c87e7a","SpanId":"91442aa495522717","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UK9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK9"}}
{"Timestamp":"2024-11-10T22:49:14.5752263+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6e49773b786659f0e8acadf382c87e7a","SpanId":"91442aa495522717","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":23.2303,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.2303"}]}}
{"Timestamp":"2024-11-10T22:49:14.5766052+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6e49773b786659f0e8acadf382c87e7a","SpanId":"91442aa495522717","Properties":{"ElapsedMilliseconds":27.1704,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UK9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UK9"}}
{"Timestamp":"2024-11-10T22:49:14.5793264+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fbd162f53252df720470c26e139b1678","SpanId":"b58a588387d50533","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UKA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UKA"}}
{"Timestamp":"2024-11-10T22:49:14.5826255+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fbd162f53252df720470c26e139b1678","SpanId":"b58a588387d50533","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UKA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UKA"}}
{"Timestamp":"2024-11-10T22:49:14.5833142+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fbd162f53252df720470c26e139b1678","SpanId":"b58a588387d50533","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f4ca4294-229f-49f3-b35b-d816f4eda200","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81JSDB1UKA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UKA"}}
{"Timestamp":"2024-11-10T22:49:14.5922181+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fbd162f53252df720470c26e139b1678","SpanId":"b58a588387d50533","Properties":{"elapsed":"4","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f4ca4294-229f-49f3-b35b-d816f4eda200","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81JSDB1UKA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UKA"}}
{"Timestamp":"2024-11-10T22:49:14.5996528+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fbd162f53252df720470c26e139b1678","SpanId":"b58a588387d50533","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f4ca4294-229f-49f3-b35b-d816f4eda200","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81JSDB1UKA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UKA"}}
{"Timestamp":"2024-11-10T22:49:14.6022998+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fbd162f53252df720470c26e139b1678","SpanId":"b58a588387d50533","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f4ca4294-229f-49f3-b35b-d816f4eda200","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81JSDB1UKA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UKA"}}
{"Timestamp":"2024-11-10T22:49:14.6031675+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fbd162f53252df720470c26e139b1678","SpanId":"b58a588387d50533","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":18.4803,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UKA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UKA"}}
{"Timestamp":"2024-11-10T22:49:14.6040681+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fbd162f53252df720470c26e139b1678","SpanId":"b58a588387d50533","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UKA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UKA"}}
{"Timestamp":"2024-11-10T22:49:14.6049547+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fbd162f53252df720470c26e139b1678","SpanId":"b58a588387d50533","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":22.5481,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.5481"}]}}
{"Timestamp":"2024-11-10T22:49:14.6062213+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fbd162f53252df720470c26e139b1678","SpanId":"b58a588387d50533","Properties":{"ElapsedMilliseconds":26.9141,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UKA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UKA"}}
{"Timestamp":"2024-11-10T22:49:15.1231649+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5f0955f6cf68f1995aa27e2ca19b1f43","SpanId":"08af982c10ca766d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UKB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKB"}}
{"Timestamp":"2024-11-10T22:49:15.1249493+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5f0955f6cf68f1995aa27e2ca19b1f43","SpanId":"08af982c10ca766d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UKB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKB"}}
{"Timestamp":"2024-11-10T22:49:15.1257686+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5f0955f6cf68f1995aa27e2ca19b1f43","SpanId":"08af982c10ca766d","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UKB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKB"}}
{"Timestamp":"2024-11-10T22:49:15.1358590+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5f0955f6cf68f1995aa27e2ca19b1f43","SpanId":"08af982c10ca766d","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UKB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKB"}}
{"Timestamp":"2024-11-10T22:49:15.1407643+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5f0955f6cf68f1995aa27e2ca19b1f43","SpanId":"08af982c10ca766d","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UKB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKB"}}
{"Timestamp":"2024-11-10T22:49:15.1426942+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5f0955f6cf68f1995aa27e2ca19b1f43","SpanId":"08af982c10ca766d","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UKB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKB"}}
{"Timestamp":"2024-11-10T22:49:15.1438322+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5f0955f6cf68f1995aa27e2ca19b1f43","SpanId":"08af982c10ca766d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.2739,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UKB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKB"}}
{"Timestamp":"2024-11-10T22:49:15.1449175+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5f0955f6cf68f1995aa27e2ca19b1f43","SpanId":"08af982c10ca766d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UKB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKB"}}
{"Timestamp":"2024-11-10T22:49:15.1459218+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5f0955f6cf68f1995aa27e2ca19b1f43","SpanId":"08af982c10ca766d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":21.044,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.0440"}]}}
{"Timestamp":"2024-11-10T22:49:15.1479740+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5f0955f6cf68f1995aa27e2ca19b1f43","SpanId":"08af982c10ca766d","Properties":{"ElapsedMilliseconds":24.8234,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UKB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKB"}}
{"Timestamp":"2024-11-10T22:49:15.1602527+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fa2908fc5de82f5852bc4aec243cc17f","SpanId":"b25958657703ac39","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UKC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UKC"}}
{"Timestamp":"2024-11-10T22:49:15.1635980+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fa2908fc5de82f5852bc4aec243cc17f","SpanId":"b25958657703ac39","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UKC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UKC"}}
{"Timestamp":"2024-11-10T22:49:15.1646185+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fa2908fc5de82f5852bc4aec243cc17f","SpanId":"b25958657703ac39","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UKC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UKC"}}
{"Timestamp":"2024-11-10T22:49:15.1717445+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fa2908fc5de82f5852bc4aec243cc17f","SpanId":"b25958657703ac39","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UKC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UKC"}}
{"Timestamp":"2024-11-10T22:49:15.1740988+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fa2908fc5de82f5852bc4aec243cc17f","SpanId":"b25958657703ac39","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UKC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UKC"}}
{"Timestamp":"2024-11-10T22:49:15.1754518+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fa2908fc5de82f5852bc4aec243cc17f","SpanId":"b25958657703ac39","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":9.0213,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UKC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UKC"}}
{"Timestamp":"2024-11-10T22:49:15.1765219+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fa2908fc5de82f5852bc4aec243cc17f","SpanId":"b25958657703ac39","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UKC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UKC"}}
{"Timestamp":"2024-11-10T22:49:15.1774247+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fa2908fc5de82f5852bc4aec243cc17f","SpanId":"b25958657703ac39","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":14.2813,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.2813"}]}}
{"Timestamp":"2024-11-10T22:49:15.1789346+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fa2908fc5de82f5852bc4aec243cc17f","SpanId":"b25958657703ac39","Properties":{"ElapsedMilliseconds":18.6829,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UKC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UKC"}}
{"Timestamp":"2024-11-10T22:49:15.1833808+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d0ec8fce1b2e9dea24001964762f6e0a","SpanId":"8baf9887ad2a7942","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UKD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKD"}}
{"Timestamp":"2024-11-10T22:49:15.1847585+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d0ec8fce1b2e9dea24001964762f6e0a","SpanId":"8baf9887ad2a7942","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UKD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKD"}}
{"Timestamp":"2024-11-10T22:49:15.1853575+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d0ec8fce1b2e9dea24001964762f6e0a","SpanId":"8baf9887ad2a7942","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UKD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKD"}}
{"Timestamp":"2024-11-10T22:49:15.1933989+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d0ec8fce1b2e9dea24001964762f6e0a","SpanId":"8baf9887ad2a7942","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UKD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKD"}}
{"Timestamp":"2024-11-10T22:49:15.1988741+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d0ec8fce1b2e9dea24001964762f6e0a","SpanId":"8baf9887ad2a7942","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UKD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKD"}}
{"Timestamp":"2024-11-10T22:49:15.2013455+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d0ec8fce1b2e9dea24001964762f6e0a","SpanId":"8baf9887ad2a7942","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UKD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKD"}}
{"Timestamp":"2024-11-10T22:49:15.2028475+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d0ec8fce1b2e9dea24001964762f6e0a","SpanId":"8baf9887ad2a7942","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.445,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UKD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKD"}}
{"Timestamp":"2024-11-10T22:49:15.2036227+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d0ec8fce1b2e9dea24001964762f6e0a","SpanId":"8baf9887ad2a7942","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UKD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKD"}}
{"Timestamp":"2024-11-10T22:49:15.2042716+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d0ec8fce1b2e9dea24001964762f6e0a","SpanId":"8baf9887ad2a7942","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":19.5598,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.5598"}]}}
{"Timestamp":"2024-11-10T22:49:15.2053048+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d0ec8fce1b2e9dea24001964762f6e0a","SpanId":"8baf9887ad2a7942","Properties":{"ElapsedMilliseconds":21.9521,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UKD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKD"}}
{"Timestamp":"2024-11-10T22:49:15.2083971+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6bf4bd73d9065d95d35eb9b07a35aa6e","SpanId":"1756493b834bb7ef","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UKE:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UKE"}}
{"Timestamp":"2024-11-10T22:49:15.2111646+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6bf4bd73d9065d95d35eb9b07a35aa6e","SpanId":"1756493b834bb7ef","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UKE:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UKE"}}
{"Timestamp":"2024-11-10T22:49:15.2127936+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6bf4bd73d9065d95d35eb9b07a35aa6e","SpanId":"1756493b834bb7ef","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f4ca4294-229f-49f3-b35b-d816f4eda200","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81JSDB1UKE:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UKE"}}
{"Timestamp":"2024-11-10T22:49:15.2229375+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6bf4bd73d9065d95d35eb9b07a35aa6e","SpanId":"1756493b834bb7ef","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f4ca4294-229f-49f3-b35b-d816f4eda200","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81JSDB1UKE:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UKE"}}
{"Timestamp":"2024-11-10T22:49:15.2271835+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6bf4bd73d9065d95d35eb9b07a35aa6e","SpanId":"1756493b834bb7ef","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f4ca4294-229f-49f3-b35b-d816f4eda200","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81JSDB1UKE:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UKE"}}
{"Timestamp":"2024-11-10T22:49:15.2292644+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6bf4bd73d9065d95d35eb9b07a35aa6e","SpanId":"1756493b834bb7ef","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f4ca4294-229f-49f3-b35b-d816f4eda200","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN81JSDB1UKE:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UKE"}}
{"Timestamp":"2024-11-10T22:49:15.2312882+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6bf4bd73d9065d95d35eb9b07a35aa6e","SpanId":"1756493b834bb7ef","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":15.8161,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UKE:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UKE"}}
{"Timestamp":"2024-11-10T22:49:15.2324383+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6bf4bd73d9065d95d35eb9b07a35aa6e","SpanId":"1756493b834bb7ef","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UKE:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UKE"}}
{"Timestamp":"2024-11-10T22:49:15.2331275+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6bf4bd73d9065d95d35eb9b07a35aa6e","SpanId":"1756493b834bb7ef","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":22.1856,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.1856"}]}}
{"Timestamp":"2024-11-10T22:49:15.2342623+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6bf4bd73d9065d95d35eb9b07a35aa6e","SpanId":"1756493b834bb7ef","Properties":{"ElapsedMilliseconds":25.9338,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UKE:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN81JSDB1UKE"}}
{"Timestamp":"2024-11-10T22:49:20.7020140+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a7cfd54f0994b37fed18c17db57918c9","SpanId":"6d013f8fc67e18c0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UKF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKF"}}
{"Timestamp":"2024-11-10T22:49:20.7056860+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a7cfd54f0994b37fed18c17db57918c9","SpanId":"6d013f8fc67e18c0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UKF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKF"}}
{"Timestamp":"2024-11-10T22:49:20.7067336+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a7cfd54f0994b37fed18c17db57918c9","SpanId":"6d013f8fc67e18c0","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UKF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKF"}}
{"Timestamp":"2024-11-10T22:49:20.7178923+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a7cfd54f0994b37fed18c17db57918c9","SpanId":"6d013f8fc67e18c0","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UKF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKF"}}
{"Timestamp":"2024-11-10T22:49:20.7230052+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a7cfd54f0994b37fed18c17db57918c9","SpanId":"6d013f8fc67e18c0","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UKF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKF"}}
{"Timestamp":"2024-11-10T22:49:20.7266642+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a7cfd54f0994b37fed18c17db57918c9","SpanId":"6d013f8fc67e18c0","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UKF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKF"}}
{"Timestamp":"2024-11-10T22:49:20.7287998+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a7cfd54f0994b37fed18c17db57918c9","SpanId":"6d013f8fc67e18c0","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.1369,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UKF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKF"}}
{"Timestamp":"2024-11-10T22:49:20.7305498+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a7cfd54f0994b37fed18c17db57918c9","SpanId":"6d013f8fc67e18c0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UKF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKF"}}
{"Timestamp":"2024-11-10T22:49:20.7319266+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a7cfd54f0994b37fed18c17db57918c9","SpanId":"6d013f8fc67e18c0","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":26.2844,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.2844"}]}}
{"Timestamp":"2024-11-10T22:49:20.7354377+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a7cfd54f0994b37fed18c17db57918c9","SpanId":"6d013f8fc67e18c0","Properties":{"ElapsedMilliseconds":33.4604,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UKF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKF"}}
{"Timestamp":"2024-11-10T22:49:20.7406603+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"040ccd44f7aa72a8bf0c9e401242efa9","SpanId":"86621a0d5a668150","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UKG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UKG"}}
{"Timestamp":"2024-11-10T22:49:20.7438032+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"040ccd44f7aa72a8bf0c9e401242efa9","SpanId":"86621a0d5a668150","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UKG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UKG"}}
{"Timestamp":"2024-11-10T22:49:20.7449090+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"040ccd44f7aa72a8bf0c9e401242efa9","SpanId":"86621a0d5a668150","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"52f69725-5c2e-4791-844c-67fb2e1c17d9","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UKG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UKG"}}
{"Timestamp":"2024-11-10T22:49:20.7555344+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"040ccd44f7aa72a8bf0c9e401242efa9","SpanId":"86621a0d5a668150","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"52f69725-5c2e-4791-844c-67fb2e1c17d9","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UKG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UKG"}}
{"Timestamp":"2024-11-10T22:49:20.7572119+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"040ccd44f7aa72a8bf0c9e401242efa9","SpanId":"86621a0d5a668150","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"52f69725-5c2e-4791-844c-67fb2e1c17d9","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UKG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UKG"}}
{"Timestamp":"2024-11-10T22:49:20.7589297+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"040ccd44f7aa72a8bf0c9e401242efa9","SpanId":"86621a0d5a668150","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":10.9934,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UKG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UKG"}}
{"Timestamp":"2024-11-10T22:49:20.7605392+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"040ccd44f7aa72a8bf0c9e401242efa9","SpanId":"86621a0d5a668150","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UKG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UKG"}}
{"Timestamp":"2024-11-10T22:49:20.7619103+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"040ccd44f7aa72a8bf0c9e401242efa9","SpanId":"86621a0d5a668150","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":18.4206,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.4206"}]}}
{"Timestamp":"2024-11-10T22:49:20.7633132+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"040ccd44f7aa72a8bf0c9e401242efa9","SpanId":"86621a0d5a668150","Properties":{"ElapsedMilliseconds":22.7891,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UKG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UKG"}}
{"Timestamp":"2024-11-10T22:49:20.8860009+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fb53bb5c1424c9b2a83aa17c4215824d","SpanId":"a6cedc48fd692c88","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UKH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKH"}}
{"Timestamp":"2024-11-10T22:49:20.8924996+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fb53bb5c1424c9b2a83aa17c4215824d","SpanId":"a6cedc48fd692c88","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UKH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKH"}}
{"Timestamp":"2024-11-10T22:49:20.8948391+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fcab386f522dddb7ec399c26d7cb8211","SpanId":"4e2e43a8b87d557f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UKI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKI"}}
{"Timestamp":"2024-11-10T22:49:20.8953820+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fb53bb5c1424c9b2a83aa17c4215824d","SpanId":"a6cedc48fd692c88","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UKH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKH"}}
{"Timestamp":"2024-11-10T22:49:20.8997551+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fcab386f522dddb7ec399c26d7cb8211","SpanId":"4e2e43a8b87d557f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UKI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKI"}}
{"Timestamp":"2024-11-10T22:49:20.9058435+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fcab386f522dddb7ec399c26d7cb8211","SpanId":"4e2e43a8b87d557f","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UKI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKI"}}
{"Timestamp":"2024-11-10T22:49:20.9104867+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fb53bb5c1424c9b2a83aa17c4215824d","SpanId":"a6cedc48fd692c88","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UKH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKH"}}
{"Timestamp":"2024-11-10T22:49:20.9107995+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fcab386f522dddb7ec399c26d7cb8211","SpanId":"4e2e43a8b87d557f","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UKI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKI"}}
{"Timestamp":"2024-11-10T22:49:20.9235383+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fcab386f522dddb7ec399c26d7cb8211","SpanId":"4e2e43a8b87d557f","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UKI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKI"}}
{"Timestamp":"2024-11-10T22:49:20.9236479+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fb53bb5c1424c9b2a83aa17c4215824d","SpanId":"a6cedc48fd692c88","Properties":{"elapsed":"10","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UKH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKH"}}
{"Timestamp":"2024-11-10T22:49:20.9264399+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fcab386f522dddb7ec399c26d7cb8211","SpanId":"4e2e43a8b87d557f","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UKI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKI"}}
{"Timestamp":"2024-11-10T22:49:20.9284763+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fb53bb5c1424c9b2a83aa17c4215824d","SpanId":"a6cedc48fd692c88","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UKH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKH"}}
{"Timestamp":"2024-11-10T22:49:20.9294645+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fcab386f522dddb7ec399c26d7cb8211","SpanId":"4e2e43a8b87d557f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":22.3351,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UKI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKI"}}
{"Timestamp":"2024-11-10T22:49:20.9308901+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fb53bb5c1424c9b2a83aa17c4215824d","SpanId":"a6cedc48fd692c88","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":27.84,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UKH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKH"}}
{"Timestamp":"2024-11-10T22:49:20.9346983+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fcab386f522dddb7ec399c26d7cb8211","SpanId":"4e2e43a8b87d557f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UKI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKI"}}
{"Timestamp":"2024-11-10T22:49:20.9358639+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fb53bb5c1424c9b2a83aa17c4215824d","SpanId":"a6cedc48fd692c88","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UKH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKH"}}
{"Timestamp":"2024-11-10T22:49:20.9367217+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fcab386f522dddb7ec399c26d7cb8211","SpanId":"4e2e43a8b87d557f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":37.159,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"37.1590"}]}}
{"Timestamp":"2024-11-10T22:49:20.9383677+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fb53bb5c1424c9b2a83aa17c4215824d","SpanId":"a6cedc48fd692c88","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":46.0126,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"46.0126"}]}}
{"Timestamp":"2024-11-10T22:49:20.9402015+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fcab386f522dddb7ec399c26d7cb8211","SpanId":"4e2e43a8b87d557f","Properties":{"ElapsedMilliseconds":45.3828,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UKI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKI"}}
{"Timestamp":"2024-11-10T22:49:20.9416083+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fb53bb5c1424c9b2a83aa17c4215824d","SpanId":"a6cedc48fd692c88","Properties":{"ElapsedMilliseconds":55.6276,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UKH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKH"}}
{"Timestamp":"2024-11-10T22:49:20.9454015+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"148b3061421e4d35b9109fe51c39ef37","SpanId":"898b005182bb4309","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UKJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UKJ"}}
{"Timestamp":"2024-11-10T22:49:20.9494264+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dcfe797591ca5c671a87075a47faad61","SpanId":"a653c131a01f2287","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UKK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UKK"}}
{"Timestamp":"2024-11-10T22:49:20.9558331+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"148b3061421e4d35b9109fe51c39ef37","SpanId":"898b005182bb4309","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UKJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UKJ"}}
{"Timestamp":"2024-11-10T22:49:20.9598323+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"dcfe797591ca5c671a87075a47faad61","SpanId":"a653c131a01f2287","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UKK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UKK"}}
{"Timestamp":"2024-11-10T22:49:20.9601987+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"148b3061421e4d35b9109fe51c39ef37","SpanId":"898b005182bb4309","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UKJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UKJ"}}
{"Timestamp":"2024-11-10T22:49:20.9610858+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"dcfe797591ca5c671a87075a47faad61","SpanId":"a653c131a01f2287","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"52f69725-5c2e-4791-844c-67fb2e1c17d9","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UKK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UKK"}}
{"Timestamp":"2024-11-10T22:49:20.9718359+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dcfe797591ca5c671a87075a47faad61","SpanId":"a653c131a01f2287","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"52f69725-5c2e-4791-844c-67fb2e1c17d9","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UKK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UKK"}}
{"Timestamp":"2024-11-10T22:49:20.9726958+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"148b3061421e4d35b9109fe51c39ef37","SpanId":"898b005182bb4309","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UKJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UKJ"}}
{"Timestamp":"2024-11-10T22:49:20.9740861+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"dcfe797591ca5c671a87075a47faad61","SpanId":"a653c131a01f2287","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"52f69725-5c2e-4791-844c-67fb2e1c17d9","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UKK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UKK"}}
{"Timestamp":"2024-11-10T22:49:20.9757536+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"148b3061421e4d35b9109fe51c39ef37","SpanId":"898b005182bb4309","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"eca87fb4-7f5e-4809-af8f-c7e83d3179ea","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81JSDB1UKJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UKJ"}}
{"Timestamp":"2024-11-10T22:49:20.9766360+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"dcfe797591ca5c671a87075a47faad61","SpanId":"a653c131a01f2287","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":11.413,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UKK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UKK"}}
{"Timestamp":"2024-11-10T22:49:20.9778173+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"148b3061421e4d35b9109fe51c39ef37","SpanId":"898b005182bb4309","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":14.8963,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UKJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UKJ"}}
{"Timestamp":"2024-11-10T22:49:20.9786093+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"dcfe797591ca5c671a87075a47faad61","SpanId":"a653c131a01f2287","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UKK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UKK"}}
{"Timestamp":"2024-11-10T22:49:20.9793666+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"148b3061421e4d35b9109fe51c39ef37","SpanId":"898b005182bb4309","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UKJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UKJ"}}
{"Timestamp":"2024-11-10T22:49:20.9799964+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"dcfe797591ca5c671a87075a47faad61","SpanId":"a653c131a01f2287","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":20.7884,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.7884"}]}}
{"Timestamp":"2024-11-10T22:49:20.9805871+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"148b3061421e4d35b9109fe51c39ef37","SpanId":"898b005182bb4309","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":26.4013,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.4013"}]}}
{"Timestamp":"2024-11-10T22:49:20.9819340+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dcfe797591ca5c671a87075a47faad61","SpanId":"a653c131a01f2287","Properties":{"ElapsedMilliseconds":32.6706,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UKK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81JSDB1UKK"}}
{"Timestamp":"2024-11-10T22:49:20.9833381+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"148b3061421e4d35b9109fe51c39ef37","SpanId":"898b005182bb4309","Properties":{"ElapsedMilliseconds":37.9918,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UKJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81JSDB1UKJ"}}
{"Timestamp":"2024-11-10T22:49:36.2894202+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3641b5aa17334545ac9257f9b13e75c2","SpanId":"dcb07d7cd9f07e46","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UKL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKL"}}
{"Timestamp":"2024-11-10T22:49:36.2946193+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3641b5aa17334545ac9257f9b13e75c2","SpanId":"dcb07d7cd9f07e46","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UKL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKL"}}
{"Timestamp":"2024-11-10T22:49:36.2960315+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3641b5aa17334545ac9257f9b13e75c2","SpanId":"dcb07d7cd9f07e46","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UKL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKL"}}
{"Timestamp":"2024-11-10T22:49:36.3113784+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3641b5aa17334545ac9257f9b13e75c2","SpanId":"dcb07d7cd9f07e46","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UKL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKL"}}
{"Timestamp":"2024-11-10T22:49:36.3240299+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3641b5aa17334545ac9257f9b13e75c2","SpanId":"dcb07d7cd9f07e46","Properties":{"elapsed":"9","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UKL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKL"}}
{"Timestamp":"2024-11-10T22:49:36.3283996+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3641b5aa17334545ac9257f9b13e75c2","SpanId":"dcb07d7cd9f07e46","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UKL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKL"}}
{"Timestamp":"2024-11-10T22:49:36.3296293+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3641b5aa17334545ac9257f9b13e75c2","SpanId":"dcb07d7cd9f07e46","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":31.0749,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UKL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKL"}}
{"Timestamp":"2024-11-10T22:49:36.3310045+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3641b5aa17334545ac9257f9b13e75c2","SpanId":"dcb07d7cd9f07e46","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UKL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKL"}}
{"Timestamp":"2024-11-10T22:49:36.3322852+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3641b5aa17334545ac9257f9b13e75c2","SpanId":"dcb07d7cd9f07e46","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":37.7232,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"37.7232"}]}}
{"Timestamp":"2024-11-10T22:49:36.3341072+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3641b5aa17334545ac9257f9b13e75c2","SpanId":"dcb07d7cd9f07e46","Properties":{"ElapsedMilliseconds":45.0749,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UKL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKL"}}
{"Timestamp":"2024-11-10T22:49:36.3376494+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9fa8660d2aebf4faa776984daa3a57d3","SpanId":"6dfcc28a7703936c","Properties":{"Protocol":"HTTP/1.1","Method":"PUT","ContentType":"application/json; charset=utf-8","ContentLength":97,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2230","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UKM:00000001","RequestPath":"/api/Schedules/2230","ConnectionId":"0HN81JSDB1UKM"}}
{"Timestamp":"2024-11-10T22:49:36.3419263+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9fa8660d2aebf4faa776984daa3a57d3","SpanId":"6dfcc28a7703936c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UKM:00000001","RequestPath":"/api/Schedules/2230","ConnectionId":"0HN81JSDB1UKM"}}
{"Timestamp":"2024-11-10T22:49:36.3431846+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9fa8660d2aebf4faa776984daa3a57d3","SpanId":"6dfcc28a7703936c","Properties":{"RouteData":"{action = \"Update\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Update(Int32, WebCalenderAPI.Models.ScheduleVM)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"13c6f699-24f5-4932-aac1-06aec5262b0c","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN81JSDB1UKM:00000001","RequestPath":"/api/Schedules/2230","ConnectionId":"0HN81JSDB1UKM"}}
{"Timestamp":"2024-11-10T22:49:36.3514362+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9fa8660d2aebf4faa776984daa3a57d3","SpanId":"6dfcc28a7703936c","Properties":{"elapsed":"2","parameters":"@__schedule_id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__schedule_id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"13c6f699-24f5-4932-aac1-06aec5262b0c","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN81JSDB1UKM:00000001","RequestPath":"/api/Schedules/2230","ConnectionId":"0HN81JSDB1UKM"}}
{"Timestamp":"2024-11-10T22:49:36.3568016+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9fa8660d2aebf4faa776984daa3a57d3","SpanId":"6dfcc28a7703936c","Properties":{"elapsed":"3","parameters":"@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [Schedules] SET [FromX] = @p0, [FromY] = @p1, [Reason] = @p2, [ToX] = @p3, [ToY] = @p4\r\nOUTPUT 1\r\nWHERE [Id] = @p5;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"13c6f699-24f5-4932-aac1-06aec5262b0c","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN81JSDB1UKM:00000001","RequestPath":"/api/Schedules/2230","ConnectionId":"0HN81JSDB1UKM"}}
{"Timestamp":"2024-11-10T22:49:36.3587831+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"9fa8660d2aebf4faa776984daa3a57d3","SpanId":"6dfcc28a7703936c","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"13c6f699-24f5-4932-aac1-06aec5262b0c","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN81JSDB1UKM:00000001","RequestPath":"/api/Schedules/2230","ConnectionId":"0HN81JSDB1UKM"}}
{"Timestamp":"2024-11-10T22:49:36.3595613+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9fa8660d2aebf4faa776984daa3a57d3","SpanId":"6dfcc28a7703936c","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","ElapsedMilliseconds":13.9059,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UKM:00000001","RequestPath":"/api/Schedules/2230","ConnectionId":"0HN81JSDB1UKM"}}
{"Timestamp":"2024-11-10T22:49:36.3605199+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9fa8660d2aebf4faa776984daa3a57d3","SpanId":"6dfcc28a7703936c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UKM:00000001","RequestPath":"/api/Schedules/2230","ConnectionId":"0HN81JSDB1UKM"}}
{"Timestamp":"2024-11-10T22:49:36.3612111+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9fa8660d2aebf4faa776984daa3a57d3","SpanId":"6dfcc28a7703936c","Properties":{"RequestMethod":"PUT","RequestPath":"/api/Schedules/2230","StatusCode":200,"Elapsed":19.3823,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.3823"}]}}
{"Timestamp":"2024-11-10T22:49:36.3626584+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9fa8660d2aebf4faa776984daa3a57d3","SpanId":"6dfcc28a7703936c","Properties":{"ElapsedMilliseconds":25.0525,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"PUT","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2230","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UKM:00000001","RequestPath":"/api/Schedules/2230","ConnectionId":"0HN81JSDB1UKM"}}
{"Timestamp":"2024-11-10T22:49:36.9959711+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c9d0a7799d59c3f7841a7520bfbb007d","SpanId":"9ee8c8f66cea8ecb","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UKN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKN"}}
{"Timestamp":"2024-11-10T22:49:37.0021903+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c9d0a7799d59c3f7841a7520bfbb007d","SpanId":"9ee8c8f66cea8ecb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UKN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKN"}}
{"Timestamp":"2024-11-10T22:49:37.0070431+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c9d0a7799d59c3f7841a7520bfbb007d","SpanId":"9ee8c8f66cea8ecb","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UKN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKN"}}
{"Timestamp":"2024-11-10T22:49:37.0229728+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c9d0a7799d59c3f7841a7520bfbb007d","SpanId":"9ee8c8f66cea8ecb","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UKN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKN"}}
{"Timestamp":"2024-11-10T22:49:37.0301308+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c9d0a7799d59c3f7841a7520bfbb007d","SpanId":"9ee8c8f66cea8ecb","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UKN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKN"}}
{"Timestamp":"2024-11-10T22:49:37.0338044+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c9d0a7799d59c3f7841a7520bfbb007d","SpanId":"9ee8c8f66cea8ecb","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"057c07f5-d688-49e6-ae11-c197e36bb3b2","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81JSDB1UKN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKN"}}
{"Timestamp":"2024-11-10T22:49:37.0350011+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c9d0a7799d59c3f7841a7520bfbb007d","SpanId":"9ee8c8f66cea8ecb","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":21.7728,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81JSDB1UKN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKN"}}
{"Timestamp":"2024-11-10T22:49:37.0361916+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c9d0a7799d59c3f7841a7520bfbb007d","SpanId":"9ee8c8f66cea8ecb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81JSDB1UKN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKN"}}
{"Timestamp":"2024-11-10T22:49:37.0372237+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c9d0a7799d59c3f7841a7520bfbb007d","SpanId":"9ee8c8f66cea8ecb","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":35.1755,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.1755"}]}}
{"Timestamp":"2024-11-10T22:49:37.0396171+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c9d0a7799d59c3f7841a7520bfbb007d","SpanId":"9ee8c8f66cea8ecb","Properties":{"ElapsedMilliseconds":44.2723,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81JSDB1UKN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81JSDB1UKN"}}
{"Timestamp":"2024-11-10T22:59:08.9055165+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-10T22:59:09.2623850+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T22:59:09.3253015+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T22:59:09.3275511+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T22:59:09.3290560+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T22:59:09.9142602+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"68323b1d3cdeecfb81faa99e2257f462","SpanId":"7e16d0b87e38325e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3MVV:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN81K2EE3MVV"}}
{"Timestamp":"2024-11-10T22:59:10.2044745+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"68323b1d3cdeecfb81faa99e2257f462","SpanId":"7e16d0b87e38325e","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":82.6896,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"82.6896"}]}}
{"Timestamp":"2024-11-10T22:59:10.2132086+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e73fca39ff529d0fd33b8cc54ca65e50","SpanId":"99b67c84cc9a21ee","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N01:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN81K2EE3N01"}}
{"Timestamp":"2024-11-10T22:59:10.2168184+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"363b79df50e1b34614e10494bd37e339","SpanId":"65d0895c8eb2262e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N02:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN81K2EE3N02"}}
{"Timestamp":"2024-11-10T22:59:10.2240087+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e73fca39ff529d0fd33b8cc54ca65e50","SpanId":"99b67c84cc9a21ee","Properties":{"ElapsedMilliseconds":10.9947,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N01:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN81K2EE3N01"}}
{"Timestamp":"2024-11-10T22:59:10.2254592+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"68323b1d3cdeecfb81faa99e2257f462","SpanId":"7e16d0b87e38325e","Properties":{"ElapsedMilliseconds":318.5886,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3MVV:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN81K2EE3MVV"}}
{"Timestamp":"2024-11-10T22:59:10.2996422+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"363b79df50e1b34614e10494bd37e339","SpanId":"65d0895c8eb2262e","Properties":{"ElapsedMilliseconds":83.9861,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N02:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN81K2EE3N02"}}
{"Timestamp":"2024-11-10T22:59:10.3605991+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e512006a812c91175bdf9754938b7473","SpanId":"120509baa43301f9","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N02:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN81K2EE3N02"}}
{"Timestamp":"2024-11-10T22:59:10.5157759+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e512006a812c91175bdf9754938b7473","SpanId":"120509baa43301f9","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":151.2437,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"151.2437"}]}}
{"Timestamp":"2024-11-10T22:59:10.5183939+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e512006a812c91175bdf9754938b7473","SpanId":"120509baa43301f9","Properties":{"ElapsedMilliseconds":157.7203,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N02:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN81K2EE3N02"}}
{"Timestamp":"2024-11-10T22:59:21.4591596+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c700f2080a3ca0c863af1de123a7c76f","SpanId":"a8711a945cfe06bc","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N03:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81K2EE3N03"}}
{"Timestamp":"2024-11-10T22:59:21.4704258+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"c700f2080a3ca0c863af1de123a7c76f","SpanId":"a8711a945cfe06bc","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN81K2EE3N03:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81K2EE3N03"}}
{"Timestamp":"2024-11-10T22:59:21.5803064+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c700f2080a3ca0c863af1de123a7c76f","SpanId":"a8711a945cfe06bc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N03:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81K2EE3N03"}}
{"Timestamp":"2024-11-10T22:59:21.6262775+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c700f2080a3ca0c863af1de123a7c76f","SpanId":"a8711a945cfe06bc","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"18c40569-03ed-43fd-a535-e28a3d127f86","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81K2EE3N03:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81K2EE3N03"}}
{"Timestamp":"2024-11-10T22:59:23.7744402+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c700f2080a3ca0c863af1de123a7c76f","SpanId":"a8711a945cfe06bc","Properties":{"elapsed":"44","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"18c40569-03ed-43fd-a535-e28a3d127f86","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81K2EE3N03:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81K2EE3N03"}}
{"Timestamp":"2024-11-10T22:59:24.1448819+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c700f2080a3ca0c863af1de123a7c76f","SpanId":"a8711a945cfe06bc","Properties":{"elapsed":"27","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"18c40569-03ed-43fd-a535-e28a3d127f86","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81K2EE3N03:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81K2EE3N03"}}
{"Timestamp":"2024-11-10T22:59:24.1805902+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c700f2080a3ca0c863af1de123a7c76f","SpanId":"a8711a945cfe06bc","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"18c40569-03ed-43fd-a535-e28a3d127f86","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81K2EE3N03:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81K2EE3N03"}}
{"Timestamp":"2024-11-10T22:59:24.1906394+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c700f2080a3ca0c863af1de123a7c76f","SpanId":"a8711a945cfe06bc","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":2557.7849,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N03:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81K2EE3N03"}}
{"Timestamp":"2024-11-10T22:59:24.1931469+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c700f2080a3ca0c863af1de123a7c76f","SpanId":"a8711a945cfe06bc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N03:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81K2EE3N03"}}
{"Timestamp":"2024-11-10T22:59:24.1981788+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c700f2080a3ca0c863af1de123a7c76f","SpanId":"a8711a945cfe06bc","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":2732.6712,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2732.6712"}]}}
{"Timestamp":"2024-11-10T22:59:24.2153392+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c700f2080a3ca0c863af1de123a7c76f","SpanId":"a8711a945cfe06bc","Properties":{"ElapsedMilliseconds":2756.3293,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N03:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81K2EE3N03"}}
{"Timestamp":"2024-11-10T22:59:27.6597098+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a9e211237774bd064eca5a7a2c5369ad","SpanId":"d7d4280e8aa30b64","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N04:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N04"}}
{"Timestamp":"2024-11-10T22:59:27.6669600+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a9e211237774bd064eca5a7a2c5369ad","SpanId":"d7d4280e8aa30b64","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N04:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N04"}}
{"Timestamp":"2024-11-10T22:59:27.6730573+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a9e211237774bd064eca5a7a2c5369ad","SpanId":"d7d4280e8aa30b64","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N04:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N04"}}
{"Timestamp":"2024-11-10T22:59:27.7926196+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a9e211237774bd064eca5a7a2c5369ad","SpanId":"d7d4280e8aa30b64","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N04:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N04"}}
{"Timestamp":"2024-11-10T22:59:27.8168246+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bea40135c21b153e09b5df81dad17a2d","SpanId":"d5e6cd47c1451089","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N05:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N05"}}
{"Timestamp":"2024-11-10T22:59:27.8215676+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bea40135c21b153e09b5df81dad17a2d","SpanId":"d5e6cd47c1451089","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N05:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N05"}}
{"Timestamp":"2024-11-10T22:59:27.8224090+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bea40135c21b153e09b5df81dad17a2d","SpanId":"d5e6cd47c1451089","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N05:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N05"}}
{"Timestamp":"2024-11-10T22:59:27.8967313+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a9e211237774bd064eca5a7a2c5369ad","SpanId":"d7d4280e8aa30b64","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N04:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N04"}}
{"Timestamp":"2024-11-10T22:59:27.9164680+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a9e211237774bd064eca5a7a2c5369ad","SpanId":"d7d4280e8aa30b64","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N04:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N04"}}
{"Timestamp":"2024-11-10T22:59:27.9179043+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bea40135c21b153e09b5df81dad17a2d","SpanId":"d5e6cd47c1451089","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N05:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N05"}}
{"Timestamp":"2024-11-10T22:59:27.9195605+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a9e211237774bd064eca5a7a2c5369ad","SpanId":"d7d4280e8aa30b64","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":243.6772,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N04:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N04"}}
{"Timestamp":"2024-11-10T22:59:27.9227257+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a9e211237774bd064eca5a7a2c5369ad","SpanId":"d7d4280e8aa30b64","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N04:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N04"}}
{"Timestamp":"2024-11-10T22:59:27.9239647+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a9e211237774bd064eca5a7a2c5369ad","SpanId":"d7d4280e8aa30b64","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":258.4004,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"258.4004"}]}}
{"Timestamp":"2024-11-10T22:59:27.9246269+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bea40135c21b153e09b5df81dad17a2d","SpanId":"d5e6cd47c1451089","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N05:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N05"}}
{"Timestamp":"2024-11-10T22:59:27.9270072+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a9e211237774bd064eca5a7a2c5369ad","SpanId":"d7d4280e8aa30b64","Properties":{"ElapsedMilliseconds":267.4125,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N04:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N04"}}
{"Timestamp":"2024-11-10T22:59:27.9289412+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bea40135c21b153e09b5df81dad17a2d","SpanId":"d5e6cd47c1451089","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N05:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N05"}}
{"Timestamp":"2024-11-10T22:59:27.9308403+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1191a42d3631ea20552a27e850be6c89","SpanId":"6092dc05da15f13d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N06:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N06"}}
{"Timestamp":"2024-11-10T22:59:27.9325511+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bea40135c21b153e09b5df81dad17a2d","SpanId":"d5e6cd47c1451089","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":109.0431,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N05:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N05"}}
{"Timestamp":"2024-11-10T22:59:27.9368778+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bea40135c21b153e09b5df81dad17a2d","SpanId":"d5e6cd47c1451089","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N05:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N05"}}
{"Timestamp":"2024-11-10T22:59:27.9379367+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bea40135c21b153e09b5df81dad17a2d","SpanId":"d5e6cd47c1451089","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":118.4941,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"118.4941"}]}}
{"Timestamp":"2024-11-10T22:59:27.9398954+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bea40135c21b153e09b5df81dad17a2d","SpanId":"d5e6cd47c1451089","Properties":{"ElapsedMilliseconds":123.1134,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N05:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N05"}}
{"Timestamp":"2024-11-10T22:59:27.9419791+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"82b1b615a18e7e984fc2a98ddb52e543","SpanId":"7b6d28a9d0d635b3","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N07:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N07"}}
{"Timestamp":"2024-11-10T22:59:27.9950805+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1191a42d3631ea20552a27e850be6c89","SpanId":"6092dc05da15f13d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N06:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N06"}}
{"Timestamp":"2024-11-10T22:59:27.9950805+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"82b1b615a18e7e984fc2a98ddb52e543","SpanId":"7b6d28a9d0d635b3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N07:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N07"}}
{"Timestamp":"2024-11-10T22:59:28.0041959+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1191a42d3631ea20552a27e850be6c89","SpanId":"6092dc05da15f13d","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N06:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N06"}}
{"Timestamp":"2024-11-10T22:59:28.0041960+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"82b1b615a18e7e984fc2a98ddb52e543","SpanId":"7b6d28a9d0d635b3","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N07:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N07"}}
{"Timestamp":"2024-11-10T22:59:28.0798549+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1191a42d3631ea20552a27e850be6c89","SpanId":"6092dc05da15f13d","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N06:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N06"}}
{"Timestamp":"2024-11-10T22:59:28.0887726+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1191a42d3631ea20552a27e850be6c89","SpanId":"6092dc05da15f13d","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N06:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N06"}}
{"Timestamp":"2024-11-10T22:59:28.0911156+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"82b1b615a18e7e984fc2a98ddb52e543","SpanId":"7b6d28a9d0d635b3","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N07:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N07"}}
{"Timestamp":"2024-11-10T22:59:28.0943195+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"82b1b615a18e7e984fc2a98ddb52e543","SpanId":"7b6d28a9d0d635b3","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N07:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N07"}}
{"Timestamp":"2024-11-10T22:59:28.1049931+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"82b1b615a18e7e984fc2a98ddb52e543","SpanId":"7b6d28a9d0d635b3","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":94.2766,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N07:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N07"}}
{"Timestamp":"2024-11-10T22:59:28.1049931+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1191a42d3631ea20552a27e850be6c89","SpanId":"6092dc05da15f13d","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":96.2669,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N06:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N06"}}
{"Timestamp":"2024-11-10T22:59:28.1063625+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"82b1b615a18e7e984fc2a98ddb52e543","SpanId":"7b6d28a9d0d635b3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N07:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N07"}}
{"Timestamp":"2024-11-10T22:59:28.1075574+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1191a42d3631ea20552a27e850be6c89","SpanId":"6092dc05da15f13d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N06:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N06"}}
{"Timestamp":"2024-11-10T22:59:28.1084837+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"82b1b615a18e7e984fc2a98ddb52e543","SpanId":"7b6d28a9d0d635b3","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":161.8178,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"161.8178"}]}}
{"Timestamp":"2024-11-10T22:59:28.1093818+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1191a42d3631ea20552a27e850be6c89","SpanId":"6092dc05da15f13d","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":173.2471,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"173.2471"}]}}
{"Timestamp":"2024-11-10T22:59:28.1114641+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"82b1b615a18e7e984fc2a98ddb52e543","SpanId":"7b6d28a9d0d635b3","Properties":{"ElapsedMilliseconds":169.4671,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N07:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N07"}}
{"Timestamp":"2024-11-10T22:59:28.1142268+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1191a42d3631ea20552a27e850be6c89","SpanId":"6092dc05da15f13d","Properties":{"ElapsedMilliseconds":183.4215,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N06:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N06"}}
{"Timestamp":"2024-11-10T22:59:29.6200507+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bbe97654e5d1e42a4f59936b4850466f","SpanId":"dd5dd4540acbac52","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N08:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N08"}}
{"Timestamp":"2024-11-10T22:59:29.6242577+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bbe97654e5d1e42a4f59936b4850466f","SpanId":"dd5dd4540acbac52","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N08:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N08"}}
{"Timestamp":"2024-11-10T22:59:29.6252634+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bbe97654e5d1e42a4f59936b4850466f","SpanId":"dd5dd4540acbac52","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N08:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N08"}}
{"Timestamp":"2024-11-10T22:59:29.6359632+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bbe97654e5d1e42a4f59936b4850466f","SpanId":"dd5dd4540acbac52","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N08:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N08"}}
{"Timestamp":"2024-11-10T22:59:29.6424682+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bbe97654e5d1e42a4f59936b4850466f","SpanId":"dd5dd4540acbac52","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N08:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N08"}}
{"Timestamp":"2024-11-10T22:59:29.6439810+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bbe97654e5d1e42a4f59936b4850466f","SpanId":"dd5dd4540acbac52","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N08:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N08"}}
{"Timestamp":"2024-11-10T22:59:29.6448106+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bbe97654e5d1e42a4f59936b4850466f","SpanId":"dd5dd4540acbac52","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.6336,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N08:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N08"}}
{"Timestamp":"2024-11-10T22:59:29.6456531+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bbe97654e5d1e42a4f59936b4850466f","SpanId":"dd5dd4540acbac52","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N08:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N08"}}
{"Timestamp":"2024-11-10T22:59:29.6463062+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bbe97654e5d1e42a4f59936b4850466f","SpanId":"dd5dd4540acbac52","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":22.2009,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.2009"}]}}
{"Timestamp":"2024-11-10T22:59:29.6478167+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bbe97654e5d1e42a4f59936b4850466f","SpanId":"dd5dd4540acbac52","Properties":{"ElapsedMilliseconds":27.9069,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N08:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N08"}}
{"Timestamp":"2024-11-10T22:59:29.6505576+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"073b9dc88a20d8fe42fa9c22ae431e59","SpanId":"5528745196933177","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N09:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N09"}}
{"Timestamp":"2024-11-10T22:59:29.6526697+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"073b9dc88a20d8fe42fa9c22ae431e59","SpanId":"5528745196933177","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N09:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N09"}}
{"Timestamp":"2024-11-10T22:59:29.6534181+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"073b9dc88a20d8fe42fa9c22ae431e59","SpanId":"5528745196933177","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N09:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N09"}}
{"Timestamp":"2024-11-10T22:59:29.6605484+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"073b9dc88a20d8fe42fa9c22ae431e59","SpanId":"5528745196933177","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N09:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N09"}}
{"Timestamp":"2024-11-10T22:59:29.6627157+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"073b9dc88a20d8fe42fa9c22ae431e59","SpanId":"5528745196933177","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N09:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N09"}}
{"Timestamp":"2024-11-10T22:59:29.6643885+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"073b9dc88a20d8fe42fa9c22ae431e59","SpanId":"5528745196933177","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":9.6173,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N09:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N09"}}
{"Timestamp":"2024-11-10T22:59:29.6663793+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"073b9dc88a20d8fe42fa9c22ae431e59","SpanId":"5528745196933177","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N09:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N09"}}
{"Timestamp":"2024-11-10T22:59:29.6699880+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"073b9dc88a20d8fe42fa9c22ae431e59","SpanId":"5528745196933177","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":17.7346,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.7346"}]}}
{"Timestamp":"2024-11-10T22:59:29.6716668+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"073b9dc88a20d8fe42fa9c22ae431e59","SpanId":"5528745196933177","Properties":{"ElapsedMilliseconds":21.1993,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N09:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N09"}}
{"Timestamp":"2024-11-10T22:59:29.8052061+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"38d4f8510f86a4453c1520dfb5e642a2","SpanId":"43cd6d24f7489181","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0A"}}
{"Timestamp":"2024-11-10T22:59:29.8089309+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"38d4f8510f86a4453c1520dfb5e642a2","SpanId":"43cd6d24f7489181","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0A"}}
{"Timestamp":"2024-11-10T22:59:29.8099461+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9f8f434dc0e9a3ddefec740250754a68","SpanId":"24a81b64b26fe1c1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0B"}}
{"Timestamp":"2024-11-10T22:59:29.8102920+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"38d4f8510f86a4453c1520dfb5e642a2","SpanId":"43cd6d24f7489181","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0A"}}
{"Timestamp":"2024-11-10T22:59:29.8120345+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9f8f434dc0e9a3ddefec740250754a68","SpanId":"24a81b64b26fe1c1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0B"}}
{"Timestamp":"2024-11-10T22:59:29.8139918+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9f8f434dc0e9a3ddefec740250754a68","SpanId":"24a81b64b26fe1c1","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0B"}}
{"Timestamp":"2024-11-10T22:59:29.8162540+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"38d4f8510f86a4453c1520dfb5e642a2","SpanId":"43cd6d24f7489181","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0A"}}
{"Timestamp":"2024-11-10T22:59:29.8178942+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9f8f434dc0e9a3ddefec740250754a68","SpanId":"24a81b64b26fe1c1","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0B"}}
{"Timestamp":"2024-11-10T22:59:29.8194020+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"38d4f8510f86a4453c1520dfb5e642a2","SpanId":"43cd6d24f7489181","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0A"}}
{"Timestamp":"2024-11-10T22:59:29.8227190+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9f8f434dc0e9a3ddefec740250754a68","SpanId":"24a81b64b26fe1c1","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0B"}}
{"Timestamp":"2024-11-10T22:59:29.8230564+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"38d4f8510f86a4453c1520dfb5e642a2","SpanId":"43cd6d24f7489181","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0A"}}
{"Timestamp":"2024-11-10T22:59:29.8250369+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9f8f434dc0e9a3ddefec740250754a68","SpanId":"24a81b64b26fe1c1","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0B"}}
{"Timestamp":"2024-11-10T22:59:29.8258228+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"38d4f8510f86a4453c1520dfb5e642a2","SpanId":"43cd6d24f7489181","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":12.768,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0A"}}
{"Timestamp":"2024-11-10T22:59:29.8266655+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9f8f434dc0e9a3ddefec740250754a68","SpanId":"24a81b64b26fe1c1","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":11.1574,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N0B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0B"}}
{"Timestamp":"2024-11-10T22:59:29.8276565+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"38d4f8510f86a4453c1520dfb5e642a2","SpanId":"43cd6d24f7489181","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0A"}}
{"Timestamp":"2024-11-10T22:59:29.8287222+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9f8f434dc0e9a3ddefec740250754a68","SpanId":"24a81b64b26fe1c1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0B"}}
{"Timestamp":"2024-11-10T22:59:29.8295750+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"38d4f8510f86a4453c1520dfb5e642a2","SpanId":"43cd6d24f7489181","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":20.8083,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.8083"}]}}
{"Timestamp":"2024-11-10T22:59:29.8306251+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9f8f434dc0e9a3ddefec740250754a68","SpanId":"24a81b64b26fe1c1","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":18.6827,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.6827"}]}}
{"Timestamp":"2024-11-10T22:59:29.8335085+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"38d4f8510f86a4453c1520dfb5e642a2","SpanId":"43cd6d24f7489181","Properties":{"ElapsedMilliseconds":28.3158,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0A"}}
{"Timestamp":"2024-11-10T22:59:29.8412593+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9f8f434dc0e9a3ddefec740250754a68","SpanId":"24a81b64b26fe1c1","Properties":{"ElapsedMilliseconds":31.3204,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0B"}}
{"Timestamp":"2024-11-10T22:59:29.8546162+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bd056aee90ce9488e25a130dcfc8fee5","SpanId":"6015d3ad694f4a05","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0C:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0C"}}
{"Timestamp":"2024-11-10T22:59:29.8546162+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"05e18a007626a5144f2421e95a66f478","SpanId":"88aa9580843bffbe","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0D:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N0D"}}
{"Timestamp":"2024-11-10T22:59:29.8604218+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bd056aee90ce9488e25a130dcfc8fee5","SpanId":"6015d3ad694f4a05","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0C:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0C"}}
{"Timestamp":"2024-11-10T22:59:29.8629849+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"05e18a007626a5144f2421e95a66f478","SpanId":"88aa9580843bffbe","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0D:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N0D"}}
{"Timestamp":"2024-11-10T22:59:29.8631750+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bd056aee90ce9488e25a130dcfc8fee5","SpanId":"6015d3ad694f4a05","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0C:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0C"}}
{"Timestamp":"2024-11-10T22:59:29.8645490+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"05e18a007626a5144f2421e95a66f478","SpanId":"88aa9580843bffbe","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0D:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N0D"}}
{"Timestamp":"2024-11-10T22:59:29.8726442+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bd056aee90ce9488e25a130dcfc8fee5","SpanId":"6015d3ad694f4a05","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0C:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0C"}}
{"Timestamp":"2024-11-10T22:59:29.8752845+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bd056aee90ce9488e25a130dcfc8fee5","SpanId":"6015d3ad694f4a05","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0C:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0C"}}
{"Timestamp":"2024-11-10T22:59:29.8768832+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bd056aee90ce9488e25a130dcfc8fee5","SpanId":"6015d3ad694f4a05","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":10.8153,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N0C:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0C"}}
{"Timestamp":"2024-11-10T22:59:29.8772094+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"05e18a007626a5144f2421e95a66f478","SpanId":"88aa9580843bffbe","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0D:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N0D"}}
{"Timestamp":"2024-11-10T22:59:29.8782155+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bd056aee90ce9488e25a130dcfc8fee5","SpanId":"6015d3ad694f4a05","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0C:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0C"}}
{"Timestamp":"2024-11-10T22:59:29.8799424+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"05e18a007626a5144f2421e95a66f478","SpanId":"88aa9580843bffbe","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0D:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N0D"}}
{"Timestamp":"2024-11-10T22:59:29.8812905+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bd056aee90ce9488e25a130dcfc8fee5","SpanId":"6015d3ad694f4a05","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":21.5146,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.5146"}]}}
{"Timestamp":"2024-11-10T22:59:29.8822541+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"05e18a007626a5144f2421e95a66f478","SpanId":"88aa9580843bffbe","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":12.988,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N0D:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N0D"}}
{"Timestamp":"2024-11-10T22:59:29.8843305+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bd056aee90ce9488e25a130dcfc8fee5","SpanId":"6015d3ad694f4a05","Properties":{"ElapsedMilliseconds":29.8038,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0C:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0C"}}
{"Timestamp":"2024-11-10T22:59:29.8853053+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"05e18a007626a5144f2421e95a66f478","SpanId":"88aa9580843bffbe","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0D:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N0D"}}
{"Timestamp":"2024-11-10T22:59:29.8882942+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"05e18a007626a5144f2421e95a66f478","SpanId":"88aa9580843bffbe","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":25.8815,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.8815"}]}}
{"Timestamp":"2024-11-10T22:59:29.8896466+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"05e18a007626a5144f2421e95a66f478","SpanId":"88aa9580843bffbe","Properties":{"ElapsedMilliseconds":35.1017,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0D:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N0D"}}
{"Timestamp":"2024-11-10T22:59:31.8701721+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"63b613410579f1ce582eb19921579a2b","SpanId":"32e647ee788259b3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0E"}}
{"Timestamp":"2024-11-10T22:59:31.8726714+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"63b613410579f1ce582eb19921579a2b","SpanId":"32e647ee788259b3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0E"}}
{"Timestamp":"2024-11-10T22:59:31.8736296+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"63b613410579f1ce582eb19921579a2b","SpanId":"32e647ee788259b3","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0E"}}
{"Timestamp":"2024-11-10T22:59:31.8816310+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"63b613410579f1ce582eb19921579a2b","SpanId":"32e647ee788259b3","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0E"}}
{"Timestamp":"2024-11-10T22:59:31.8904266+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"63b613410579f1ce582eb19921579a2b","SpanId":"32e647ee788259b3","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0E"}}
{"Timestamp":"2024-11-10T22:59:31.8928932+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"63b613410579f1ce582eb19921579a2b","SpanId":"32e647ee788259b3","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0E"}}
{"Timestamp":"2024-11-10T22:59:31.8941439+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"63b613410579f1ce582eb19921579a2b","SpanId":"32e647ee788259b3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":18.8987,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N0E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0E"}}
{"Timestamp":"2024-11-10T22:59:31.8954857+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"63b613410579f1ce582eb19921579a2b","SpanId":"32e647ee788259b3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0E"}}
{"Timestamp":"2024-11-10T22:59:31.8964645+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"63b613410579f1ce582eb19921579a2b","SpanId":"32e647ee788259b3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":23.9088,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.9088"}]}}
{"Timestamp":"2024-11-10T22:59:31.8991777+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"63b613410579f1ce582eb19921579a2b","SpanId":"32e647ee788259b3","Properties":{"ElapsedMilliseconds":28.945,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0E"}}
{"Timestamp":"2024-11-10T22:59:31.9019773+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"da12f56612d84c0838357f30b03db9f8","SpanId":"69750fc2e068cb35","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0F:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0F"}}
{"Timestamp":"2024-11-10T22:59:31.9060038+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"da12f56612d84c0838357f30b03db9f8","SpanId":"69750fc2e068cb35","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0F:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0F"}}
{"Timestamp":"2024-11-10T22:59:31.9067785+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"da12f56612d84c0838357f30b03db9f8","SpanId":"69750fc2e068cb35","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0F:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0F"}}
{"Timestamp":"2024-11-10T22:59:31.9123353+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"da12f56612d84c0838357f30b03db9f8","SpanId":"69750fc2e068cb35","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0F:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0F"}}
{"Timestamp":"2024-11-10T22:59:31.9148014+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"da12f56612d84c0838357f30b03db9f8","SpanId":"69750fc2e068cb35","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0F:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0F"}}
{"Timestamp":"2024-11-10T22:59:31.9167566+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"da12f56612d84c0838357f30b03db9f8","SpanId":"69750fc2e068cb35","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.5968,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N0F:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0F"}}
{"Timestamp":"2024-11-10T22:59:31.9189583+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"da12f56612d84c0838357f30b03db9f8","SpanId":"69750fc2e068cb35","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0F:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0F"}}
{"Timestamp":"2024-11-10T22:59:31.9200163+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"da12f56612d84c0838357f30b03db9f8","SpanId":"69750fc2e068cb35","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":14.3202,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.3202"}]}}
{"Timestamp":"2024-11-10T22:59:31.9218257+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"da12f56612d84c0838357f30b03db9f8","SpanId":"69750fc2e068cb35","Properties":{"ElapsedMilliseconds":19.8762,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0F:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0F"}}
{"Timestamp":"2024-11-10T22:59:32.0529148+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"926d76fc18a30c03a7be15dfdbb4bf7b","SpanId":"f5e8da75e9f9accf","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0G"}}
{"Timestamp":"2024-11-10T22:59:32.0571664+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"926d76fc18a30c03a7be15dfdbb4bf7b","SpanId":"f5e8da75e9f9accf","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0G"}}
{"Timestamp":"2024-11-10T22:59:32.0582518+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"926d76fc18a30c03a7be15dfdbb4bf7b","SpanId":"f5e8da75e9f9accf","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0G"}}
{"Timestamp":"2024-11-10T22:59:32.0616626+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"088e4a7cfd089c1faa7c625b87b290f6","SpanId":"33943cd6be5163a0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0H"}}
{"Timestamp":"2024-11-10T22:59:32.0633741+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"926d76fc18a30c03a7be15dfdbb4bf7b","SpanId":"f5e8da75e9f9accf","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0G"}}
{"Timestamp":"2024-11-10T22:59:32.0635609+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"088e4a7cfd089c1faa7c625b87b290f6","SpanId":"33943cd6be5163a0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0H"}}
{"Timestamp":"2024-11-10T22:59:32.0660987+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"088e4a7cfd089c1faa7c625b87b290f6","SpanId":"33943cd6be5163a0","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0H"}}
{"Timestamp":"2024-11-10T22:59:32.0686270+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"926d76fc18a30c03a7be15dfdbb4bf7b","SpanId":"f5e8da75e9f9accf","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0G"}}
{"Timestamp":"2024-11-10T22:59:32.0707626+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"926d76fc18a30c03a7be15dfdbb4bf7b","SpanId":"f5e8da75e9f9accf","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0G"}}
{"Timestamp":"2024-11-10T22:59:32.0711060+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"088e4a7cfd089c1faa7c625b87b290f6","SpanId":"33943cd6be5163a0","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0H"}}
{"Timestamp":"2024-11-10T22:59:32.0715544+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"926d76fc18a30c03a7be15dfdbb4bf7b","SpanId":"f5e8da75e9f9accf","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":10.091,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N0G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0G"}}
{"Timestamp":"2024-11-10T22:59:32.0737271+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"926d76fc18a30c03a7be15dfdbb4bf7b","SpanId":"f5e8da75e9f9accf","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0G"}}
{"Timestamp":"2024-11-10T22:59:32.0776726+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"926d76fc18a30c03a7be15dfdbb4bf7b","SpanId":"f5e8da75e9f9accf","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":18.7766,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.7766"}]}}
{"Timestamp":"2024-11-10T22:59:32.0792998+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"088e4a7cfd089c1faa7c625b87b290f6","SpanId":"33943cd6be5163a0","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0H"}}
{"Timestamp":"2024-11-10T22:59:32.0805634+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"926d76fc18a30c03a7be15dfdbb4bf7b","SpanId":"f5e8da75e9f9accf","Properties":{"ElapsedMilliseconds":27.684,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0G"}}
{"Timestamp":"2024-11-10T22:59:32.0850273+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"088e4a7cfd089c1faa7c625b87b290f6","SpanId":"33943cd6be5163a0","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0H"}}
{"Timestamp":"2024-11-10T22:59:32.0874844+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"419970a52611a8dcdaffa6fc370e0dd0","SpanId":"e87eecbaac6ae36a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0I:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0I"}}
{"Timestamp":"2024-11-10T22:59:32.0893922+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"088e4a7cfd089c1faa7c625b87b290f6","SpanId":"33943cd6be5163a0","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":19.8942,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N0H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0H"}}
{"Timestamp":"2024-11-10T22:59:32.0923771+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"419970a52611a8dcdaffa6fc370e0dd0","SpanId":"e87eecbaac6ae36a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0I:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0I"}}
{"Timestamp":"2024-11-10T22:59:32.0925380+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"088e4a7cfd089c1faa7c625b87b290f6","SpanId":"33943cd6be5163a0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0H"}}
{"Timestamp":"2024-11-10T22:59:32.0941167+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"419970a52611a8dcdaffa6fc370e0dd0","SpanId":"e87eecbaac6ae36a","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0I:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0I"}}
{"Timestamp":"2024-11-10T22:59:32.0952011+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"088e4a7cfd089c1faa7c625b87b290f6","SpanId":"33943cd6be5163a0","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":31.706,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"31.7060"}]}}
{"Timestamp":"2024-11-10T22:59:32.0977088+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"088e4a7cfd089c1faa7c625b87b290f6","SpanId":"33943cd6be5163a0","Properties":{"ElapsedMilliseconds":36.0649,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0H"}}
{"Timestamp":"2024-11-10T22:59:32.1024214+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"419970a52611a8dcdaffa6fc370e0dd0","SpanId":"e87eecbaac6ae36a","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0I:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0I"}}
{"Timestamp":"2024-11-10T22:59:32.1063211+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f6f950d1e905370d11bd6413405a9b3d","SpanId":"3b64a234584c1494","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0J:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N0J"}}
{"Timestamp":"2024-11-10T22:59:32.1092707+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"419970a52611a8dcdaffa6fc370e0dd0","SpanId":"e87eecbaac6ae36a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0I:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0I"}}
{"Timestamp":"2024-11-10T22:59:32.1113451+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f6f950d1e905370d11bd6413405a9b3d","SpanId":"3b64a234584c1494","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0J:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N0J"}}
{"Timestamp":"2024-11-10T22:59:32.1120605+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"419970a52611a8dcdaffa6fc370e0dd0","SpanId":"e87eecbaac6ae36a","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":15.7822,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N0I:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0I"}}
{"Timestamp":"2024-11-10T22:59:32.1127272+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f6f950d1e905370d11bd6413405a9b3d","SpanId":"3b64a234584c1494","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0J:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N0J"}}
{"Timestamp":"2024-11-10T22:59:32.1135177+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"419970a52611a8dcdaffa6fc370e0dd0","SpanId":"e87eecbaac6ae36a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0I:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0I"}}
{"Timestamp":"2024-11-10T22:59:32.1161412+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"419970a52611a8dcdaffa6fc370e0dd0","SpanId":"e87eecbaac6ae36a","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":24.1925,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.1925"}]}}
{"Timestamp":"2024-11-10T22:59:32.1179819+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"419970a52611a8dcdaffa6fc370e0dd0","SpanId":"e87eecbaac6ae36a","Properties":{"ElapsedMilliseconds":30.5739,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0I:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0I"}}
{"Timestamp":"2024-11-10T22:59:32.1245452+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f6f950d1e905370d11bd6413405a9b3d","SpanId":"3b64a234584c1494","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0J:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N0J"}}
{"Timestamp":"2024-11-10T22:59:32.1273002+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f6f950d1e905370d11bd6413405a9b3d","SpanId":"3b64a234584c1494","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0J:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N0J"}}
{"Timestamp":"2024-11-10T22:59:32.1289834+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f6f950d1e905370d11bd6413405a9b3d","SpanId":"3b64a234584c1494","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":13.9766,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N0J:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N0J"}}
{"Timestamp":"2024-11-10T22:59:32.1301635+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f6f950d1e905370d11bd6413405a9b3d","SpanId":"3b64a234584c1494","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0J:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N0J"}}
{"Timestamp":"2024-11-10T22:59:32.1319629+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f6f950d1e905370d11bd6413405a9b3d","SpanId":"3b64a234584c1494","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":20.9288,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.9288"}]}}
{"Timestamp":"2024-11-10T22:59:32.1343137+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f6f950d1e905370d11bd6413405a9b3d","SpanId":"3b64a234584c1494","Properties":{"ElapsedMilliseconds":28.0569,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0J:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N0J"}}
{"Timestamp":"2024-11-10T22:59:33.5867660+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"84bf89b667fec053c3135e8b4098c826","SpanId":"0249a006c3188979","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0K"}}
{"Timestamp":"2024-11-10T22:59:33.5900201+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"84bf89b667fec053c3135e8b4098c826","SpanId":"0249a006c3188979","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0K"}}
{"Timestamp":"2024-11-10T22:59:33.5911100+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"84bf89b667fec053c3135e8b4098c826","SpanId":"0249a006c3188979","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0K"}}
{"Timestamp":"2024-11-10T22:59:33.6012320+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"84bf89b667fec053c3135e8b4098c826","SpanId":"0249a006c3188979","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0K"}}
{"Timestamp":"2024-11-10T22:59:33.6082003+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"84bf89b667fec053c3135e8b4098c826","SpanId":"0249a006c3188979","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0K"}}
{"Timestamp":"2024-11-10T22:59:33.6105603+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"84bf89b667fec053c3135e8b4098c826","SpanId":"0249a006c3188979","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0K"}}
{"Timestamp":"2024-11-10T22:59:33.6119490+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"84bf89b667fec053c3135e8b4098c826","SpanId":"0249a006c3188979","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":18.5426,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0K"}}
{"Timestamp":"2024-11-10T22:59:33.6128419+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"84bf89b667fec053c3135e8b4098c826","SpanId":"0249a006c3188979","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0K"}}
{"Timestamp":"2024-11-10T22:59:33.6135836+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"84bf89b667fec053c3135e8b4098c826","SpanId":"0249a006c3188979","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":23.9279,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.9279"}]}}
{"Timestamp":"2024-11-10T22:59:33.6156778+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"84bf89b667fec053c3135e8b4098c826","SpanId":"0249a006c3188979","Properties":{"ElapsedMilliseconds":28.9232,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0K"}}
{"Timestamp":"2024-11-10T22:59:33.6192753+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7d1963bf2857145342c7021aeedb60a8","SpanId":"19670353193a3f28","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0L"}}
{"Timestamp":"2024-11-10T22:59:33.6238524+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7d1963bf2857145342c7021aeedb60a8","SpanId":"19670353193a3f28","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0L"}}
{"Timestamp":"2024-11-10T22:59:33.6245311+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7d1963bf2857145342c7021aeedb60a8","SpanId":"19670353193a3f28","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0L"}}
{"Timestamp":"2024-11-10T22:59:33.6303485+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7d1963bf2857145342c7021aeedb60a8","SpanId":"19670353193a3f28","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0L"}}
{"Timestamp":"2024-11-10T22:59:33.6325607+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7d1963bf2857145342c7021aeedb60a8","SpanId":"19670353193a3f28","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0L"}}
{"Timestamp":"2024-11-10T22:59:33.6341376+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7d1963bf2857145342c7021aeedb60a8","SpanId":"19670353193a3f28","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.2905,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N0L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0L"}}
{"Timestamp":"2024-11-10T22:59:33.6351621+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7d1963bf2857145342c7021aeedb60a8","SpanId":"19670353193a3f28","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0L"}}
{"Timestamp":"2024-11-10T22:59:33.6358758+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7d1963bf2857145342c7021aeedb60a8","SpanId":"19670353193a3f28","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":12.2682,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.2682"}]}}
{"Timestamp":"2024-11-10T22:59:33.6372298+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7d1963bf2857145342c7021aeedb60a8","SpanId":"19670353193a3f28","Properties":{"ElapsedMilliseconds":17.9623,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0L"}}
{"Timestamp":"2024-11-10T22:59:33.7938043+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a330c6cac60ccc620459d5bf60b7b072","SpanId":"440716b4356d15b1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0M"}}
{"Timestamp":"2024-11-10T22:59:33.7974443+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a330c6cac60ccc620459d5bf60b7b072","SpanId":"440716b4356d15b1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0M"}}
{"Timestamp":"2024-11-10T22:59:33.7996702+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"de83e88950c444fe37a29033dcd89701","SpanId":"6ca80b508a32e61e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0N"}}
{"Timestamp":"2024-11-10T22:59:33.8001538+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a330c6cac60ccc620459d5bf60b7b072","SpanId":"440716b4356d15b1","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0M"}}
{"Timestamp":"2024-11-10T22:59:33.8027835+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"de83e88950c444fe37a29033dcd89701","SpanId":"6ca80b508a32e61e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0N"}}
{"Timestamp":"2024-11-10T22:59:33.8054234+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"de83e88950c444fe37a29033dcd89701","SpanId":"6ca80b508a32e61e","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0N"}}
{"Timestamp":"2024-11-10T22:59:33.8113301+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a330c6cac60ccc620459d5bf60b7b072","SpanId":"440716b4356d15b1","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0M"}}
{"Timestamp":"2024-11-10T22:59:33.8137695+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"de83e88950c444fe37a29033dcd89701","SpanId":"6ca80b508a32e61e","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0N"}}
{"Timestamp":"2024-11-10T22:59:33.8279346+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"de83e88950c444fe37a29033dcd89701","SpanId":"6ca80b508a32e61e","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0N"}}
{"Timestamp":"2024-11-10T22:59:33.8279234+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a330c6cac60ccc620459d5bf60b7b072","SpanId":"440716b4356d15b1","Properties":{"elapsed":"13","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0M"}}
{"Timestamp":"2024-11-10T22:59:33.8309664+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"de83e88950c444fe37a29033dcd89701","SpanId":"6ca80b508a32e61e","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0N"}}
{"Timestamp":"2024-11-10T22:59:33.8339428+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a330c6cac60ccc620459d5bf60b7b072","SpanId":"440716b4356d15b1","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0M"}}
{"Timestamp":"2024-11-10T22:59:33.8356040+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"de83e88950c444fe37a29033dcd89701","SpanId":"6ca80b508a32e61e","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":28.1959,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N0N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0N"}}
{"Timestamp":"2024-11-10T22:59:33.8377441+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a330c6cac60ccc620459d5bf60b7b072","SpanId":"440716b4356d15b1","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":33.5715,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N0M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0M"}}
{"Timestamp":"2024-11-10T22:59:33.8386862+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"de83e88950c444fe37a29033dcd89701","SpanId":"6ca80b508a32e61e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0N"}}
{"Timestamp":"2024-11-10T22:59:33.8398710+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a330c6cac60ccc620459d5bf60b7b072","SpanId":"440716b4356d15b1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0M"}}
{"Timestamp":"2024-11-10T22:59:33.8407934+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"de83e88950c444fe37a29033dcd89701","SpanId":"6ca80b508a32e61e","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":38.1487,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"38.1487"}]}}
{"Timestamp":"2024-11-10T22:59:33.8414552+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a330c6cac60ccc620459d5bf60b7b072","SpanId":"440716b4356d15b1","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":44.6606,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"44.6606"}]}}
{"Timestamp":"2024-11-10T22:59:33.8430027+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"de83e88950c444fe37a29033dcd89701","SpanId":"6ca80b508a32e61e","Properties":{"ElapsedMilliseconds":43.3522,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0N"}}
{"Timestamp":"2024-11-10T22:59:33.8444622+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a330c6cac60ccc620459d5bf60b7b072","SpanId":"440716b4356d15b1","Properties":{"ElapsedMilliseconds":50.6837,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0M"}}
{"Timestamp":"2024-11-10T22:59:33.8507766+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1cc59a15d6f1568b03c13db8262af51f","SpanId":"a4857faa816ffb09","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0O:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N0O"}}
{"Timestamp":"2024-11-10T22:59:33.8517482+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7f59bab7df4ed6c90df72fbff4a9d43f","SpanId":"61793a10d7a13714","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0P:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0P"}}
{"Timestamp":"2024-11-10T22:59:33.8575300+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1cc59a15d6f1568b03c13db8262af51f","SpanId":"a4857faa816ffb09","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0O:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N0O"}}
{"Timestamp":"2024-11-10T22:59:33.8597886+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7f59bab7df4ed6c90df72fbff4a9d43f","SpanId":"61793a10d7a13714","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0P:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0P"}}
{"Timestamp":"2024-11-10T22:59:33.8597801+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1cc59a15d6f1568b03c13db8262af51f","SpanId":"a4857faa816ffb09","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0O:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N0O"}}
{"Timestamp":"2024-11-10T22:59:33.8611222+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7f59bab7df4ed6c90df72fbff4a9d43f","SpanId":"61793a10d7a13714","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0P:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0P"}}
{"Timestamp":"2024-11-10T22:59:33.8737650+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1cc59a15d6f1568b03c13db8262af51f","SpanId":"a4857faa816ffb09","Properties":{"elapsed":"9","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0O:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N0O"}}
{"Timestamp":"2024-11-10T22:59:33.8739785+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7f59bab7df4ed6c90df72fbff4a9d43f","SpanId":"61793a10d7a13714","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0P:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0P"}}
{"Timestamp":"2024-11-10T22:59:33.8763714+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1cc59a15d6f1568b03c13db8262af51f","SpanId":"a4857faa816ffb09","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0O:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N0O"}}
{"Timestamp":"2024-11-10T22:59:33.8780389+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7f59bab7df4ed6c90df72fbff4a9d43f","SpanId":"61793a10d7a13714","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0P:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0P"}}
{"Timestamp":"2024-11-10T22:59:33.8789994+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1cc59a15d6f1568b03c13db8262af51f","SpanId":"a4857faa816ffb09","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":16.4867,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N0O:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N0O"}}
{"Timestamp":"2024-11-10T22:59:33.8799182+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7f59bab7df4ed6c90df72fbff4a9d43f","SpanId":"61793a10d7a13714","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":15.9574,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N0P:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0P"}}
{"Timestamp":"2024-11-10T22:59:33.8805942+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1cc59a15d6f1568b03c13db8262af51f","SpanId":"a4857faa816ffb09","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0O:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N0O"}}
{"Timestamp":"2024-11-10T22:59:33.8820732+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7f59bab7df4ed6c90df72fbff4a9d43f","SpanId":"61793a10d7a13714","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0P:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0P"}}
{"Timestamp":"2024-11-10T22:59:33.8829291+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1cc59a15d6f1568b03c13db8262af51f","SpanId":"a4857faa816ffb09","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":26.7257,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.7257"}]}}
{"Timestamp":"2024-11-10T22:59:33.8835823+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7f59bab7df4ed6c90df72fbff4a9d43f","SpanId":"61793a10d7a13714","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":24.6723,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.6723"}]}}
{"Timestamp":"2024-11-10T22:59:33.8849134+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1cc59a15d6f1568b03c13db8262af51f","SpanId":"a4857faa816ffb09","Properties":{"ElapsedMilliseconds":34.2253,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0O:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N0O"}}
{"Timestamp":"2024-11-10T22:59:33.8861010+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7f59bab7df4ed6c90df72fbff4a9d43f","SpanId":"61793a10d7a13714","Properties":{"ElapsedMilliseconds":34.3766,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0P:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0P"}}
{"Timestamp":"2024-11-10T22:59:35.7268114+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cfdfbdce535ec0d0616aa2deaf236e2b","SpanId":"5ac74f510c81c118","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0Q"}}
{"Timestamp":"2024-11-10T22:59:35.7299213+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cfdfbdce535ec0d0616aa2deaf236e2b","SpanId":"5ac74f510c81c118","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0Q"}}
{"Timestamp":"2024-11-10T22:59:35.7309453+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cfdfbdce535ec0d0616aa2deaf236e2b","SpanId":"5ac74f510c81c118","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0Q"}}
{"Timestamp":"2024-11-10T22:59:35.7412103+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cfdfbdce535ec0d0616aa2deaf236e2b","SpanId":"5ac74f510c81c118","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0Q"}}
{"Timestamp":"2024-11-10T22:59:35.7456139+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cfdfbdce535ec0d0616aa2deaf236e2b","SpanId":"5ac74f510c81c118","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0Q"}}
{"Timestamp":"2024-11-10T22:59:35.7478587+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cfdfbdce535ec0d0616aa2deaf236e2b","SpanId":"5ac74f510c81c118","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0Q"}}
{"Timestamp":"2024-11-10T22:59:35.7495097+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cfdfbdce535ec0d0616aa2deaf236e2b","SpanId":"5ac74f510c81c118","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":12.749,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0Q"}}
{"Timestamp":"2024-11-10T22:59:35.7507754+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cfdfbdce535ec0d0616aa2deaf236e2b","SpanId":"5ac74f510c81c118","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0Q"}}
{"Timestamp":"2024-11-10T22:59:35.7521258+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cfdfbdce535ec0d0616aa2deaf236e2b","SpanId":"5ac74f510c81c118","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":22.3408,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.3408"}]}}
{"Timestamp":"2024-11-10T22:59:35.7540449+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cfdfbdce535ec0d0616aa2deaf236e2b","SpanId":"5ac74f510c81c118","Properties":{"ElapsedMilliseconds":27.2801,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0Q"}}
{"Timestamp":"2024-11-10T22:59:35.7564238+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5f97cfdc7b98073c2db3170942cf4b0d","SpanId":"6edc68bbe197f0a8","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0R"}}
{"Timestamp":"2024-11-10T22:59:35.7601618+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5f97cfdc7b98073c2db3170942cf4b0d","SpanId":"6edc68bbe197f0a8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0R"}}
{"Timestamp":"2024-11-10T22:59:35.7615234+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5f97cfdc7b98073c2db3170942cf4b0d","SpanId":"6edc68bbe197f0a8","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0R"}}
{"Timestamp":"2024-11-10T22:59:35.7698601+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5f97cfdc7b98073c2db3170942cf4b0d","SpanId":"6edc68bbe197f0a8","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0R"}}
{"Timestamp":"2024-11-10T22:59:35.7721680+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5f97cfdc7b98073c2db3170942cf4b0d","SpanId":"6edc68bbe197f0a8","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0R"}}
{"Timestamp":"2024-11-10T22:59:35.7732415+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5f97cfdc7b98073c2db3170942cf4b0d","SpanId":"6edc68bbe197f0a8","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":9.2166,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0R"}}
{"Timestamp":"2024-11-10T22:59:35.7742872+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5f97cfdc7b98073c2db3170942cf4b0d","SpanId":"6edc68bbe197f0a8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0R"}}
{"Timestamp":"2024-11-10T22:59:35.7753803+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5f97cfdc7b98073c2db3170942cf4b0d","SpanId":"6edc68bbe197f0a8","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":15.5369,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.5369"}]}}
{"Timestamp":"2024-11-10T22:59:35.7776696+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5f97cfdc7b98073c2db3170942cf4b0d","SpanId":"6edc68bbe197f0a8","Properties":{"ElapsedMilliseconds":21.2662,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0R"}}
{"Timestamp":"2024-11-10T22:59:35.8939871+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b3888fc498df4a19422ccd5cae1418b8","SpanId":"3a8679d8e039dbf2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0S"}}
{"Timestamp":"2024-11-10T22:59:35.8979937+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b3888fc498df4a19422ccd5cae1418b8","SpanId":"3a8679d8e039dbf2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0S"}}
{"Timestamp":"2024-11-10T22:59:35.8988810+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0d61ec6f8f7c8874d17f7da7d67ae94b","SpanId":"f0773f962b8c48ba","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0T"}}
{"Timestamp":"2024-11-10T22:59:35.8990870+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b3888fc498df4a19422ccd5cae1418b8","SpanId":"3a8679d8e039dbf2","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0S"}}
{"Timestamp":"2024-11-10T22:59:35.9015791+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0d61ec6f8f7c8874d17f7da7d67ae94b","SpanId":"f0773f962b8c48ba","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0T"}}
{"Timestamp":"2024-11-10T22:59:35.9034787+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0d61ec6f8f7c8874d17f7da7d67ae94b","SpanId":"f0773f962b8c48ba","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0T"}}
{"Timestamp":"2024-11-10T22:59:35.9043877+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b3888fc498df4a19422ccd5cae1418b8","SpanId":"3a8679d8e039dbf2","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0S"}}
{"Timestamp":"2024-11-10T22:59:35.9064147+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0d61ec6f8f7c8874d17f7da7d67ae94b","SpanId":"f0773f962b8c48ba","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0T"}}
{"Timestamp":"2024-11-10T22:59:35.9072627+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b3888fc498df4a19422ccd5cae1418b8","SpanId":"3a8679d8e039dbf2","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0S"}}
{"Timestamp":"2024-11-10T22:59:35.9105703+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0d61ec6f8f7c8874d17f7da7d67ae94b","SpanId":"f0773f962b8c48ba","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0T"}}
{"Timestamp":"2024-11-10T22:59:35.9127016+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b3888fc498df4a19422ccd5cae1418b8","SpanId":"3a8679d8e039dbf2","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0S"}}
{"Timestamp":"2024-11-10T22:59:35.9156414+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0d61ec6f8f7c8874d17f7da7d67ae94b","SpanId":"f0773f962b8c48ba","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N0T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0T"}}
{"Timestamp":"2024-11-10T22:59:35.9177949+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b3888fc498df4a19422ccd5cae1418b8","SpanId":"3a8679d8e039dbf2","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.312,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N0S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0S"}}
{"Timestamp":"2024-11-10T22:59:35.9198266+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0d61ec6f8f7c8874d17f7da7d67ae94b","SpanId":"f0773f962b8c48ba","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.0206,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N0T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0T"}}
{"Timestamp":"2024-11-10T22:59:35.9216016+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b3888fc498df4a19422ccd5cae1418b8","SpanId":"3a8679d8e039dbf2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0S"}}
{"Timestamp":"2024-11-10T22:59:35.9230245+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0d61ec6f8f7c8874d17f7da7d67ae94b","SpanId":"f0773f962b8c48ba","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0T"}}
{"Timestamp":"2024-11-10T22:59:35.9238710+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b3888fc498df4a19422ccd5cae1418b8","SpanId":"3a8679d8e039dbf2","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":25.9925,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.9925"}]}}
{"Timestamp":"2024-11-10T22:59:35.9247629+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0d61ec6f8f7c8874d17f7da7d67ae94b","SpanId":"f0773f962b8c48ba","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":23.3809,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.3809"}]}}
{"Timestamp":"2024-11-10T22:59:35.9261266+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b3888fc498df4a19422ccd5cae1418b8","SpanId":"3a8679d8e039dbf2","Properties":{"ElapsedMilliseconds":32.1982,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0S"}}
{"Timestamp":"2024-11-10T22:59:35.9298182+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7fb136098c429fddcd2a6d8b6d6a502e","SpanId":"281281c3f4fce067","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0U:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0U"}}
{"Timestamp":"2024-11-10T22:59:35.9277916+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0d61ec6f8f7c8874d17f7da7d67ae94b","SpanId":"f0773f962b8c48ba","Properties":{"ElapsedMilliseconds":28.9063,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N0T"}}
{"Timestamp":"2024-11-10T22:59:35.9307363+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9e0491d816bc03f905857b2aa033a8e1","SpanId":"c892dc79e3fe4b1c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0V:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N0V"}}
{"Timestamp":"2024-11-10T22:59:35.9370861+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7fb136098c429fddcd2a6d8b6d6a502e","SpanId":"281281c3f4fce067","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0U:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0U"}}
{"Timestamp":"2024-11-10T22:59:35.9402506+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9e0491d816bc03f905857b2aa033a8e1","SpanId":"c892dc79e3fe4b1c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0V:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N0V"}}
{"Timestamp":"2024-11-10T22:59:35.9407293+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7fb136098c429fddcd2a6d8b6d6a502e","SpanId":"281281c3f4fce067","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0U:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0U"}}
{"Timestamp":"2024-11-10T22:59:35.9415296+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9e0491d816bc03f905857b2aa033a8e1","SpanId":"c892dc79e3fe4b1c","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0V:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N0V"}}
{"Timestamp":"2024-11-10T22:59:35.9456237+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7fb136098c429fddcd2a6d8b6d6a502e","SpanId":"281281c3f4fce067","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0U:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0U"}}
{"Timestamp":"2024-11-10T22:59:35.9477110+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7fb136098c429fddcd2a6d8b6d6a502e","SpanId":"281281c3f4fce067","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0U:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0U"}}
{"Timestamp":"2024-11-10T22:59:35.9492537+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7fb136098c429fddcd2a6d8b6d6a502e","SpanId":"281281c3f4fce067","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":5.4597,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N0U:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0U"}}
{"Timestamp":"2024-11-10T22:59:35.9507433+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7fb136098c429fddcd2a6d8b6d6a502e","SpanId":"281281c3f4fce067","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0U:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0U"}}
{"Timestamp":"2024-11-10T22:59:35.9516081+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7fb136098c429fddcd2a6d8b6d6a502e","SpanId":"281281c3f4fce067","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":16.1329,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.1329"}]}}
{"Timestamp":"2024-11-10T22:59:35.9533446+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7fb136098c429fddcd2a6d8b6d6a502e","SpanId":"281281c3f4fce067","Properties":{"ElapsedMilliseconds":23.522,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0U:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N0U"}}
{"Timestamp":"2024-11-10T22:59:35.9551237+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9e0491d816bc03f905857b2aa033a8e1","SpanId":"c892dc79e3fe4b1c","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0V:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N0V"}}
{"Timestamp":"2024-11-10T22:59:35.9583249+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9e0491d816bc03f905857b2aa033a8e1","SpanId":"c892dc79e3fe4b1c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N0V:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N0V"}}
{"Timestamp":"2024-11-10T22:59:35.9602307+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9e0491d816bc03f905857b2aa033a8e1","SpanId":"c892dc79e3fe4b1c","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":14.7692,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N0V:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N0V"}}
{"Timestamp":"2024-11-10T22:59:35.9619051+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9e0491d816bc03f905857b2aa033a8e1","SpanId":"c892dc79e3fe4b1c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N0V:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N0V"}}
{"Timestamp":"2024-11-10T22:59:35.9627527+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9e0491d816bc03f905857b2aa033a8e1","SpanId":"c892dc79e3fe4b1c","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":23.1173,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.1173"}]}}
{"Timestamp":"2024-11-10T22:59:35.9648314+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9e0491d816bc03f905857b2aa033a8e1","SpanId":"c892dc79e3fe4b1c","Properties":{"ElapsedMilliseconds":34.1157,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N0V:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N0V"}}
{"Timestamp":"2024-11-10T22:59:37.8527793+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8b1216d132cde96f2c5abf8b9cd28c49","SpanId":"cecf8aa793f0d911","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N10:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N10"}}
{"Timestamp":"2024-11-10T22:59:37.8546326+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8b1216d132cde96f2c5abf8b9cd28c49","SpanId":"cecf8aa793f0d911","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N10:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N10"}}
{"Timestamp":"2024-11-10T22:59:37.8552943+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8b1216d132cde96f2c5abf8b9cd28c49","SpanId":"cecf8aa793f0d911","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N10:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N10"}}
{"Timestamp":"2024-11-10T22:59:37.8603541+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8b1216d132cde96f2c5abf8b9cd28c49","SpanId":"cecf8aa793f0d911","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N10:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N10"}}
{"Timestamp":"2024-11-10T22:59:37.8644464+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8b1216d132cde96f2c5abf8b9cd28c49","SpanId":"cecf8aa793f0d911","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N10:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N10"}}
{"Timestamp":"2024-11-10T22:59:37.8658867+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8b1216d132cde96f2c5abf8b9cd28c49","SpanId":"cecf8aa793f0d911","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N10:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N10"}}
{"Timestamp":"2024-11-10T22:59:37.8669200+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8b1216d132cde96f2c5abf8b9cd28c49","SpanId":"cecf8aa793f0d911","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":10.5928,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N10:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N10"}}
{"Timestamp":"2024-11-10T22:59:37.8690217+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8b1216d132cde96f2c5abf8b9cd28c49","SpanId":"cecf8aa793f0d911","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N10:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N10"}}
{"Timestamp":"2024-11-10T22:59:37.8697601+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8b1216d132cde96f2c5abf8b9cd28c49","SpanId":"cecf8aa793f0d911","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":15.2196,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.2196"}]}}
{"Timestamp":"2024-11-10T22:59:37.8709936+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8b1216d132cde96f2c5abf8b9cd28c49","SpanId":"cecf8aa793f0d911","Properties":{"ElapsedMilliseconds":18.2336,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N10:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N10"}}
{"Timestamp":"2024-11-10T22:59:37.8728775+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"df0b1ff6ca99c0dbfe4ae79ae29f4ae0","SpanId":"686ad4962fee603b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N11:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N11"}}
{"Timestamp":"2024-11-10T22:59:37.8749427+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"df0b1ff6ca99c0dbfe4ae79ae29f4ae0","SpanId":"686ad4962fee603b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N11:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N11"}}
{"Timestamp":"2024-11-10T22:59:37.8756020+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"df0b1ff6ca99c0dbfe4ae79ae29f4ae0","SpanId":"686ad4962fee603b","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N11:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N11"}}
{"Timestamp":"2024-11-10T22:59:37.8799809+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"df0b1ff6ca99c0dbfe4ae79ae29f4ae0","SpanId":"686ad4962fee603b","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N11:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N11"}}
{"Timestamp":"2024-11-10T22:59:37.8816134+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"df0b1ff6ca99c0dbfe4ae79ae29f4ae0","SpanId":"686ad4962fee603b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N11:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N11"}}
{"Timestamp":"2024-11-10T22:59:37.8827518+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"df0b1ff6ca99c0dbfe4ae79ae29f4ae0","SpanId":"686ad4962fee603b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":6.1011,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N11:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N11"}}
{"Timestamp":"2024-11-10T22:59:37.8843983+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"df0b1ff6ca99c0dbfe4ae79ae29f4ae0","SpanId":"686ad4962fee603b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N11:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N11"}}
{"Timestamp":"2024-11-10T22:59:37.8852245+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"df0b1ff6ca99c0dbfe4ae79ae29f4ae0","SpanId":"686ad4962fee603b","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":10.5212,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"10.5212"}]}}
{"Timestamp":"2024-11-10T22:59:37.8866115+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"df0b1ff6ca99c0dbfe4ae79ae29f4ae0","SpanId":"686ad4962fee603b","Properties":{"ElapsedMilliseconds":13.7526,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N11:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N11"}}
{"Timestamp":"2024-11-10T22:59:38.0072516+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fcd919f65b4b175cd7f7d2c7b7351de0","SpanId":"b1bb7360bcd19857","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N12:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N12"}}
{"Timestamp":"2024-11-10T22:59:38.0110557+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fcd919f65b4b175cd7f7d2c7b7351de0","SpanId":"b1bb7360bcd19857","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N12:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N12"}}
{"Timestamp":"2024-11-10T22:59:38.0119831+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fcd919f65b4b175cd7f7d2c7b7351de0","SpanId":"b1bb7360bcd19857","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N12:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N12"}}
{"Timestamp":"2024-11-10T22:59:38.0132155+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"31378ebee8f8fe3f575e5edbfcb61f35","SpanId":"bde3dd57d3eabd84","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N13:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N13"}}
{"Timestamp":"2024-11-10T22:59:38.0152723+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fcd919f65b4b175cd7f7d2c7b7351de0","SpanId":"b1bb7360bcd19857","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N12:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N12"}}
{"Timestamp":"2024-11-10T22:59:38.0153071+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"31378ebee8f8fe3f575e5edbfcb61f35","SpanId":"bde3dd57d3eabd84","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N13:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N13"}}
{"Timestamp":"2024-11-10T22:59:38.0189093+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"31378ebee8f8fe3f575e5edbfcb61f35","SpanId":"bde3dd57d3eabd84","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N13:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N13"}}
{"Timestamp":"2024-11-10T22:59:38.0213060+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fcd919f65b4b175cd7f7d2c7b7351de0","SpanId":"b1bb7360bcd19857","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N12:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N12"}}
{"Timestamp":"2024-11-10T22:59:38.0243242+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fcd919f65b4b175cd7f7d2c7b7351de0","SpanId":"b1bb7360bcd19857","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N12:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N12"}}
{"Timestamp":"2024-11-10T22:59:38.0245586+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"31378ebee8f8fe3f575e5edbfcb61f35","SpanId":"bde3dd57d3eabd84","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N13:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N13"}}
{"Timestamp":"2024-11-10T22:59:38.0256789+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fcd919f65b4b175cd7f7d2c7b7351de0","SpanId":"b1bb7360bcd19857","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":12.3632,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N12:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N12"}}
{"Timestamp":"2024-11-10T22:59:38.0287026+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fcd919f65b4b175cd7f7d2c7b7351de0","SpanId":"b1bb7360bcd19857","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N12:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N12"}}
{"Timestamp":"2024-11-10T22:59:38.0381954+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"31378ebee8f8fe3f575e5edbfcb61f35","SpanId":"bde3dd57d3eabd84","Properties":{"elapsed":"9","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N13:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N13"}}
{"Timestamp":"2024-11-10T22:59:38.0394259+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fcd919f65b4b175cd7f7d2c7b7351de0","SpanId":"b1bb7360bcd19857","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":28.4595,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.4595"}]}}
{"Timestamp":"2024-11-10T22:59:38.0428111+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"31378ebee8f8fe3f575e5edbfcb61f35","SpanId":"bde3dd57d3eabd84","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N13:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N13"}}
{"Timestamp":"2024-11-10T22:59:38.0448218+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fcd919f65b4b175cd7f7d2c7b7351de0","SpanId":"b1bb7360bcd19857","Properties":{"ElapsedMilliseconds":37.5513,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N12:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N12"}}
{"Timestamp":"2024-11-10T22:59:38.0462855+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"31378ebee8f8fe3f575e5edbfcb61f35","SpanId":"bde3dd57d3eabd84","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":23.9217,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N13:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N13"}}
{"Timestamp":"2024-11-10T22:59:38.0603169+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e47cd77054f42dee47bb795d3f94af1b","SpanId":"4d0beefab7fc97fb","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N14:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N14"}}
{"Timestamp":"2024-11-10T22:59:38.0623293+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"31378ebee8f8fe3f575e5edbfcb61f35","SpanId":"bde3dd57d3eabd84","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N13:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N13"}}
{"Timestamp":"2024-11-10T22:59:38.0657200+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e47cd77054f42dee47bb795d3f94af1b","SpanId":"4d0beefab7fc97fb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N14:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N14"}}
{"Timestamp":"2024-11-10T22:59:38.0660309+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"31378ebee8f8fe3f575e5edbfcb61f35","SpanId":"bde3dd57d3eabd84","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":50.849,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"50.8490"}]}}
{"Timestamp":"2024-11-10T22:59:38.0677846+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e47cd77054f42dee47bb795d3f94af1b","SpanId":"4d0beefab7fc97fb","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N14:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N14"}}
{"Timestamp":"2024-11-10T22:59:38.0695218+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"31378ebee8f8fe3f575e5edbfcb61f35","SpanId":"bde3dd57d3eabd84","Properties":{"ElapsedMilliseconds":56.338,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N13:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N13"}}
{"Timestamp":"2024-11-10T22:59:38.0719388+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8c3f8c2441b12f57b88b2ef9419c9e64","SpanId":"6e4fed3a333a7a35","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N15:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N15"}}
{"Timestamp":"2024-11-10T22:59:38.0736302+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e47cd77054f42dee47bb795d3f94af1b","SpanId":"4d0beefab7fc97fb","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N14:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N14"}}
{"Timestamp":"2024-11-10T22:59:38.0777447+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8c3f8c2441b12f57b88b2ef9419c9e64","SpanId":"6e4fed3a333a7a35","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N15:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N15"}}
{"Timestamp":"2024-11-10T22:59:38.0787081+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e47cd77054f42dee47bb795d3f94af1b","SpanId":"4d0beefab7fc97fb","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N14:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N14"}}
{"Timestamp":"2024-11-10T22:59:38.0792787+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8c3f8c2441b12f57b88b2ef9419c9e64","SpanId":"6e4fed3a333a7a35","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N15:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N15"}}
{"Timestamp":"2024-11-10T22:59:38.0799732+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e47cd77054f42dee47bb795d3f94af1b","SpanId":"4d0beefab7fc97fb","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.8492,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N14:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N14"}}
{"Timestamp":"2024-11-10T22:59:38.0818922+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e47cd77054f42dee47bb795d3f94af1b","SpanId":"4d0beefab7fc97fb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N14:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N14"}}
{"Timestamp":"2024-11-10T22:59:38.0826138+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e47cd77054f42dee47bb795d3f94af1b","SpanId":"4d0beefab7fc97fb","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":17.5538,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.5538"}]}}
{"Timestamp":"2024-11-10T22:59:38.0842401+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e47cd77054f42dee47bb795d3f94af1b","SpanId":"4d0beefab7fc97fb","Properties":{"ElapsedMilliseconds":23.9696,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N14:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N14"}}
{"Timestamp":"2024-11-10T22:59:38.0883993+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8c3f8c2441b12f57b88b2ef9419c9e64","SpanId":"6e4fed3a333a7a35","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N15:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N15"}}
{"Timestamp":"2024-11-10T22:59:38.0905938+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8c3f8c2441b12f57b88b2ef9419c9e64","SpanId":"6e4fed3a333a7a35","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N15:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N15"}}
{"Timestamp":"2024-11-10T22:59:38.0915411+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8c3f8c2441b12f57b88b2ef9419c9e64","SpanId":"6e4fed3a333a7a35","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":10.6042,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N15:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N15"}}
{"Timestamp":"2024-11-10T22:59:38.0923945+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8c3f8c2441b12f57b88b2ef9419c9e64","SpanId":"6e4fed3a333a7a35","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N15:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N15"}}
{"Timestamp":"2024-11-10T22:59:38.0931919+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8c3f8c2441b12f57b88b2ef9419c9e64","SpanId":"6e4fed3a333a7a35","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":15.7826,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.7826"}]}}
{"Timestamp":"2024-11-10T22:59:38.0943641+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8c3f8c2441b12f57b88b2ef9419c9e64","SpanId":"6e4fed3a333a7a35","Properties":{"ElapsedMilliseconds":22.4724,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N15:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N15"}}
{"Timestamp":"2024-11-10T22:59:39.8939096+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0b266ac70697767c55c483d6441cecf2","SpanId":"5bc723407bced42f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N16:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N16"}}
{"Timestamp":"2024-11-10T22:59:39.8991420+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0b266ac70697767c55c483d6441cecf2","SpanId":"5bc723407bced42f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N16:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N16"}}
{"Timestamp":"2024-11-10T22:59:39.9004740+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0b266ac70697767c55c483d6441cecf2","SpanId":"5bc723407bced42f","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N16:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N16"}}
{"Timestamp":"2024-11-10T22:59:39.9096671+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0b266ac70697767c55c483d6441cecf2","SpanId":"5bc723407bced42f","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N16:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N16"}}
{"Timestamp":"2024-11-10T22:59:39.9250549+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0b266ac70697767c55c483d6441cecf2","SpanId":"5bc723407bced42f","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N16:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N16"}}
{"Timestamp":"2024-11-10T22:59:39.9269571+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0b266ac70697767c55c483d6441cecf2","SpanId":"5bc723407bced42f","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N16:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N16"}}
{"Timestamp":"2024-11-10T22:59:39.9282342+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0b266ac70697767c55c483d6441cecf2","SpanId":"5bc723407bced42f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":23.4578,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N16:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N16"}}
{"Timestamp":"2024-11-10T22:59:39.9292955+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0b266ac70697767c55c483d6441cecf2","SpanId":"5bc723407bced42f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N16:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N16"}}
{"Timestamp":"2024-11-10T22:59:39.9300713+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0b266ac70697767c55c483d6441cecf2","SpanId":"5bc723407bced42f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":31.1025,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"31.1025"}]}}
{"Timestamp":"2024-11-10T22:59:39.9310554+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0b266ac70697767c55c483d6441cecf2","SpanId":"5bc723407bced42f","Properties":{"ElapsedMilliseconds":37.2466,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N16:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N16"}}
{"Timestamp":"2024-11-10T22:59:39.9331806+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"68f66e1a2f12a311af9e9430fa395c06","SpanId":"08aa4a6e2de0a631","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-28&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N17:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N17"}}
{"Timestamp":"2024-11-10T22:59:39.9359487+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"68f66e1a2f12a311af9e9430fa395c06","SpanId":"08aa4a6e2de0a631","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N17:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N17"}}
{"Timestamp":"2024-11-10T22:59:39.9367795+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"68f66e1a2f12a311af9e9430fa395c06","SpanId":"08aa4a6e2de0a631","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N17:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N17"}}
{"Timestamp":"2024-11-10T22:59:39.9411205+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"68f66e1a2f12a311af9e9430fa395c06","SpanId":"08aa4a6e2de0a631","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N17:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N17"}}
{"Timestamp":"2024-11-10T22:59:39.9426328+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"68f66e1a2f12a311af9e9430fa395c06","SpanId":"08aa4a6e2de0a631","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N17:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N17"}}
{"Timestamp":"2024-11-10T22:59:39.9435831+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"68f66e1a2f12a311af9e9430fa395c06","SpanId":"08aa4a6e2de0a631","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":5.6218,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N17:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N17"}}
{"Timestamp":"2024-11-10T22:59:39.9445003+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"68f66e1a2f12a311af9e9430fa395c06","SpanId":"08aa4a6e2de0a631","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N17:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N17"}}
{"Timestamp":"2024-11-10T22:59:39.9452901+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"68f66e1a2f12a311af9e9430fa395c06","SpanId":"08aa4a6e2de0a631","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":9.7384,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"9.7384"}]}}
{"Timestamp":"2024-11-10T22:59:39.9464479+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"68f66e1a2f12a311af9e9430fa395c06","SpanId":"08aa4a6e2de0a631","Properties":{"ElapsedMilliseconds":13.292,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-28&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N17:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N17"}}
{"Timestamp":"2024-11-10T22:59:40.1029893+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"27bd644dc62cfecd4afd3c48b6bde615","SpanId":"4382ed86f3f36a85","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N18:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N18"}}
{"Timestamp":"2024-11-10T22:59:40.1076438+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"27bd644dc62cfecd4afd3c48b6bde615","SpanId":"4382ed86f3f36a85","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N18:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N18"}}
{"Timestamp":"2024-11-10T22:59:40.1130507+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"27bd644dc62cfecd4afd3c48b6bde615","SpanId":"4382ed86f3f36a85","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N18:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N18"}}
{"Timestamp":"2024-11-10T22:59:40.1131830+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c865b8c257a9708beaa8e3aa43a74614","SpanId":"fef8acc41e7721da","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N19:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N19"}}
{"Timestamp":"2024-11-10T22:59:40.1174602+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"27bd644dc62cfecd4afd3c48b6bde615","SpanId":"4382ed86f3f36a85","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N18:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N18"}}
{"Timestamp":"2024-11-10T22:59:40.1184374+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c865b8c257a9708beaa8e3aa43a74614","SpanId":"fef8acc41e7721da","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N19:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N19"}}
{"Timestamp":"2024-11-10T22:59:40.1215226+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c865b8c257a9708beaa8e3aa43a74614","SpanId":"fef8acc41e7721da","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N19:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N19"}}
{"Timestamp":"2024-11-10T22:59:40.1240779+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"27bd644dc62cfecd4afd3c48b6bde615","SpanId":"4382ed86f3f36a85","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N18:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N18"}}
{"Timestamp":"2024-11-10T22:59:40.1272889+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c865b8c257a9708beaa8e3aa43a74614","SpanId":"fef8acc41e7721da","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N19:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N19"}}
{"Timestamp":"2024-11-10T22:59:40.1281510+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"27bd644dc62cfecd4afd3c48b6bde615","SpanId":"4382ed86f3f36a85","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N18:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N18"}}
{"Timestamp":"2024-11-10T22:59:40.1397040+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"27bd644dc62cfecd4afd3c48b6bde615","SpanId":"4382ed86f3f36a85","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":24.3703,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N18:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N18"}}
{"Timestamp":"2024-11-10T22:59:40.1398046+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c865b8c257a9708beaa8e3aa43a74614","SpanId":"fef8acc41e7721da","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N19:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N19"}}
{"Timestamp":"2024-11-10T22:59:40.1433455+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"27bd644dc62cfecd4afd3c48b6bde615","SpanId":"4382ed86f3f36a85","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N18:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N18"}}
{"Timestamp":"2024-11-10T22:59:40.1450338+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c865b8c257a9708beaa8e3aa43a74614","SpanId":"fef8acc41e7721da","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N19:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N19"}}
{"Timestamp":"2024-11-10T22:59:40.1460264+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"27bd644dc62cfecd4afd3c48b6bde615","SpanId":"4382ed86f3f36a85","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":38.5413,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"38.5413"}]}}
{"Timestamp":"2024-11-10T22:59:40.1473486+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c865b8c257a9708beaa8e3aa43a74614","SpanId":"fef8acc41e7721da","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":22.0042,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N19:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N19"}}
{"Timestamp":"2024-11-10T22:59:40.1498910+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"27bd644dc62cfecd4afd3c48b6bde615","SpanId":"4382ed86f3f36a85","Properties":{"ElapsedMilliseconds":46.9886,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N18:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N18"}}
{"Timestamp":"2024-11-10T22:59:40.1522893+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c865b8c257a9708beaa8e3aa43a74614","SpanId":"fef8acc41e7721da","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N19:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N19"}}
{"Timestamp":"2024-11-10T22:59:40.1568682+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c865b8c257a9708beaa8e3aa43a74614","SpanId":"fef8acc41e7721da","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":38.5214,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"38.5214"}]}}
{"Timestamp":"2024-11-10T22:59:40.1559080+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2d99472c7bb0677d70fcd58f01072fcd","SpanId":"7d77e669ffec0f25","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-28&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1A:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1A"}}
{"Timestamp":"2024-11-10T22:59:40.1589615+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c865b8c257a9708beaa8e3aa43a74614","SpanId":"fef8acc41e7721da","Properties":{"ElapsedMilliseconds":45.8951,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N19:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N19"}}
{"Timestamp":"2024-11-10T22:59:40.1615796+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2d99472c7bb0677d70fcd58f01072fcd","SpanId":"7d77e669ffec0f25","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1A:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1A"}}
{"Timestamp":"2024-11-10T22:59:40.1636174+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bcdfd5a26810824871eb627a5646e917","SpanId":"b5717ec9b277e224","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-28&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1B:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N1B"}}
{"Timestamp":"2024-11-10T22:59:40.1678471+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2d99472c7bb0677d70fcd58f01072fcd","SpanId":"7d77e669ffec0f25","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1A:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1A"}}
{"Timestamp":"2024-11-10T22:59:40.1703878+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bcdfd5a26810824871eb627a5646e917","SpanId":"b5717ec9b277e224","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1B:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N1B"}}
{"Timestamp":"2024-11-10T22:59:40.1718966+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bcdfd5a26810824871eb627a5646e917","SpanId":"b5717ec9b277e224","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1B:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N1B"}}
{"Timestamp":"2024-11-10T22:59:40.1747943+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2d99472c7bb0677d70fcd58f01072fcd","SpanId":"7d77e669ffec0f25","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1A:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1A"}}
{"Timestamp":"2024-11-10T22:59:40.1772476+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2d99472c7bb0677d70fcd58f01072fcd","SpanId":"7d77e669ffec0f25","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1A:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1A"}}
{"Timestamp":"2024-11-10T22:59:40.1783009+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2d99472c7bb0677d70fcd58f01072fcd","SpanId":"7d77e669ffec0f25","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":7.2341,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N1A:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1A"}}
{"Timestamp":"2024-11-10T22:59:40.1796222+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2d99472c7bb0677d70fcd58f01072fcd","SpanId":"7d77e669ffec0f25","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1A:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1A"}}
{"Timestamp":"2024-11-10T22:59:40.1805139+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2d99472c7bb0677d70fcd58f01072fcd","SpanId":"7d77e669ffec0f25","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":19.4998,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.4998"}]}}
{"Timestamp":"2024-11-10T22:59:40.1816054+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bcdfd5a26810824871eb627a5646e917","SpanId":"b5717ec9b277e224","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1B:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N1B"}}
{"Timestamp":"2024-11-10T22:59:40.1823874+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2d99472c7bb0677d70fcd58f01072fcd","SpanId":"7d77e669ffec0f25","Properties":{"ElapsedMilliseconds":26.4996,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-28&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1A:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1A"}}
{"Timestamp":"2024-11-10T22:59:40.1846355+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bcdfd5a26810824871eb627a5646e917","SpanId":"b5717ec9b277e224","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1B:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N1B"}}
{"Timestamp":"2024-11-10T22:59:40.1890501+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bcdfd5a26810824871eb627a5646e917","SpanId":"b5717ec9b277e224","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":14.3447,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N1B:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N1B"}}
{"Timestamp":"2024-11-10T22:59:40.1908684+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bcdfd5a26810824871eb627a5646e917","SpanId":"b5717ec9b277e224","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1B:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N1B"}}
{"Timestamp":"2024-11-10T22:59:40.1926573+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bcdfd5a26810824871eb627a5646e917","SpanId":"b5717ec9b277e224","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":22.5928,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.5928"}]}}
{"Timestamp":"2024-11-10T22:59:40.1938732+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bcdfd5a26810824871eb627a5646e917","SpanId":"b5717ec9b277e224","Properties":{"ElapsedMilliseconds":30.3025,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-28&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1B:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N1B"}}
{"Timestamp":"2024-11-10T22:59:41.7003646+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"650d2570b13934c03408bdf182890e95","SpanId":"23c651fe55daf01a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1C"}}
{"Timestamp":"2024-11-10T22:59:41.7043041+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"650d2570b13934c03408bdf182890e95","SpanId":"23c651fe55daf01a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1C"}}
{"Timestamp":"2024-11-10T22:59:41.7050857+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"650d2570b13934c03408bdf182890e95","SpanId":"23c651fe55daf01a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1C"}}
{"Timestamp":"2024-11-10T22:59:41.7105678+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"650d2570b13934c03408bdf182890e95","SpanId":"23c651fe55daf01a","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1C"}}
{"Timestamp":"2024-11-10T22:59:41.7146863+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"650d2570b13934c03408bdf182890e95","SpanId":"23c651fe55daf01a","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1C"}}
{"Timestamp":"2024-11-10T22:59:41.7166351+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"650d2570b13934c03408bdf182890e95","SpanId":"23c651fe55daf01a","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1C"}}
{"Timestamp":"2024-11-10T22:59:41.7179714+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"650d2570b13934c03408bdf182890e95","SpanId":"23c651fe55daf01a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":11.3107,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N1C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1C"}}
{"Timestamp":"2024-11-10T22:59:41.7197910+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"650d2570b13934c03408bdf182890e95","SpanId":"23c651fe55daf01a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1C"}}
{"Timestamp":"2024-11-10T22:59:41.7206432+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"650d2570b13934c03408bdf182890e95","SpanId":"23c651fe55daf01a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":16.5072,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.5072"}]}}
{"Timestamp":"2024-11-10T22:59:41.7220774+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"650d2570b13934c03408bdf182890e95","SpanId":"23c651fe55daf01a","Properties":{"ElapsedMilliseconds":21.8233,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1C"}}
{"Timestamp":"2024-11-10T22:59:41.7239596+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"979d087627b0c6f20250c9b8fbe3f985","SpanId":"389cf7975d6919a4","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1D:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1D"}}
{"Timestamp":"2024-11-10T22:59:41.7264427+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"979d087627b0c6f20250c9b8fbe3f985","SpanId":"389cf7975d6919a4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1D:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1D"}}
{"Timestamp":"2024-11-10T22:59:41.7271055+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"979d087627b0c6f20250c9b8fbe3f985","SpanId":"389cf7975d6919a4","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1D:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1D"}}
{"Timestamp":"2024-11-10T22:59:41.7318206+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"979d087627b0c6f20250c9b8fbe3f985","SpanId":"389cf7975d6919a4","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1D:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1D"}}
{"Timestamp":"2024-11-10T22:59:41.7335171+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"979d087627b0c6f20250c9b8fbe3f985","SpanId":"389cf7975d6919a4","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1D:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1D"}}
{"Timestamp":"2024-11-10T22:59:41.7345792+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"979d087627b0c6f20250c9b8fbe3f985","SpanId":"389cf7975d6919a4","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":6.2305,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N1D:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1D"}}
{"Timestamp":"2024-11-10T22:59:41.7364040+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"979d087627b0c6f20250c9b8fbe3f985","SpanId":"389cf7975d6919a4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1D:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1D"}}
{"Timestamp":"2024-11-10T22:59:41.7372559+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"979d087627b0c6f20250c9b8fbe3f985","SpanId":"389cf7975d6919a4","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":11.0057,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.0057"}]}}
{"Timestamp":"2024-11-10T22:59:41.7385713+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"979d087627b0c6f20250c9b8fbe3f985","SpanId":"389cf7975d6919a4","Properties":{"ElapsedMilliseconds":14.627,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1D:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1D"}}
{"Timestamp":"2024-11-10T22:59:42.1170057+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"25956dcf0c2feb2a81b56a3367059c67","SpanId":"d646160cd36c72e3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1E"}}
{"Timestamp":"2024-11-10T22:59:42.1223632+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"25956dcf0c2feb2a81b56a3367059c67","SpanId":"d646160cd36c72e3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1E"}}
{"Timestamp":"2024-11-10T22:59:42.1235204+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fc0f093bba8412b607097d0c0f577e8b","SpanId":"90f16d4710b9a910","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1F"}}
{"Timestamp":"2024-11-10T22:59:42.1282073+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"25956dcf0c2feb2a81b56a3367059c67","SpanId":"d646160cd36c72e3","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1E"}}
{"Timestamp":"2024-11-10T22:59:42.1305220+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fc0f093bba8412b607097d0c0f577e8b","SpanId":"90f16d4710b9a910","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1F"}}
{"Timestamp":"2024-11-10T22:59:42.1327727+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fc0f093bba8412b607097d0c0f577e8b","SpanId":"90f16d4710b9a910","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1F"}}
{"Timestamp":"2024-11-10T22:59:42.1405390+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"25956dcf0c2feb2a81b56a3367059c67","SpanId":"d646160cd36c72e3","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1E"}}
{"Timestamp":"2024-11-10T22:59:42.1420699+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fc0f093bba8412b607097d0c0f577e8b","SpanId":"90f16d4710b9a910","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1F"}}
{"Timestamp":"2024-11-10T22:59:42.1557552+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"25956dcf0c2feb2a81b56a3367059c67","SpanId":"d646160cd36c72e3","Properties":{"elapsed":"12","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1E"}}
{"Timestamp":"2024-11-10T22:59:42.1606243+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fc0f093bba8412b607097d0c0f577e8b","SpanId":"90f16d4710b9a910","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1F"}}
{"Timestamp":"2024-11-10T22:59:42.1625728+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"25956dcf0c2feb2a81b56a3367059c67","SpanId":"d646160cd36c72e3","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1E"}}
{"Timestamp":"2024-11-10T22:59:42.1652174+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"25956dcf0c2feb2a81b56a3367059c67","SpanId":"d646160cd36c72e3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":33.3869,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N1E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1E"}}
{"Timestamp":"2024-11-10T22:59:42.1641406+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fc0f093bba8412b607097d0c0f577e8b","SpanId":"90f16d4710b9a910","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1F"}}
{"Timestamp":"2024-11-10T22:59:42.1670812+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"25956dcf0c2feb2a81b56a3367059c67","SpanId":"d646160cd36c72e3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1E"}}
{"Timestamp":"2024-11-10T22:59:42.1686784+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fc0f093bba8412b607097d0c0f577e8b","SpanId":"90f16d4710b9a910","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":34.347,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N1F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1F"}}
{"Timestamp":"2024-11-10T22:59:42.1694131+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"25956dcf0c2feb2a81b56a3367059c67","SpanId":"d646160cd36c72e3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":47.4357,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"47.4357"}]}}
{"Timestamp":"2024-11-10T22:59:42.1709332+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fc0f093bba8412b607097d0c0f577e8b","SpanId":"90f16d4710b9a910","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1F"}}
{"Timestamp":"2024-11-10T22:59:42.1732853+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"25956dcf0c2feb2a81b56a3367059c67","SpanId":"d646160cd36c72e3","Properties":{"ElapsedMilliseconds":56.3037,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1E"}}
{"Timestamp":"2024-11-10T22:59:42.1738674+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fc0f093bba8412b607097d0c0f577e8b","SpanId":"90f16d4710b9a910","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":43.3969,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"43.3969"}]}}
{"Timestamp":"2024-11-10T22:59:42.1762549+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5cb110ec9f9e77e6aa1c6a43ca522296","SpanId":"a0cb04025a6e2e6a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1G:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1G"}}
{"Timestamp":"2024-11-10T22:59:42.1781230+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fc0f093bba8412b607097d0c0f577e8b","SpanId":"90f16d4710b9a910","Properties":{"ElapsedMilliseconds":54.7604,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1F"}}
{"Timestamp":"2024-11-10T22:59:42.1801378+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a1777a2f955cba5dbed83a989083b59a","SpanId":"51a21f92269e9031","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1H:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N1H"}}
{"Timestamp":"2024-11-10T22:59:42.1807379+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5cb110ec9f9e77e6aa1c6a43ca522296","SpanId":"a0cb04025a6e2e6a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1G:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1G"}}
{"Timestamp":"2024-11-10T22:59:42.1846320+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a1777a2f955cba5dbed83a989083b59a","SpanId":"51a21f92269e9031","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1H:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N1H"}}
{"Timestamp":"2024-11-10T22:59:42.1853511+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5cb110ec9f9e77e6aa1c6a43ca522296","SpanId":"a0cb04025a6e2e6a","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1G:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1G"}}
{"Timestamp":"2024-11-10T22:59:42.1861661+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a1777a2f955cba5dbed83a989083b59a","SpanId":"51a21f92269e9031","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1H:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N1H"}}
{"Timestamp":"2024-11-10T22:59:42.1939681+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5cb110ec9f9e77e6aa1c6a43ca522296","SpanId":"a0cb04025a6e2e6a","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1G:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1G"}}
{"Timestamp":"2024-11-10T22:59:42.1950909+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a1777a2f955cba5dbed83a989083b59a","SpanId":"51a21f92269e9031","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1H:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N1H"}}
{"Timestamp":"2024-11-10T22:59:42.1961019+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5cb110ec9f9e77e6aa1c6a43ca522296","SpanId":"a0cb04025a6e2e6a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1G:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1G"}}
{"Timestamp":"2024-11-10T22:59:42.1977997+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a1777a2f955cba5dbed83a989083b59a","SpanId":"51a21f92269e9031","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1H:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N1H"}}
{"Timestamp":"2024-11-10T22:59:42.1989225+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5cb110ec9f9e77e6aa1c6a43ca522296","SpanId":"a0cb04025a6e2e6a","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":11.3479,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N1G:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1G"}}
{"Timestamp":"2024-11-10T22:59:42.1997345+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a1777a2f955cba5dbed83a989083b59a","SpanId":"51a21f92269e9031","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":10.6104,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N1H:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N1H"}}
{"Timestamp":"2024-11-10T22:59:42.2006203+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5cb110ec9f9e77e6aa1c6a43ca522296","SpanId":"a0cb04025a6e2e6a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1G:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1G"}}
{"Timestamp":"2024-11-10T22:59:42.2015841+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a1777a2f955cba5dbed83a989083b59a","SpanId":"51a21f92269e9031","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1H:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N1H"}}
{"Timestamp":"2024-11-10T22:59:42.2025166+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5cb110ec9f9e77e6aa1c6a43ca522296","SpanId":"a0cb04025a6e2e6a","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":21.9649,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.9649"}]}}
{"Timestamp":"2024-11-10T22:59:42.2032154+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a1777a2f955cba5dbed83a989083b59a","SpanId":"51a21f92269e9031","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":18.8122,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.8122"}]}}
{"Timestamp":"2024-11-10T22:59:42.2052846+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5cb110ec9f9e77e6aa1c6a43ca522296","SpanId":"a0cb04025a6e2e6a","Properties":{"ElapsedMilliseconds":28.981,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1G:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1G"}}
{"Timestamp":"2024-11-10T22:59:42.2082445+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a1777a2f955cba5dbed83a989083b59a","SpanId":"51a21f92269e9031","Properties":{"ElapsedMilliseconds":28.0193,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1H:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N1H"}}
{"Timestamp":"2024-11-10T22:59:43.9791592+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cb7f560027f4955b8887129da1f3526c","SpanId":"3697264ce94a1bbb","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1I"}}
{"Timestamp":"2024-11-10T22:59:43.9810000+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cb7f560027f4955b8887129da1f3526c","SpanId":"3697264ce94a1bbb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1I"}}
{"Timestamp":"2024-11-10T22:59:43.9817338+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cb7f560027f4955b8887129da1f3526c","SpanId":"3697264ce94a1bbb","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1I"}}
{"Timestamp":"2024-11-10T22:59:43.9878558+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cb7f560027f4955b8887129da1f3526c","SpanId":"3697264ce94a1bbb","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1I"}}
{"Timestamp":"2024-11-10T22:59:43.9924029+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cb7f560027f4955b8887129da1f3526c","SpanId":"3697264ce94a1bbb","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1I"}}
{"Timestamp":"2024-11-10T22:59:43.9946860+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cb7f560027f4955b8887129da1f3526c","SpanId":"3697264ce94a1bbb","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1I"}}
{"Timestamp":"2024-11-10T22:59:43.9958157+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cb7f560027f4955b8887129da1f3526c","SpanId":"3697264ce94a1bbb","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":12.9198,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N1I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1I"}}
{"Timestamp":"2024-11-10T22:59:43.9971146+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cb7f560027f4955b8887129da1f3526c","SpanId":"3697264ce94a1bbb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1I"}}
{"Timestamp":"2024-11-10T22:59:43.9980761+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cb7f560027f4955b8887129da1f3526c","SpanId":"3697264ce94a1bbb","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":17.1482,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.1482"}]}}
{"Timestamp":"2024-11-10T22:59:43.9994825+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cb7f560027f4955b8887129da1f3526c","SpanId":"3697264ce94a1bbb","Properties":{"ElapsedMilliseconds":20.3357,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1I"}}
{"Timestamp":"2024-11-10T22:59:44.0015295+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b6812334b051fc578f46a87bd2032812","SpanId":"9085e355374bab8d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1J"}}
{"Timestamp":"2024-11-10T22:59:44.0049258+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b6812334b051fc578f46a87bd2032812","SpanId":"9085e355374bab8d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1J"}}
{"Timestamp":"2024-11-10T22:59:44.0062490+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b6812334b051fc578f46a87bd2032812","SpanId":"9085e355374bab8d","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1J"}}
{"Timestamp":"2024-11-10T22:59:44.0131229+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b6812334b051fc578f46a87bd2032812","SpanId":"9085e355374bab8d","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1J"}}
{"Timestamp":"2024-11-10T22:59:44.0160222+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b6812334b051fc578f46a87bd2032812","SpanId":"9085e355374bab8d","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1J"}}
{"Timestamp":"2024-11-10T22:59:44.0177712+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b6812334b051fc578f46a87bd2032812","SpanId":"9085e355374bab8d","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":10.1105,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N1J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1J"}}
{"Timestamp":"2024-11-10T22:59:44.0195452+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b6812334b051fc578f46a87bd2032812","SpanId":"9085e355374bab8d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1J"}}
{"Timestamp":"2024-11-10T22:59:44.0206115+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b6812334b051fc578f46a87bd2032812","SpanId":"9085e355374bab8d","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":15.9625,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.9625"}]}}
{"Timestamp":"2024-11-10T22:59:44.0233579+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b6812334b051fc578f46a87bd2032812","SpanId":"9085e355374bab8d","Properties":{"ElapsedMilliseconds":21.851,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1J"}}
{"Timestamp":"2024-11-10T22:59:44.1620791+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"46d81035f91b15ec9ad846f4fcaadd5e","SpanId":"60708fe346cd2670","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1K"}}
{"Timestamp":"2024-11-10T22:59:44.1648854+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"46d81035f91b15ec9ad846f4fcaadd5e","SpanId":"60708fe346cd2670","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1K"}}
{"Timestamp":"2024-11-10T22:59:44.1667139+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"46d81035f91b15ec9ad846f4fcaadd5e","SpanId":"60708fe346cd2670","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1K"}}
{"Timestamp":"2024-11-10T22:59:44.1673335+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e80e6f13a0b5051e132b2c48f94e4c83","SpanId":"1138a8868ad3624d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1L"}}
{"Timestamp":"2024-11-10T22:59:44.1720912+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e80e6f13a0b5051e132b2c48f94e4c83","SpanId":"1138a8868ad3624d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1L"}}
{"Timestamp":"2024-11-10T22:59:44.1732109+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e80e6f13a0b5051e132b2c48f94e4c83","SpanId":"1138a8868ad3624d","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1L"}}
{"Timestamp":"2024-11-10T22:59:44.1780636+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"46d81035f91b15ec9ad846f4fcaadd5e","SpanId":"60708fe346cd2670","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1K"}}
{"Timestamp":"2024-11-10T22:59:44.1799284+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e80e6f13a0b5051e132b2c48f94e4c83","SpanId":"1138a8868ad3624d","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1L"}}
{"Timestamp":"2024-11-10T22:59:44.1833543+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"46d81035f91b15ec9ad846f4fcaadd5e","SpanId":"60708fe346cd2670","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1K"}}
{"Timestamp":"2024-11-10T22:59:44.1910982+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e80e6f13a0b5051e132b2c48f94e4c83","SpanId":"1138a8868ad3624d","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1L"}}
{"Timestamp":"2024-11-10T22:59:44.1925463+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"46d81035f91b15ec9ad846f4fcaadd5e","SpanId":"60708fe346cd2670","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1K"}}
{"Timestamp":"2024-11-10T22:59:44.1954397+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e80e6f13a0b5051e132b2c48f94e4c83","SpanId":"1138a8868ad3624d","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1L"}}
{"Timestamp":"2024-11-10T22:59:44.1967193+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"46d81035f91b15ec9ad846f4fcaadd5e","SpanId":"60708fe346cd2670","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":27.86,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N1K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1K"}}
{"Timestamp":"2024-11-10T22:59:44.1975634+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e80e6f13a0b5051e132b2c48f94e4c83","SpanId":"1138a8868ad3624d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":22.9428,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N1L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1L"}}
{"Timestamp":"2024-11-10T22:59:44.1984585+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"46d81035f91b15ec9ad846f4fcaadd5e","SpanId":"60708fe346cd2670","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1K"}}
{"Timestamp":"2024-11-10T22:59:44.1995222+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e80e6f13a0b5051e132b2c48f94e4c83","SpanId":"1138a8868ad3624d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1L"}}
{"Timestamp":"2024-11-10T22:59:44.2004144+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"46d81035f91b15ec9ad846f4fcaadd5e","SpanId":"60708fe346cd2670","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":35.8417,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.8417"}]}}
{"Timestamp":"2024-11-10T22:59:44.2014985+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e80e6f13a0b5051e132b2c48f94e4c83","SpanId":"1138a8868ad3624d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":29.7552,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.7552"}]}}
{"Timestamp":"2024-11-10T22:59:44.2032964+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"46d81035f91b15ec9ad846f4fcaadd5e","SpanId":"60708fe346cd2670","Properties":{"ElapsedMilliseconds":41.2854,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1K"}}
{"Timestamp":"2024-11-10T22:59:44.2060006+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e80e6f13a0b5051e132b2c48f94e4c83","SpanId":"1138a8868ad3624d","Properties":{"ElapsedMilliseconds":38.6951,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1L"}}
{"Timestamp":"2024-11-10T22:59:44.2091267+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fdc7b1dda6508cdddf5a61a929656047","SpanId":"9c436bea23d67175","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1M:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1M"}}
{"Timestamp":"2024-11-10T22:59:44.2105127+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3a2485b3ee0efbf8e119a864fee05bc6","SpanId":"37f81acd83b5d230","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1N:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N1N"}}
{"Timestamp":"2024-11-10T22:59:44.2150560+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fdc7b1dda6508cdddf5a61a929656047","SpanId":"9c436bea23d67175","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1M:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1M"}}
{"Timestamp":"2024-11-10T22:59:44.2166900+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3a2485b3ee0efbf8e119a864fee05bc6","SpanId":"37f81acd83b5d230","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1N:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N1N"}}
{"Timestamp":"2024-11-10T22:59:44.2170026+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fdc7b1dda6508cdddf5a61a929656047","SpanId":"9c436bea23d67175","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1M:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1M"}}
{"Timestamp":"2024-11-10T22:59:44.2179483+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3a2485b3ee0efbf8e119a864fee05bc6","SpanId":"37f81acd83b5d230","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1N:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N1N"}}
{"Timestamp":"2024-11-10T22:59:44.2252380+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fdc7b1dda6508cdddf5a61a929656047","SpanId":"9c436bea23d67175","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1M:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1M"}}
{"Timestamp":"2024-11-10T22:59:44.2285208+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fdc7b1dda6508cdddf5a61a929656047","SpanId":"9c436bea23d67175","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1M:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1M"}}
{"Timestamp":"2024-11-10T22:59:44.2294816+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3a2485b3ee0efbf8e119a864fee05bc6","SpanId":"37f81acd83b5d230","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1N:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N1N"}}
{"Timestamp":"2024-11-10T22:59:44.2298681+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fdc7b1dda6508cdddf5a61a929656047","SpanId":"9c436bea23d67175","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":10.12,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N1M:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1M"}}
{"Timestamp":"2024-11-10T22:59:44.2318439+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3a2485b3ee0efbf8e119a864fee05bc6","SpanId":"37f81acd83b5d230","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1N:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N1N"}}
{"Timestamp":"2024-11-10T22:59:44.2324525+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fdc7b1dda6508cdddf5a61a929656047","SpanId":"9c436bea23d67175","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1M:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1M"}}
{"Timestamp":"2024-11-10T22:59:44.2339098+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3a2485b3ee0efbf8e119a864fee05bc6","SpanId":"37f81acd83b5d230","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":12.9085,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N1N:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N1N"}}
{"Timestamp":"2024-11-10T22:59:44.2360559+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fdc7b1dda6508cdddf5a61a929656047","SpanId":"9c436bea23d67175","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":21.5175,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.5175"}]}}
{"Timestamp":"2024-11-10T22:59:44.2383754+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3a2485b3ee0efbf8e119a864fee05bc6","SpanId":"37f81acd83b5d230","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1N:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N1N"}}
{"Timestamp":"2024-11-10T22:59:44.2403424+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fdc7b1dda6508cdddf5a61a929656047","SpanId":"9c436bea23d67175","Properties":{"ElapsedMilliseconds":31.2657,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1M:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1M"}}
{"Timestamp":"2024-11-10T22:59:44.2410568+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3a2485b3ee0efbf8e119a864fee05bc6","SpanId":"37f81acd83b5d230","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":24.6997,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.6997"}]}}
{"Timestamp":"2024-11-10T22:59:44.2450831+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3a2485b3ee0efbf8e119a864fee05bc6","SpanId":"37f81acd83b5d230","Properties":{"ElapsedMilliseconds":34.5987,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1N:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N1N"}}
{"Timestamp":"2024-11-10T22:59:46.1885755+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c70102795c247d4af2f7e0d960a78518","SpanId":"9336ec331c231d64","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1O"}}
{"Timestamp":"2024-11-10T22:59:46.1917319+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c70102795c247d4af2f7e0d960a78518","SpanId":"9336ec331c231d64","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1O"}}
{"Timestamp":"2024-11-10T22:59:46.1932321+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c70102795c247d4af2f7e0d960a78518","SpanId":"9336ec331c231d64","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1O"}}
{"Timestamp":"2024-11-10T22:59:46.2070040+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c70102795c247d4af2f7e0d960a78518","SpanId":"9336ec331c231d64","Properties":{"elapsed":"9","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1O"}}
{"Timestamp":"2024-11-10T22:59:46.2161189+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c70102795c247d4af2f7e0d960a78518","SpanId":"9336ec331c231d64","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1O"}}
{"Timestamp":"2024-11-10T22:59:46.2205097+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c70102795c247d4af2f7e0d960a78518","SpanId":"9336ec331c231d64","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1O"}}
{"Timestamp":"2024-11-10T22:59:46.2223167+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c70102795c247d4af2f7e0d960a78518","SpanId":"9336ec331c231d64","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":26.232,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N1O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1O"}}
{"Timestamp":"2024-11-10T22:59:46.2245825+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c70102795c247d4af2f7e0d960a78518","SpanId":"9336ec331c231d64","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1O"}}
{"Timestamp":"2024-11-10T22:59:46.2261915+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c70102795c247d4af2f7e0d960a78518","SpanId":"9336ec331c231d64","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":34.5337,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"34.5337"}]}}
{"Timestamp":"2024-11-10T22:59:46.2276991+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c70102795c247d4af2f7e0d960a78518","SpanId":"9336ec331c231d64","Properties":{"ElapsedMilliseconds":39.1955,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1O"}}
{"Timestamp":"2024-11-10T22:59:46.2300455+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"086cf23d230c84fecad0bc4461fe8672","SpanId":"93f0cac6f99356ca","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-09&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1P:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1P"}}
{"Timestamp":"2024-11-10T22:59:46.2349409+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"086cf23d230c84fecad0bc4461fe8672","SpanId":"93f0cac6f99356ca","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1P:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1P"}}
{"Timestamp":"2024-11-10T22:59:46.2357671+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"086cf23d230c84fecad0bc4461fe8672","SpanId":"93f0cac6f99356ca","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1P:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1P"}}
{"Timestamp":"2024-11-10T22:59:46.2423567+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"086cf23d230c84fecad0bc4461fe8672","SpanId":"93f0cac6f99356ca","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1P:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1P"}}
{"Timestamp":"2024-11-10T22:59:46.2441526+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"086cf23d230c84fecad0bc4461fe8672","SpanId":"93f0cac6f99356ca","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1P:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1P"}}
{"Timestamp":"2024-11-10T22:59:46.2452459+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"086cf23d230c84fecad0bc4461fe8672","SpanId":"93f0cac6f99356ca","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":7.4097,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N1P:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1P"}}
{"Timestamp":"2024-11-10T22:59:46.2462809+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"086cf23d230c84fecad0bc4461fe8672","SpanId":"93f0cac6f99356ca","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1P:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1P"}}
{"Timestamp":"2024-11-10T22:59:46.2472525+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"086cf23d230c84fecad0bc4461fe8672","SpanId":"93f0cac6f99356ca","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":12.6377,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.6377"}]}}
{"Timestamp":"2024-11-10T22:59:46.2486357+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"086cf23d230c84fecad0bc4461fe8672","SpanId":"93f0cac6f99356ca","Properties":{"ElapsedMilliseconds":18.6134,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-09&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1P:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1P"}}
{"Timestamp":"2024-11-10T22:59:46.3638301+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2e06031183450580d3bcd65cdab07260","SpanId":"cf47c3756adc6f00","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1Q"}}
{"Timestamp":"2024-11-10T22:59:46.3662407+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2e06031183450580d3bcd65cdab07260","SpanId":"cf47c3756adc6f00","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1Q"}}
{"Timestamp":"2024-11-10T22:59:46.3672472+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2e06031183450580d3bcd65cdab07260","SpanId":"cf47c3756adc6f00","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1Q"}}
{"Timestamp":"2024-11-10T22:59:46.3673703+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ee54e90214210aee1260074293890caf","SpanId":"579e32cff585eb05","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1R"}}
{"Timestamp":"2024-11-10T22:59:46.3720829+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ee54e90214210aee1260074293890caf","SpanId":"579e32cff585eb05","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1R"}}
{"Timestamp":"2024-11-10T22:59:46.3738004+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ee54e90214210aee1260074293890caf","SpanId":"579e32cff585eb05","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1R"}}
{"Timestamp":"2024-11-10T22:59:46.3778866+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2e06031183450580d3bcd65cdab07260","SpanId":"cf47c3756adc6f00","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1Q"}}
{"Timestamp":"2024-11-10T22:59:46.3834420+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ee54e90214210aee1260074293890caf","SpanId":"579e32cff585eb05","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1R"}}
{"Timestamp":"2024-11-10T22:59:46.3839096+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2e06031183450580d3bcd65cdab07260","SpanId":"cf47c3756adc6f00","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1Q"}}
{"Timestamp":"2024-11-10T22:59:46.3960997+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ee54e90214210aee1260074293890caf","SpanId":"579e32cff585eb05","Properties":{"elapsed":"9","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1R"}}
{"Timestamp":"2024-11-10T22:59:46.3971940+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2e06031183450580d3bcd65cdab07260","SpanId":"cf47c3756adc6f00","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1Q"}}
{"Timestamp":"2024-11-10T22:59:46.3990624+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ee54e90214210aee1260074293890caf","SpanId":"579e32cff585eb05","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1R"}}
{"Timestamp":"2024-11-10T22:59:46.4002396+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2e06031183450580d3bcd65cdab07260","SpanId":"cf47c3756adc6f00","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":31.1886,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N1Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1Q"}}
{"Timestamp":"2024-11-10T22:59:46.4010715+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ee54e90214210aee1260074293890caf","SpanId":"579e32cff585eb05","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":24.9784,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N1R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1R"}}
{"Timestamp":"2024-11-10T22:59:46.4021742+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2e06031183450580d3bcd65cdab07260","SpanId":"cf47c3756adc6f00","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1Q"}}
{"Timestamp":"2024-11-10T22:59:46.4038193+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ee54e90214210aee1260074293890caf","SpanId":"579e32cff585eb05","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1R"}}
{"Timestamp":"2024-11-10T22:59:46.4053716+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2e06031183450580d3bcd65cdab07260","SpanId":"cf47c3756adc6f00","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":39.1562,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"39.1562"}]}}
{"Timestamp":"2024-11-10T22:59:46.4067025+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ee54e90214210aee1260074293890caf","SpanId":"579e32cff585eb05","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":34.8154,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"34.8154"}]}}
{"Timestamp":"2024-11-10T22:59:46.4095179+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2e06031183450580d3bcd65cdab07260","SpanId":"cf47c3756adc6f00","Properties":{"ElapsedMilliseconds":45.53,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1Q"}}
{"Timestamp":"2024-11-10T22:59:46.4138109+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ca09e797d5ce0bf1dedc3a818790e0cb","SpanId":"eada4902dec63c1f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-09&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1S:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1S"}}
{"Timestamp":"2024-11-10T22:59:46.4103405+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ee54e90214210aee1260074293890caf","SpanId":"579e32cff585eb05","Properties":{"ElapsedMilliseconds":43.027,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1R"}}
{"Timestamp":"2024-11-10T22:59:46.4160309+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"220e33fca6c48829c46a6a8610340dc7","SpanId":"254ae38bc7086489","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-09&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1T:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N1T"}}
{"Timestamp":"2024-11-10T22:59:46.4191358+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ca09e797d5ce0bf1dedc3a818790e0cb","SpanId":"eada4902dec63c1f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1S:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1S"}}
{"Timestamp":"2024-11-10T22:59:46.4249205+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"220e33fca6c48829c46a6a8610340dc7","SpanId":"254ae38bc7086489","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1T:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N1T"}}
{"Timestamp":"2024-11-10T22:59:46.4250699+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ca09e797d5ce0bf1dedc3a818790e0cb","SpanId":"eada4902dec63c1f","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1S:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1S"}}
{"Timestamp":"2024-11-10T22:59:46.4260354+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"220e33fca6c48829c46a6a8610340dc7","SpanId":"254ae38bc7086489","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1T:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N1T"}}
{"Timestamp":"2024-11-10T22:59:46.4341778+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ca09e797d5ce0bf1dedc3a818790e0cb","SpanId":"eada4902dec63c1f","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1S:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1S"}}
{"Timestamp":"2024-11-10T22:59:46.4364538+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ca09e797d5ce0bf1dedc3a818790e0cb","SpanId":"eada4902dec63c1f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1S:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1S"}}
{"Timestamp":"2024-11-10T22:59:46.4385969+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ca09e797d5ce0bf1dedc3a818790e0cb","SpanId":"eada4902dec63c1f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":10.7623,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N1S:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1S"}}
{"Timestamp":"2024-11-10T22:59:46.4396644+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"220e33fca6c48829c46a6a8610340dc7","SpanId":"254ae38bc7086489","Properties":{"elapsed":"9","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1T:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N1T"}}
{"Timestamp":"2024-11-10T22:59:46.4399384+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ca09e797d5ce0bf1dedc3a818790e0cb","SpanId":"eada4902dec63c1f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1S:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1S"}}
{"Timestamp":"2024-11-10T22:59:46.4420123+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"220e33fca6c48829c46a6a8610340dc7","SpanId":"254ae38bc7086489","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1T:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N1T"}}
{"Timestamp":"2024-11-10T22:59:46.4432075+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ca09e797d5ce0bf1dedc3a818790e0cb","SpanId":"eada4902dec63c1f","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":24.4751,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.4751"}]}}
{"Timestamp":"2024-11-10T22:59:46.4446490+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"220e33fca6c48829c46a6a8610340dc7","SpanId":"254ae38bc7086489","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":15.3269,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N1T:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N1T"}}
{"Timestamp":"2024-11-10T22:59:46.4459072+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ca09e797d5ce0bf1dedc3a818790e0cb","SpanId":"eada4902dec63c1f","Properties":{"ElapsedMilliseconds":32.1257,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-09&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1S:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1S"}}
{"Timestamp":"2024-11-10T22:59:46.4469691+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"220e33fca6c48829c46a6a8610340dc7","SpanId":"254ae38bc7086489","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1T:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N1T"}}
{"Timestamp":"2024-11-10T22:59:46.4501449+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"220e33fca6c48829c46a6a8610340dc7","SpanId":"254ae38bc7086489","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":26.0767,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.0767"}]}}
{"Timestamp":"2024-11-10T22:59:46.4515171+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"220e33fca6c48829c46a6a8610340dc7","SpanId":"254ae38bc7086489","Properties":{"ElapsedMilliseconds":35.5181,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-09&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1T:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N1T"}}
{"Timestamp":"2024-11-10T22:59:48.5075177+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e6712379138ea0be77be9809e691182a","SpanId":"5a9136373e3e9288","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1U"}}
{"Timestamp":"2024-11-10T22:59:48.5097729+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e6712379138ea0be77be9809e691182a","SpanId":"5a9136373e3e9288","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1U"}}
{"Timestamp":"2024-11-10T22:59:48.5104919+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e6712379138ea0be77be9809e691182a","SpanId":"5a9136373e3e9288","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1U"}}
{"Timestamp":"2024-11-10T22:59:48.5182458+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e6712379138ea0be77be9809e691182a","SpanId":"5a9136373e3e9288","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1U"}}
{"Timestamp":"2024-11-10T22:59:48.5238272+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e6712379138ea0be77be9809e691182a","SpanId":"5a9136373e3e9288","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1U"}}
{"Timestamp":"2024-11-10T22:59:48.5258151+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e6712379138ea0be77be9809e691182a","SpanId":"5a9136373e3e9288","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N1U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1U"}}
{"Timestamp":"2024-11-10T22:59:48.5268041+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e6712379138ea0be77be9809e691182a","SpanId":"5a9136373e3e9288","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.202,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N1U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1U"}}
{"Timestamp":"2024-11-10T22:59:48.5278975+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e6712379138ea0be77be9809e691182a","SpanId":"5a9136373e3e9288","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1U"}}
{"Timestamp":"2024-11-10T22:59:48.5295579+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e6712379138ea0be77be9809e691182a","SpanId":"5a9136373e3e9288","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":19.8472,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.8472"}]}}
{"Timestamp":"2024-11-10T22:59:48.5309280+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e6712379138ea0be77be9809e691182a","SpanId":"5a9136373e3e9288","Properties":{"ElapsedMilliseconds":23.4315,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N1U"}}
{"Timestamp":"2024-11-10T22:59:48.5331424+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d3886bff591d6a5a02958b78f5144f52","SpanId":"3c7d9372dfd9f3a0","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1V:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1V"}}
{"Timestamp":"2024-11-10T22:59:48.5364297+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d3886bff591d6a5a02958b78f5144f52","SpanId":"3c7d9372dfd9f3a0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1V:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1V"}}
{"Timestamp":"2024-11-10T22:59:48.5375642+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d3886bff591d6a5a02958b78f5144f52","SpanId":"3c7d9372dfd9f3a0","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1V:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1V"}}
{"Timestamp":"2024-11-10T22:59:48.5433550+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d3886bff591d6a5a02958b78f5144f52","SpanId":"3c7d9372dfd9f3a0","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1V:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1V"}}
{"Timestamp":"2024-11-10T22:59:48.5456794+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d3886bff591d6a5a02958b78f5144f52","SpanId":"3c7d9372dfd9f3a0","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N1V:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1V"}}
{"Timestamp":"2024-11-10T22:59:48.5473203+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d3886bff591d6a5a02958b78f5144f52","SpanId":"3c7d9372dfd9f3a0","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.5228,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N1V:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1V"}}
{"Timestamp":"2024-11-10T22:59:48.5484429+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d3886bff591d6a5a02958b78f5144f52","SpanId":"3c7d9372dfd9f3a0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N1V:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1V"}}
{"Timestamp":"2024-11-10T22:59:48.5495075+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d3886bff591d6a5a02958b78f5144f52","SpanId":"3c7d9372dfd9f3a0","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":13.3044,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.3044"}]}}
{"Timestamp":"2024-11-10T22:59:48.5507527+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d3886bff591d6a5a02958b78f5144f52","SpanId":"3c7d9372dfd9f3a0","Properties":{"ElapsedMilliseconds":17.6806,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N1V:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N1V"}}
{"Timestamp":"2024-11-10T22:59:48.6924441+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"29e0486dbe4e1aae93a100ce8549ee78","SpanId":"85d1400be72826d7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N20:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N20"}}
{"Timestamp":"2024-11-10T22:59:48.6966597+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"29e0486dbe4e1aae93a100ce8549ee78","SpanId":"85d1400be72826d7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N20:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N20"}}
{"Timestamp":"2024-11-10T22:59:48.6979233+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"29e0486dbe4e1aae93a100ce8549ee78","SpanId":"85d1400be72826d7","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N20:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N20"}}
{"Timestamp":"2024-11-10T22:59:48.6995693+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"163062a3d30f42c55ff5b7661ac422fe","SpanId":"17d34a3e28efe966","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N21:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N21"}}
{"Timestamp":"2024-11-10T22:59:48.7027228+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"163062a3d30f42c55ff5b7661ac422fe","SpanId":"17d34a3e28efe966","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N21:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N21"}}
{"Timestamp":"2024-11-10T22:59:48.7038686+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"163062a3d30f42c55ff5b7661ac422fe","SpanId":"17d34a3e28efe966","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N21:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N21"}}
{"Timestamp":"2024-11-10T22:59:48.7107622+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"29e0486dbe4e1aae93a100ce8549ee78","SpanId":"85d1400be72826d7","Properties":{"elapsed":"9","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N20:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N20"}}
{"Timestamp":"2024-11-10T22:59:48.7146503+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"163062a3d30f42c55ff5b7661ac422fe","SpanId":"17d34a3e28efe966","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N21:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N21"}}
{"Timestamp":"2024-11-10T22:59:48.7176760+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"29e0486dbe4e1aae93a100ce8549ee78","SpanId":"85d1400be72826d7","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N20:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N20"}}
{"Timestamp":"2024-11-10T22:59:48.7204158+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"163062a3d30f42c55ff5b7661ac422fe","SpanId":"17d34a3e28efe966","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N21:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N21"}}
{"Timestamp":"2024-11-10T22:59:48.7286115+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"29e0486dbe4e1aae93a100ce8549ee78","SpanId":"85d1400be72826d7","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N20:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N20"}}
{"Timestamp":"2024-11-10T22:59:48.7308124+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"163062a3d30f42c55ff5b7661ac422fe","SpanId":"17d34a3e28efe966","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N21:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N21"}}
{"Timestamp":"2024-11-10T22:59:48.7314956+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"29e0486dbe4e1aae93a100ce8549ee78","SpanId":"85d1400be72826d7","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":31.249,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N20:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N20"}}
{"Timestamp":"2024-11-10T22:59:48.7332755+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"163062a3d30f42c55ff5b7661ac422fe","SpanId":"17d34a3e28efe966","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":26.3682,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N21:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N21"}}
{"Timestamp":"2024-11-10T22:59:48.7341750+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"29e0486dbe4e1aae93a100ce8549ee78","SpanId":"85d1400be72826d7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N20:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N20"}}
{"Timestamp":"2024-11-10T22:59:48.7352763+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"163062a3d30f42c55ff5b7661ac422fe","SpanId":"17d34a3e28efe966","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N21:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N21"}}
{"Timestamp":"2024-11-10T22:59:48.7359289+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"29e0486dbe4e1aae93a100ce8549ee78","SpanId":"85d1400be72826d7","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":39.6015,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"39.6015"}]}}
{"Timestamp":"2024-11-10T22:59:48.7365675+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"163062a3d30f42c55ff5b7661ac422fe","SpanId":"17d34a3e28efe966","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":33.9493,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.9493"}]}}
{"Timestamp":"2024-11-10T22:59:48.7388312+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"29e0486dbe4e1aae93a100ce8549ee78","SpanId":"85d1400be72826d7","Properties":{"ElapsedMilliseconds":46.5041,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N20:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N20"}}
{"Timestamp":"2024-11-10T22:59:48.7440227+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ae56d1a35ea53c8c5ed819d3525391c4","SpanId":"ef7120e811f67ee4","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N22:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N22"}}
{"Timestamp":"2024-11-10T22:59:48.7409827+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"163062a3d30f42c55ff5b7661ac422fe","SpanId":"17d34a3e28efe966","Properties":{"ElapsedMilliseconds":41.5202,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N21:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N21"}}
{"Timestamp":"2024-11-10T22:59:48.7451337+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"20c0426dd2318a28701f5c5ed5932c35","SpanId":"e7fb1289ba630f32","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N23:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N23"}}
{"Timestamp":"2024-11-10T22:59:48.7489519+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ae56d1a35ea53c8c5ed819d3525391c4","SpanId":"ef7120e811f67ee4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N22:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N22"}}
{"Timestamp":"2024-11-10T22:59:48.7535860+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"20c0426dd2318a28701f5c5ed5932c35","SpanId":"e7fb1289ba630f32","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N23:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N23"}}
{"Timestamp":"2024-11-10T22:59:48.7539443+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ae56d1a35ea53c8c5ed819d3525391c4","SpanId":"ef7120e811f67ee4","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N22:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N22"}}
{"Timestamp":"2024-11-10T22:59:48.7553660+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"20c0426dd2318a28701f5c5ed5932c35","SpanId":"e7fb1289ba630f32","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N23:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N23"}}
{"Timestamp":"2024-11-10T22:59:48.7617060+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ae56d1a35ea53c8c5ed819d3525391c4","SpanId":"ef7120e811f67ee4","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N22:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N22"}}
{"Timestamp":"2024-11-10T22:59:48.7634649+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"20c0426dd2318a28701f5c5ed5932c35","SpanId":"e7fb1289ba630f32","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N23:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N23"}}
{"Timestamp":"2024-11-10T22:59:48.7636209+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ae56d1a35ea53c8c5ed819d3525391c4","SpanId":"ef7120e811f67ee4","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N22:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N22"}}
{"Timestamp":"2024-11-10T22:59:48.7657226+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"20c0426dd2318a28701f5c5ed5932c35","SpanId":"e7fb1289ba630f32","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N23:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N23"}}
{"Timestamp":"2024-11-10T22:59:48.7666440+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ae56d1a35ea53c8c5ed819d3525391c4","SpanId":"ef7120e811f67ee4","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":9.752,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N22:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N22"}}
{"Timestamp":"2024-11-10T22:59:48.7677437+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"20c0426dd2318a28701f5c5ed5932c35","SpanId":"e7fb1289ba630f32","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":9.3296,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N23:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N23"}}
{"Timestamp":"2024-11-10T22:59:48.7689055+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ae56d1a35ea53c8c5ed819d3525391c4","SpanId":"ef7120e811f67ee4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N22:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N22"}}
{"Timestamp":"2024-11-10T22:59:48.7700366+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"20c0426dd2318a28701f5c5ed5932c35","SpanId":"e7fb1289ba630f32","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N23:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N23"}}
{"Timestamp":"2024-11-10T22:59:48.7710460+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ae56d1a35ea53c8c5ed819d3525391c4","SpanId":"ef7120e811f67ee4","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":22.5711,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.5711"}]}}
{"Timestamp":"2024-11-10T22:59:48.7718352+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"20c0426dd2318a28701f5c5ed5932c35","SpanId":"e7fb1289ba630f32","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":18.7126,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.7126"}]}}
{"Timestamp":"2024-11-10T22:59:48.7734809+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ae56d1a35ea53c8c5ed819d3525391c4","SpanId":"ef7120e811f67ee4","Properties":{"ElapsedMilliseconds":29.5256,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N22:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N22"}}
{"Timestamp":"2024-11-10T22:59:48.7750888+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"20c0426dd2318a28701f5c5ed5932c35","SpanId":"e7fb1289ba630f32","Properties":{"ElapsedMilliseconds":29.9984,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N23:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N23"}}
{"Timestamp":"2024-11-10T22:59:51.5137159+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"73b6014d2094c5fa7d9893b4b8eb656f","SpanId":"e399d6a3f4fa381c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N24:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N24"}}
{"Timestamp":"2024-11-10T22:59:51.5155919+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"73b6014d2094c5fa7d9893b4b8eb656f","SpanId":"e399d6a3f4fa381c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N24:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N24"}}
{"Timestamp":"2024-11-10T22:59:51.5162937+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"73b6014d2094c5fa7d9893b4b8eb656f","SpanId":"e399d6a3f4fa381c","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N24:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N24"}}
{"Timestamp":"2024-11-10T22:59:51.5352782+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"73b6014d2094c5fa7d9893b4b8eb656f","SpanId":"e399d6a3f4fa381c","Properties":{"elapsed":"16","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N24:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N24"}}
{"Timestamp":"2024-11-10T22:59:51.5428016+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"73b6014d2094c5fa7d9893b4b8eb656f","SpanId":"e399d6a3f4fa381c","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N24:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N24"}}
{"Timestamp":"2024-11-10T22:59:51.5450696+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"73b6014d2094c5fa7d9893b4b8eb656f","SpanId":"e399d6a3f4fa381c","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N24:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N24"}}
{"Timestamp":"2024-11-10T22:59:51.5459691+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"73b6014d2094c5fa7d9893b4b8eb656f","SpanId":"e399d6a3f4fa381c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":28.213,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N24:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N24"}}
{"Timestamp":"2024-11-10T22:59:51.5470555+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"73b6014d2094c5fa7d9893b4b8eb656f","SpanId":"e399d6a3f4fa381c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N24:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N24"}}
{"Timestamp":"2024-11-10T22:59:51.5477473+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"73b6014d2094c5fa7d9893b4b8eb656f","SpanId":"e399d6a3f4fa381c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":32.2367,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"32.2367"}]}}
{"Timestamp":"2024-11-10T22:59:51.5492839+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"73b6014d2094c5fa7d9893b4b8eb656f","SpanId":"e399d6a3f4fa381c","Properties":{"ElapsedMilliseconds":35.5753,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N24:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N24"}}
{"Timestamp":"2024-11-10T22:59:51.5514792+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f14350864cb3afc92f6300c8c6d112a6","SpanId":"1958b76a3ac9fab4","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-18&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N25:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N25"}}
{"Timestamp":"2024-11-10T22:59:51.5545626+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f14350864cb3afc92f6300c8c6d112a6","SpanId":"1958b76a3ac9fab4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N25:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N25"}}
{"Timestamp":"2024-11-10T22:59:51.5556760+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f14350864cb3afc92f6300c8c6d112a6","SpanId":"1958b76a3ac9fab4","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N25:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N25"}}
{"Timestamp":"2024-11-10T22:59:51.5626305+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f14350864cb3afc92f6300c8c6d112a6","SpanId":"1958b76a3ac9fab4","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N25:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N25"}}
{"Timestamp":"2024-11-10T22:59:51.5648525+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f14350864cb3afc92f6300c8c6d112a6","SpanId":"1958b76a3ac9fab4","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N25:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N25"}}
{"Timestamp":"2024-11-10T22:59:51.5657702+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f14350864cb3afc92f6300c8c6d112a6","SpanId":"1958b76a3ac9fab4","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.8073,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N25:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N25"}}
{"Timestamp":"2024-11-10T22:59:51.5669138+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f14350864cb3afc92f6300c8c6d112a6","SpanId":"1958b76a3ac9fab4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N25:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N25"}}
{"Timestamp":"2024-11-10T22:59:51.5678954+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f14350864cb3afc92f6300c8c6d112a6","SpanId":"1958b76a3ac9fab4","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":13.7552,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.7552"}]}}
{"Timestamp":"2024-11-10T22:59:51.5690650+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f14350864cb3afc92f6300c8c6d112a6","SpanId":"1958b76a3ac9fab4","Properties":{"ElapsedMilliseconds":17.6038,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-18&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N25:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N25"}}
{"Timestamp":"2024-11-10T22:59:51.6660081+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fa117b9c10b4d246630af66cfbaa61e1","SpanId":"b2bd49c4bceb7397","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N26:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N26"}}
{"Timestamp":"2024-11-10T22:59:51.6678712+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fa117b9c10b4d246630af66cfbaa61e1","SpanId":"b2bd49c4bceb7397","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N26:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N26"}}
{"Timestamp":"2024-11-10T22:59:51.6692779+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fa117b9c10b4d246630af66cfbaa61e1","SpanId":"b2bd49c4bceb7397","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N26:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N26"}}
{"Timestamp":"2024-11-10T22:59:51.6711406+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9c774a7b69c3dc0577a9a116822e653e","SpanId":"ff32074d9b8ac4a6","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N27:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N27"}}
{"Timestamp":"2024-11-10T22:59:51.6747574+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fa117b9c10b4d246630af66cfbaa61e1","SpanId":"b2bd49c4bceb7397","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N26:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N26"}}
{"Timestamp":"2024-11-10T22:59:51.6751012+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9c774a7b69c3dc0577a9a116822e653e","SpanId":"ff32074d9b8ac4a6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N27:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N27"}}
{"Timestamp":"2024-11-10T22:59:51.6791146+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9c774a7b69c3dc0577a9a116822e653e","SpanId":"ff32074d9b8ac4a6","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N27:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N27"}}
{"Timestamp":"2024-11-10T22:59:51.6794984+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fa117b9c10b4d246630af66cfbaa61e1","SpanId":"b2bd49c4bceb7397","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N26:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N26"}}
{"Timestamp":"2024-11-10T22:59:51.6840553+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fa117b9c10b4d246630af66cfbaa61e1","SpanId":"b2bd49c4bceb7397","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N26:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N26"}}
{"Timestamp":"2024-11-10T22:59:51.6847436+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9c774a7b69c3dc0577a9a116822e653e","SpanId":"ff32074d9b8ac4a6","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N27:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N27"}}
{"Timestamp":"2024-11-10T22:59:51.6852627+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fa117b9c10b4d246630af66cfbaa61e1","SpanId":"b2bd49c4bceb7397","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.5566,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N26:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N26"}}
{"Timestamp":"2024-11-10T22:59:51.6881425+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fa117b9c10b4d246630af66cfbaa61e1","SpanId":"b2bd49c4bceb7397","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N26:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N26"}}
{"Timestamp":"2024-11-10T22:59:51.7098237+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9c774a7b69c3dc0577a9a116822e653e","SpanId":"ff32074d9b8ac4a6","Properties":{"elapsed":"22","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N27:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N27"}}
{"Timestamp":"2024-11-10T22:59:51.7101326+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fa117b9c10b4d246630af66cfbaa61e1","SpanId":"b2bd49c4bceb7397","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":42.4107,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"42.4107"}]}}
{"Timestamp":"2024-11-10T22:59:51.7118628+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9c774a7b69c3dc0577a9a116822e653e","SpanId":"ff32074d9b8ac4a6","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N27:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N27"}}
{"Timestamp":"2024-11-10T22:59:51.7163861+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fa117b9c10b4d246630af66cfbaa61e1","SpanId":"b2bd49c4bceb7397","Properties":{"ElapsedMilliseconds":50.4252,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N26:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N26"}}
{"Timestamp":"2024-11-10T22:59:51.7176843+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9c774a7b69c3dc0577a9a116822e653e","SpanId":"ff32074d9b8ac4a6","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":35.8389,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N27:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N27"}}
{"Timestamp":"2024-11-10T22:59:51.7245002+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0a1669931ede13952a33527b55937562","SpanId":"b52e28440957ee27","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-18&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N28:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N28"}}
{"Timestamp":"2024-11-10T22:59:51.7265123+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9c774a7b69c3dc0577a9a116822e653e","SpanId":"ff32074d9b8ac4a6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N27:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N27"}}
{"Timestamp":"2024-11-10T22:59:51.7281085+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0a1669931ede13952a33527b55937562","SpanId":"b52e28440957ee27","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N28:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N28"}}
{"Timestamp":"2024-11-10T22:59:51.7288251+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9c774a7b69c3dc0577a9a116822e653e","SpanId":"ff32074d9b8ac4a6","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":53.9171,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"53.9171"}]}}
{"Timestamp":"2024-11-10T22:59:51.7304638+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0a1669931ede13952a33527b55937562","SpanId":"b52e28440957ee27","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N28:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N28"}}
{"Timestamp":"2024-11-10T22:59:51.7331995+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9c774a7b69c3dc0577a9a116822e653e","SpanId":"ff32074d9b8ac4a6","Properties":{"ElapsedMilliseconds":62.1366,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N27:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N27"}}
{"Timestamp":"2024-11-10T22:59:51.7407786+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"09bb0c66475368597fb26957f4248bea","SpanId":"e674cd0c7cb29c6e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-18&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N29:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N29"}}
{"Timestamp":"2024-11-10T22:59:51.7463782+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"09bb0c66475368597fb26957f4248bea","SpanId":"e674cd0c7cb29c6e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N29:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N29"}}
{"Timestamp":"2024-11-10T22:59:51.7480327+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"09bb0c66475368597fb26957f4248bea","SpanId":"e674cd0c7cb29c6e","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N29:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N29"}}
{"Timestamp":"2024-11-10T22:59:51.7482038+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0a1669931ede13952a33527b55937562","SpanId":"b52e28440957ee27","Properties":{"elapsed":"12","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N28:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N28"}}
{"Timestamp":"2024-11-10T22:59:51.7526178+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0a1669931ede13952a33527b55937562","SpanId":"b52e28440957ee27","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N28:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N28"}}
{"Timestamp":"2024-11-10T22:59:51.7545271+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0a1669931ede13952a33527b55937562","SpanId":"b52e28440957ee27","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":19.5929,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N28:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N28"}}
{"Timestamp":"2024-11-10T22:59:51.7562508+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0a1669931ede13952a33527b55937562","SpanId":"b52e28440957ee27","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N28:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N28"}}
{"Timestamp":"2024-11-10T22:59:51.7571233+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0a1669931ede13952a33527b55937562","SpanId":"b52e28440957ee27","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":29.3748,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.3748"}]}}
{"Timestamp":"2024-11-10T22:59:51.7589842+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0a1669931ede13952a33527b55937562","SpanId":"b52e28440957ee27","Properties":{"ElapsedMilliseconds":34.5157,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-18&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N28:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N28"}}
{"Timestamp":"2024-11-10T22:59:51.7636012+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"09bb0c66475368597fb26957f4248bea","SpanId":"e674cd0c7cb29c6e","Properties":{"elapsed":"12","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N29:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N29"}}
{"Timestamp":"2024-11-10T22:59:51.7668115+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"09bb0c66475368597fb26957f4248bea","SpanId":"e674cd0c7cb29c6e","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N29:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N29"}}
{"Timestamp":"2024-11-10T22:59:51.7682203+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"09bb0c66475368597fb26957f4248bea","SpanId":"e674cd0c7cb29c6e","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":18.0718,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N29:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N29"}}
{"Timestamp":"2024-11-10T22:59:51.7693777+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"09bb0c66475368597fb26957f4248bea","SpanId":"e674cd0c7cb29c6e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N29:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N29"}}
{"Timestamp":"2024-11-10T22:59:51.7702509+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"09bb0c66475368597fb26957f4248bea","SpanId":"e674cd0c7cb29c6e","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":24.1273,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.1273"}]}}
{"Timestamp":"2024-11-10T22:59:51.7717968+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"09bb0c66475368597fb26957f4248bea","SpanId":"e674cd0c7cb29c6e","Properties":{"ElapsedMilliseconds":31.2794,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-18&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N29:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N29"}}
{"Timestamp":"2024-11-10T22:59:53.8312882+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"04e55d7d182334f88f80f3663afe4330","SpanId":"a1708ef8df3db1b0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2A"}}
{"Timestamp":"2024-11-10T22:59:53.8347581+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"04e55d7d182334f88f80f3663afe4330","SpanId":"a1708ef8df3db1b0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2A"}}
{"Timestamp":"2024-11-10T22:59:53.8360225+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"04e55d7d182334f88f80f3663afe4330","SpanId":"a1708ef8df3db1b0","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2A"}}
{"Timestamp":"2024-11-10T22:59:53.8611518+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"04e55d7d182334f88f80f3663afe4330","SpanId":"a1708ef8df3db1b0","Properties":{"elapsed":"20","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2A"}}
{"Timestamp":"2024-11-10T22:59:53.8659208+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"04e55d7d182334f88f80f3663afe4330","SpanId":"a1708ef8df3db1b0","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2A"}}
{"Timestamp":"2024-11-10T22:59:53.8683548+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"04e55d7d182334f88f80f3663afe4330","SpanId":"a1708ef8df3db1b0","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2A"}}
{"Timestamp":"2024-11-10T22:59:53.8696180+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"04e55d7d182334f88f80f3663afe4330","SpanId":"a1708ef8df3db1b0","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":30.6935,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N2A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2A"}}
{"Timestamp":"2024-11-10T22:59:53.8708699+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"04e55d7d182334f88f80f3663afe4330","SpanId":"a1708ef8df3db1b0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2A"}}
{"Timestamp":"2024-11-10T22:59:53.8719815+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"04e55d7d182334f88f80f3663afe4330","SpanId":"a1708ef8df3db1b0","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":37.2818,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"37.2818"}]}}
{"Timestamp":"2024-11-10T22:59:53.8749478+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"04e55d7d182334f88f80f3663afe4330","SpanId":"a1708ef8df3db1b0","Properties":{"ElapsedMilliseconds":43.6657,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2A"}}
{"Timestamp":"2024-11-10T22:59:53.8777163+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8d2d84cee044d2a938dd5b10424fd451","SpanId":"3671ef90b9584c23","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2B:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2B"}}
{"Timestamp":"2024-11-10T22:59:53.8808416+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8d2d84cee044d2a938dd5b10424fd451","SpanId":"3671ef90b9584c23","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2B:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2B"}}
{"Timestamp":"2024-11-10T22:59:53.8820265+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8d2d84cee044d2a938dd5b10424fd451","SpanId":"3671ef90b9584c23","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N2B:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2B"}}
{"Timestamp":"2024-11-10T22:59:53.8880912+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8d2d84cee044d2a938dd5b10424fd451","SpanId":"3671ef90b9584c23","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N2B:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2B"}}
{"Timestamp":"2024-11-10T22:59:53.8907520+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8d2d84cee044d2a938dd5b10424fd451","SpanId":"3671ef90b9584c23","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N2B:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2B"}}
{"Timestamp":"2024-11-10T22:59:53.8917625+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8d2d84cee044d2a938dd5b10424fd451","SpanId":"3671ef90b9584c23","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.2823,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N2B:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2B"}}
{"Timestamp":"2024-11-10T22:59:53.8927828+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8d2d84cee044d2a938dd5b10424fd451","SpanId":"3671ef90b9584c23","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2B:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2B"}}
{"Timestamp":"2024-11-10T22:59:53.8935355+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8d2d84cee044d2a938dd5b10424fd451","SpanId":"3671ef90b9584c23","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":12.8968,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.8968"}]}}
{"Timestamp":"2024-11-10T22:59:53.8948655+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8d2d84cee044d2a938dd5b10424fd451","SpanId":"3671ef90b9584c23","Properties":{"ElapsedMilliseconds":17.1658,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2B:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2B"}}
{"Timestamp":"2024-11-10T22:59:54.2990680+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"04d4e7eb1346d4e4135f7c029311701b","SpanId":"5074ee008ab27ef3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2C"}}
{"Timestamp":"2024-11-10T22:59:54.3023559+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"04d4e7eb1346d4e4135f7c029311701b","SpanId":"5074ee008ab27ef3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2C"}}
{"Timestamp":"2024-11-10T22:59:54.3038426+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"04d4e7eb1346d4e4135f7c029311701b","SpanId":"5074ee008ab27ef3","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2C"}}
{"Timestamp":"2024-11-10T22:59:54.3039457+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c6a35904760598a0d6e8e50f9288e349","SpanId":"247a86abf2c56c17","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2D"}}
{"Timestamp":"2024-11-10T22:59:54.3080843+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c6a35904760598a0d6e8e50f9288e349","SpanId":"247a86abf2c56c17","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2D"}}
{"Timestamp":"2024-11-10T22:59:54.3097305+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c6a35904760598a0d6e8e50f9288e349","SpanId":"247a86abf2c56c17","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2D"}}
{"Timestamp":"2024-11-10T22:59:54.3653058+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"04d4e7eb1346d4e4135f7c029311701b","SpanId":"5074ee008ab27ef3","Properties":{"elapsed":"59","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2C"}}
{"Timestamp":"2024-11-10T22:59:54.3711510+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c6a35904760598a0d6e8e50f9288e349","SpanId":"247a86abf2c56c17","Properties":{"elapsed":"58","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2D"}}
{"Timestamp":"2024-11-10T22:59:54.3790141+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c6a35904760598a0d6e8e50f9288e349","SpanId":"247a86abf2c56c17","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2D"}}
{"Timestamp":"2024-11-10T22:59:54.3790160+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"04d4e7eb1346d4e4135f7c029311701b","SpanId":"5074ee008ab27ef3","Properties":{"elapsed":"9","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2C"}}
{"Timestamp":"2024-11-10T22:59:54.3822194+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c6a35904760598a0d6e8e50f9288e349","SpanId":"247a86abf2c56c17","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2D"}}
{"Timestamp":"2024-11-10T22:59:54.3836769+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"04d4e7eb1346d4e4135f7c029311701b","SpanId":"5074ee008ab27ef3","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2C"}}
{"Timestamp":"2024-11-10T22:59:54.3847378+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c6a35904760598a0d6e8e50f9288e349","SpanId":"247a86abf2c56c17","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":72.7221,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N2D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2D"}}
{"Timestamp":"2024-11-10T22:59:54.3861702+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"04d4e7eb1346d4e4135f7c029311701b","SpanId":"5074ee008ab27ef3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":80.7028,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N2C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2C"}}
{"Timestamp":"2024-11-10T22:59:54.3869966+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c6a35904760598a0d6e8e50f9288e349","SpanId":"247a86abf2c56c17","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2D"}}
{"Timestamp":"2024-11-10T22:59:54.3879027+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"04d4e7eb1346d4e4135f7c029311701b","SpanId":"5074ee008ab27ef3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2C"}}
{"Timestamp":"2024-11-10T22:59:54.3887347+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c6a35904760598a0d6e8e50f9288e349","SpanId":"247a86abf2c56c17","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":80.858,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"80.8580"}]}}
{"Timestamp":"2024-11-10T22:59:54.3896569+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"04d4e7eb1346d4e4135f7c029311701b","SpanId":"5074ee008ab27ef3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":87.722,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"87.7220"}]}}
{"Timestamp":"2024-11-10T22:59:54.3915144+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c6a35904760598a0d6e8e50f9288e349","SpanId":"247a86abf2c56c17","Properties":{"ElapsedMilliseconds":87.6454,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2D"}}
{"Timestamp":"2024-11-10T22:59:54.3946130+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"04d4e7eb1346d4e4135f7c029311701b","SpanId":"5074ee008ab27ef3","Properties":{"ElapsedMilliseconds":95.568,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2C"}}
{"Timestamp":"2024-11-10T22:59:54.3988527+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"75f44ab36259a5ddfdc5487baae07263","SpanId":"645944cfbcc4fccf","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2F:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2F"}}
{"Timestamp":"2024-11-10T22:59:54.3971154+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e206fc3cc5df16d72e06d9fff19b7ede","SpanId":"0f6b03d87c03ecdb","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2E:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N2E"}}
{"Timestamp":"2024-11-10T22:59:54.4020176+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"75f44ab36259a5ddfdc5487baae07263","SpanId":"645944cfbcc4fccf","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2F:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2F"}}
{"Timestamp":"2024-11-10T22:59:54.4031155+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e206fc3cc5df16d72e06d9fff19b7ede","SpanId":"0f6b03d87c03ecdb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2E:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N2E"}}
{"Timestamp":"2024-11-10T22:59:54.4037342+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"75f44ab36259a5ddfdc5487baae07263","SpanId":"645944cfbcc4fccf","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N2F:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2F"}}
{"Timestamp":"2024-11-10T22:59:54.4043989+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e206fc3cc5df16d72e06d9fff19b7ede","SpanId":"0f6b03d87c03ecdb","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N2E:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N2E"}}
{"Timestamp":"2024-11-10T22:59:54.4133854+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"75f44ab36259a5ddfdc5487baae07263","SpanId":"645944cfbcc4fccf","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N2F:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2F"}}
{"Timestamp":"2024-11-10T22:59:54.4134056+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e206fc3cc5df16d72e06d9fff19b7ede","SpanId":"0f6b03d87c03ecdb","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N2E:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N2E"}}
{"Timestamp":"2024-11-10T22:59:54.4155335+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"75f44ab36259a5ddfdc5487baae07263","SpanId":"645944cfbcc4fccf","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N2F:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2F"}}
{"Timestamp":"2024-11-10T22:59:54.4172848+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e206fc3cc5df16d72e06d9fff19b7ede","SpanId":"0f6b03d87c03ecdb","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N2E:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N2E"}}
{"Timestamp":"2024-11-10T22:59:54.4184037+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"75f44ab36259a5ddfdc5487baae07263","SpanId":"645944cfbcc4fccf","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":12.7885,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N2F:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2F"}}
{"Timestamp":"2024-11-10T22:59:54.4193817+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e206fc3cc5df16d72e06d9fff19b7ede","SpanId":"0f6b03d87c03ecdb","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":12.3613,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N2E:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N2E"}}
{"Timestamp":"2024-11-10T22:59:54.4203328+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"75f44ab36259a5ddfdc5487baae07263","SpanId":"645944cfbcc4fccf","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2F:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2F"}}
{"Timestamp":"2024-11-10T22:59:54.4212322+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e206fc3cc5df16d72e06d9fff19b7ede","SpanId":"0f6b03d87c03ecdb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2E:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N2E"}}
{"Timestamp":"2024-11-10T22:59:54.4221233+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"75f44ab36259a5ddfdc5487baae07263","SpanId":"645944cfbcc4fccf","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":20.2763,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.2763"}]}}
{"Timestamp":"2024-11-10T22:59:54.4229915+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e206fc3cc5df16d72e06d9fff19b7ede","SpanId":"0f6b03d87c03ecdb","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":19.9625,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.9625"}]}}
{"Timestamp":"2024-11-10T22:59:54.4244905+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"75f44ab36259a5ddfdc5487baae07263","SpanId":"645944cfbcc4fccf","Properties":{"ElapsedMilliseconds":25.6503,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2F:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2F"}}
{"Timestamp":"2024-11-10T22:59:54.4261103+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e206fc3cc5df16d72e06d9fff19b7ede","SpanId":"0f6b03d87c03ecdb","Properties":{"ElapsedMilliseconds":29.2244,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2E:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N2E"}}
{"Timestamp":"2024-11-10T22:59:56.5388781+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2ad7abbe521ec284be194a1e5c06082a","SpanId":"909ffd62ebcd7e7c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2G"}}
{"Timestamp":"2024-11-10T22:59:56.5425019+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2ad7abbe521ec284be194a1e5c06082a","SpanId":"909ffd62ebcd7e7c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2G"}}
{"Timestamp":"2024-11-10T22:59:56.5438089+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2ad7abbe521ec284be194a1e5c06082a","SpanId":"909ffd62ebcd7e7c","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2G"}}
{"Timestamp":"2024-11-10T22:59:56.5636976+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2ad7abbe521ec284be194a1e5c06082a","SpanId":"909ffd62ebcd7e7c","Properties":{"elapsed":"18","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2G"}}
{"Timestamp":"2024-11-10T22:59:56.5673833+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2ad7abbe521ec284be194a1e5c06082a","SpanId":"909ffd62ebcd7e7c","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2G"}}
{"Timestamp":"2024-11-10T22:59:56.5687787+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2ad7abbe521ec284be194a1e5c06082a","SpanId":"909ffd62ebcd7e7c","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2G"}}
{"Timestamp":"2024-11-10T22:59:56.5695277+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2ad7abbe521ec284be194a1e5c06082a","SpanId":"909ffd62ebcd7e7c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":24.4958,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N2G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2G"}}
{"Timestamp":"2024-11-10T22:59:56.5702286+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2ad7abbe521ec284be194a1e5c06082a","SpanId":"909ffd62ebcd7e7c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2G"}}
{"Timestamp":"2024-11-10T22:59:56.5708371+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2ad7abbe521ec284be194a1e5c06082a","SpanId":"909ffd62ebcd7e7c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":28.4175,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.4175"}]}}
{"Timestamp":"2024-11-10T22:59:56.5719085+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2ad7abbe521ec284be194a1e5c06082a","SpanId":"909ffd62ebcd7e7c","Properties":{"ElapsedMilliseconds":33.0501,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2G"}}
{"Timestamp":"2024-11-10T22:59:56.5739815+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"60dbf85158dd90e7fedb59cf88833cf5","SpanId":"ae1416d47e1cb1a7","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2H:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2H"}}
{"Timestamp":"2024-11-10T22:59:56.5771354+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"60dbf85158dd90e7fedb59cf88833cf5","SpanId":"ae1416d47e1cb1a7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2H:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2H"}}
{"Timestamp":"2024-11-10T22:59:56.5777736+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"60dbf85158dd90e7fedb59cf88833cf5","SpanId":"ae1416d47e1cb1a7","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N2H:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2H"}}
{"Timestamp":"2024-11-10T22:59:56.5828746+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"60dbf85158dd90e7fedb59cf88833cf5","SpanId":"ae1416d47e1cb1a7","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N2H:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2H"}}
{"Timestamp":"2024-11-10T22:59:56.5845392+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"60dbf85158dd90e7fedb59cf88833cf5","SpanId":"ae1416d47e1cb1a7","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N2H:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2H"}}
{"Timestamp":"2024-11-10T22:59:56.5855959+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"60dbf85158dd90e7fedb59cf88833cf5","SpanId":"ae1416d47e1cb1a7","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":6.7642,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N2H:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2H"}}
{"Timestamp":"2024-11-10T22:59:56.5866109+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"60dbf85158dd90e7fedb59cf88833cf5","SpanId":"ae1416d47e1cb1a7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2H:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2H"}}
{"Timestamp":"2024-11-10T22:59:56.5874228+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"60dbf85158dd90e7fedb59cf88833cf5","SpanId":"ae1416d47e1cb1a7","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":10.4649,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"10.4649"}]}}
{"Timestamp":"2024-11-10T22:59:56.5887551+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"60dbf85158dd90e7fedb59cf88833cf5","SpanId":"ae1416d47e1cb1a7","Properties":{"ElapsedMilliseconds":14.8014,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2H:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2H"}}
{"Timestamp":"2024-11-10T22:59:56.7307086+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c293f7d4aea915709fca7c5bced0c0bf","SpanId":"d337d5b6f7105005","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2I"}}
{"Timestamp":"2024-11-10T22:59:56.7335402+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c293f7d4aea915709fca7c5bced0c0bf","SpanId":"d337d5b6f7105005","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2I"}}
{"Timestamp":"2024-11-10T22:59:56.7349398+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2502478730aa9560533e1426be4beafa","SpanId":"d39b104a6eb008a2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2J"}}
{"Timestamp":"2024-11-10T22:59:56.7353132+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c293f7d4aea915709fca7c5bced0c0bf","SpanId":"d337d5b6f7105005","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2I"}}
{"Timestamp":"2024-11-10T22:59:56.7381200+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2502478730aa9560533e1426be4beafa","SpanId":"d39b104a6eb008a2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2J"}}
{"Timestamp":"2024-11-10T22:59:56.7413608+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2502478730aa9560533e1426be4beafa","SpanId":"d39b104a6eb008a2","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2J"}}
{"Timestamp":"2024-11-10T22:59:56.7480295+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2502478730aa9560533e1426be4beafa","SpanId":"d39b104a6eb008a2","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2J"}}
{"Timestamp":"2024-11-10T22:59:56.7480321+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c293f7d4aea915709fca7c5bced0c0bf","SpanId":"d337d5b6f7105005","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2I"}}
{"Timestamp":"2024-11-10T22:59:56.7621948+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2502478730aa9560533e1426be4beafa","SpanId":"d39b104a6eb008a2","Properties":{"elapsed":"11","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2J"}}
{"Timestamp":"2024-11-10T22:59:56.7637276+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c293f7d4aea915709fca7c5bced0c0bf","SpanId":"d337d5b6f7105005","Properties":{"elapsed":"10","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2I"}}
{"Timestamp":"2024-11-10T22:59:56.7654774+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2502478730aa9560533e1426be4beafa","SpanId":"d39b104a6eb008a2","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2J"}}
{"Timestamp":"2024-11-10T22:59:56.7692466+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c293f7d4aea915709fca7c5bced0c0bf","SpanId":"d337d5b6f7105005","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2I"}}
{"Timestamp":"2024-11-10T22:59:56.7704058+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2502478730aa9560533e1426be4beafa","SpanId":"d39b104a6eb008a2","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":27.6496,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N2J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2J"}}
{"Timestamp":"2024-11-10T22:59:56.7730231+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c293f7d4aea915709fca7c5bced0c0bf","SpanId":"d337d5b6f7105005","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":33.007,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N2I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2I"}}
{"Timestamp":"2024-11-10T22:59:56.7759151+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2502478730aa9560533e1426be4beafa","SpanId":"d39b104a6eb008a2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2J"}}
{"Timestamp":"2024-11-10T22:59:56.7770468+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c293f7d4aea915709fca7c5bced0c0bf","SpanId":"d337d5b6f7105005","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2I"}}
{"Timestamp":"2024-11-10T22:59:56.7787568+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2502478730aa9560533e1426be4beafa","SpanId":"d39b104a6eb008a2","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":40.7021,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"40.7021"}]}}
{"Timestamp":"2024-11-10T22:59:56.7794382+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c293f7d4aea915709fca7c5bced0c0bf","SpanId":"d337d5b6f7105005","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":45.9762,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"45.9762"}]}}
{"Timestamp":"2024-11-10T22:59:56.7806978+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2502478730aa9560533e1426be4beafa","SpanId":"d39b104a6eb008a2","Properties":{"ElapsedMilliseconds":45.8372,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2J"}}
{"Timestamp":"2024-11-10T22:59:56.7844114+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5ed5a1cc179f5d585cd02b581e79dbaf","SpanId":"2ae519b2d680c56b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2K:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N2K"}}
{"Timestamp":"2024-11-10T22:59:56.7820042+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c293f7d4aea915709fca7c5bced0c0bf","SpanId":"d337d5b6f7105005","Properties":{"ElapsedMilliseconds":51.383,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2I"}}
{"Timestamp":"2024-11-10T22:59:56.7852362+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7b8f0e387562a72277e3ac117a4fc63b","SpanId":"c48456769c7d4fb9","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2L"}}
{"Timestamp":"2024-11-10T22:59:56.7895180+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5ed5a1cc179f5d585cd02b581e79dbaf","SpanId":"2ae519b2d680c56b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2K:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N2K"}}
{"Timestamp":"2024-11-10T22:59:56.7952067+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7b8f0e387562a72277e3ac117a4fc63b","SpanId":"c48456769c7d4fb9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2L"}}
{"Timestamp":"2024-11-10T22:59:56.7957470+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5ed5a1cc179f5d585cd02b581e79dbaf","SpanId":"2ae519b2d680c56b","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N2K:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N2K"}}
{"Timestamp":"2024-11-10T22:59:56.7964609+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7b8f0e387562a72277e3ac117a4fc63b","SpanId":"c48456769c7d4fb9","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N2L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2L"}}
{"Timestamp":"2024-11-10T22:59:56.8060271+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7b8f0e387562a72277e3ac117a4fc63b","SpanId":"c48456769c7d4fb9","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N2L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2L"}}
{"Timestamp":"2024-11-10T22:59:56.8063949+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5ed5a1cc179f5d585cd02b581e79dbaf","SpanId":"2ae519b2d680c56b","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N2K:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N2K"}}
{"Timestamp":"2024-11-10T22:59:56.8078512+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7b8f0e387562a72277e3ac117a4fc63b","SpanId":"c48456769c7d4fb9","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N2L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2L"}}
{"Timestamp":"2024-11-10T22:59:56.8096749+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5ed5a1cc179f5d585cd02b581e79dbaf","SpanId":"2ae519b2d680c56b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N2K:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N2K"}}
{"Timestamp":"2024-11-10T22:59:56.8104530+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7b8f0e387562a72277e3ac117a4fc63b","SpanId":"c48456769c7d4fb9","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":11.1053,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N2L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2L"}}
{"Timestamp":"2024-11-10T22:59:56.8114715+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5ed5a1cc179f5d585cd02b581e79dbaf","SpanId":"2ae519b2d680c56b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":13.5821,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N2K:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N2K"}}
{"Timestamp":"2024-11-10T22:59:56.8123060+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7b8f0e387562a72277e3ac117a4fc63b","SpanId":"c48456769c7d4fb9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2L"}}
{"Timestamp":"2024-11-10T22:59:56.8130972+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5ed5a1cc179f5d585cd02b581e79dbaf","SpanId":"2ae519b2d680c56b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2K:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N2K"}}
{"Timestamp":"2024-11-10T22:59:56.8137048+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7b8f0e387562a72277e3ac117a4fc63b","SpanId":"c48456769c7d4fb9","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":18.7715,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.7715"}]}}
{"Timestamp":"2024-11-10T22:59:56.8144521+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5ed5a1cc179f5d585cd02b581e79dbaf","SpanId":"2ae519b2d680c56b","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":25.1401,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.1401"}]}}
{"Timestamp":"2024-11-10T22:59:56.8158219+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7b8f0e387562a72277e3ac117a4fc63b","SpanId":"c48456769c7d4fb9","Properties":{"ElapsedMilliseconds":30.6488,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2L"}}
{"Timestamp":"2024-11-10T22:59:56.8174577+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5ed5a1cc179f5d585cd02b581e79dbaf","SpanId":"2ae519b2d680c56b","Properties":{"ElapsedMilliseconds":33.0757,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2K:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N2K"}}
{"Timestamp":"2024-11-10T22:59:59.4989296+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"431c2aff9e1c216b061ac0f8ddff329f","SpanId":"dea98331037fda51","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2M"}}
{"Timestamp":"2024-11-10T22:59:59.5005058+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"431c2aff9e1c216b061ac0f8ddff329f","SpanId":"dea98331037fda51","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2M"}}
{"Timestamp":"2024-11-10T22:59:59.5010349+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"431c2aff9e1c216b061ac0f8ddff329f","SpanId":"dea98331037fda51","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2M"}}
{"Timestamp":"2024-11-10T22:59:59.5578643+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"431c2aff9e1c216b061ac0f8ddff329f","SpanId":"dea98331037fda51","Properties":{"elapsed":"55","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2M"}}
{"Timestamp":"2024-11-10T22:59:59.5639954+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"431c2aff9e1c216b061ac0f8ddff329f","SpanId":"dea98331037fda51","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2M"}}
{"Timestamp":"2024-11-10T22:59:59.5658925+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"431c2aff9e1c216b061ac0f8ddff329f","SpanId":"dea98331037fda51","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2M"}}
{"Timestamp":"2024-11-10T22:59:59.5697037+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"431c2aff9e1c216b061ac0f8ddff329f","SpanId":"dea98331037fda51","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":67.6623,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N2M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2M"}}
{"Timestamp":"2024-11-10T22:59:59.5709131+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"431c2aff9e1c216b061ac0f8ddff329f","SpanId":"dea98331037fda51","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2M"}}
{"Timestamp":"2024-11-10T22:59:59.5724694+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"431c2aff9e1c216b061ac0f8ddff329f","SpanId":"dea98331037fda51","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":71.9874,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"71.9874"}]}}
{"Timestamp":"2024-11-10T22:59:59.5740176+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"431c2aff9e1c216b061ac0f8ddff329f","SpanId":"dea98331037fda51","Properties":{"ElapsedMilliseconds":75.0773,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2M"}}
{"Timestamp":"2024-11-10T22:59:59.5787744+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bba06e5920747f70fc96cf702bd1685f","SpanId":"da678029320bab9a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-08&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2N:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2N"}}
{"Timestamp":"2024-11-10T22:59:59.5868307+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bba06e5920747f70fc96cf702bd1685f","SpanId":"da678029320bab9a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2N:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2N"}}
{"Timestamp":"2024-11-10T22:59:59.5884885+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bba06e5920747f70fc96cf702bd1685f","SpanId":"da678029320bab9a","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N2N:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2N"}}
{"Timestamp":"2024-11-10T22:59:59.5991973+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bba06e5920747f70fc96cf702bd1685f","SpanId":"da678029320bab9a","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N2N:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2N"}}
{"Timestamp":"2024-11-10T22:59:59.6010038+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bba06e5920747f70fc96cf702bd1685f","SpanId":"da678029320bab9a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N2N:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2N"}}
{"Timestamp":"2024-11-10T22:59:59.6022613+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bba06e5920747f70fc96cf702bd1685f","SpanId":"da678029320bab9a","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":11.4832,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N2N:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2N"}}
{"Timestamp":"2024-11-10T22:59:59.6035931+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bba06e5920747f70fc96cf702bd1685f","SpanId":"da678029320bab9a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2N:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2N"}}
{"Timestamp":"2024-11-10T22:59:59.6042694+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bba06e5920747f70fc96cf702bd1685f","SpanId":"da678029320bab9a","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":17.7763,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.7763"}]}}
{"Timestamp":"2024-11-10T22:59:59.6057129+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bba06e5920747f70fc96cf702bd1685f","SpanId":"da678029320bab9a","Properties":{"ElapsedMilliseconds":26.9849,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-08&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2N:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2N"}}
{"Timestamp":"2024-11-10T22:59:59.6769447+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d2c482faf2ceae0e0e17143872e7143d","SpanId":"f03ea95d9203fd87","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2O"}}
{"Timestamp":"2024-11-10T22:59:59.6810435+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d2c482faf2ceae0e0e17143872e7143d","SpanId":"f03ea95d9203fd87","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2O"}}
{"Timestamp":"2024-11-10T22:59:59.6828431+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d2c482faf2ceae0e0e17143872e7143d","SpanId":"f03ea95d9203fd87","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2O"}}
{"Timestamp":"2024-11-10T22:59:59.6840332+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"505ef47a3dc0d5d4be3a43484ecbada2","SpanId":"456c77ffc135ecef","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2P"}}
{"Timestamp":"2024-11-10T22:59:59.6889498+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d2c482faf2ceae0e0e17143872e7143d","SpanId":"f03ea95d9203fd87","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2O"}}
{"Timestamp":"2024-11-10T22:59:59.6917424+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"505ef47a3dc0d5d4be3a43484ecbada2","SpanId":"456c77ffc135ecef","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2P"}}
{"Timestamp":"2024-11-10T22:59:59.6980274+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"505ef47a3dc0d5d4be3a43484ecbada2","SpanId":"456c77ffc135ecef","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2P"}}
{"Timestamp":"2024-11-10T22:59:59.7006624+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d2c482faf2ceae0e0e17143872e7143d","SpanId":"f03ea95d9203fd87","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2O"}}
{"Timestamp":"2024-11-10T22:59:59.7045051+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"505ef47a3dc0d5d4be3a43484ecbada2","SpanId":"456c77ffc135ecef","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2P"}}
{"Timestamp":"2024-11-10T22:59:59.7052426+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d2c482faf2ceae0e0e17143872e7143d","SpanId":"f03ea95d9203fd87","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2O"}}
{"Timestamp":"2024-11-10T22:59:59.7107413+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d2c482faf2ceae0e0e17143872e7143d","SpanId":"f03ea95d9203fd87","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":23.9551,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N2O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2O"}}
{"Timestamp":"2024-11-10T22:59:59.7164254+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"505ef47a3dc0d5d4be3a43484ecbada2","SpanId":"456c77ffc135ecef","Properties":{"elapsed":"7","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2P"}}
{"Timestamp":"2024-11-10T22:59:59.7176795+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d2c482faf2ceae0e0e17143872e7143d","SpanId":"f03ea95d9203fd87","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2O"}}
{"Timestamp":"2024-11-10T22:59:59.7197907+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"505ef47a3dc0d5d4be3a43484ecbada2","SpanId":"456c77ffc135ecef","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2P"}}
{"Timestamp":"2024-11-10T22:59:59.7227069+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"505ef47a3dc0d5d4be3a43484ecbada2","SpanId":"456c77ffc135ecef","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.1985,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N2P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2P"}}
{"Timestamp":"2024-11-10T22:59:59.7204655+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d2c482faf2ceae0e0e17143872e7143d","SpanId":"f03ea95d9203fd87","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":39.5036,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"39.5036"}]}}
{"Timestamp":"2024-11-10T22:59:59.7240760+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"505ef47a3dc0d5d4be3a43484ecbada2","SpanId":"456c77ffc135ecef","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2P"}}
{"Timestamp":"2024-11-10T22:59:59.7285896+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d2c482faf2ceae0e0e17143872e7143d","SpanId":"f03ea95d9203fd87","Properties":{"ElapsedMilliseconds":51.7031,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2O"}}
{"Timestamp":"2024-11-10T22:59:59.7295637+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"505ef47a3dc0d5d4be3a43484ecbada2","SpanId":"456c77ffc135ecef","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":37.9955,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"37.9955"}]}}
{"Timestamp":"2024-11-10T22:59:59.7326898+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"23e16c7c8ce664fa462622e9455224a3","SpanId":"709b58e5af773345","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-08&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2Q"}}
{"Timestamp":"2024-11-10T22:59:59.7331995+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"505ef47a3dc0d5d4be3a43484ecbada2","SpanId":"456c77ffc135ecef","Properties":{"ElapsedMilliseconds":49.3382,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2P"}}
{"Timestamp":"2024-11-10T22:59:59.7360735+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"23e16c7c8ce664fa462622e9455224a3","SpanId":"709b58e5af773345","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2Q"}}
{"Timestamp":"2024-11-10T22:59:59.7366955+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a83078b4ce0220db6e30a01c18d1a9d4","SpanId":"7d92407eb23f15f5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-08&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N2R"}}
{"Timestamp":"2024-11-10T22:59:59.7396835+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"23e16c7c8ce664fa462622e9455224a3","SpanId":"709b58e5af773345","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N2Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2Q"}}
{"Timestamp":"2024-11-10T22:59:59.7414116+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a83078b4ce0220db6e30a01c18d1a9d4","SpanId":"7d92407eb23f15f5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N2R"}}
{"Timestamp":"2024-11-10T22:59:59.7428681+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a83078b4ce0220db6e30a01c18d1a9d4","SpanId":"7d92407eb23f15f5","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N2R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N2R"}}
{"Timestamp":"2024-11-10T22:59:59.7503201+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"23e16c7c8ce664fa462622e9455224a3","SpanId":"709b58e5af773345","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N2Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2Q"}}
{"Timestamp":"2024-11-10T22:59:59.7520249+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"23e16c7c8ce664fa462622e9455224a3","SpanId":"709b58e5af773345","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N2Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2Q"}}
{"Timestamp":"2024-11-10T22:59:59.7526153+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a83078b4ce0220db6e30a01c18d1a9d4","SpanId":"7d92407eb23f15f5","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N2R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N2R"}}
{"Timestamp":"2024-11-10T22:59:59.7529668+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"23e16c7c8ce664fa462622e9455224a3","SpanId":"709b58e5af773345","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":10.7493,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N2Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2Q"}}
{"Timestamp":"2024-11-10T22:59:59.7544992+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a83078b4ce0220db6e30a01c18d1a9d4","SpanId":"7d92407eb23f15f5","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N2R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N2R"}}
{"Timestamp":"2024-11-10T22:59:59.7553489+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"23e16c7c8ce664fa462622e9455224a3","SpanId":"709b58e5af773345","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2Q"}}
{"Timestamp":"2024-11-10T22:59:59.7564887+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a83078b4ce0220db6e30a01c18d1a9d4","SpanId":"7d92407eb23f15f5","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":12.1988,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N2R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N2R"}}
{"Timestamp":"2024-11-10T22:59:59.7571232+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"23e16c7c8ce664fa462622e9455224a3","SpanId":"709b58e5af773345","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":21.4258,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.4258"}]}}
{"Timestamp":"2024-11-10T22:59:59.7580998+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a83078b4ce0220db6e30a01c18d1a9d4","SpanId":"7d92407eb23f15f5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N2R"}}
{"Timestamp":"2024-11-10T22:59:59.7596202+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"23e16c7c8ce664fa462622e9455224a3","SpanId":"709b58e5af773345","Properties":{"ElapsedMilliseconds":27.0014,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-08&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2Q"}}
{"Timestamp":"2024-11-10T22:59:59.7603598+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a83078b4ce0220db6e30a01c18d1a9d4","SpanId":"7d92407eb23f15f5","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":19.0832,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.0832"}]}}
{"Timestamp":"2024-11-10T22:59:59.7639283+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a83078b4ce0220db6e30a01c18d1a9d4","SpanId":"7d92407eb23f15f5","Properties":{"ElapsedMilliseconds":27.2454,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-08&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N2R"}}
{"Timestamp":"2024-11-10T23:00:01.4451964+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"eb5e0dde7b81bf3ba7ee03916fad4f4a","SpanId":"afe119bc753b5df7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2S"}}
{"Timestamp":"2024-11-10T23:00:01.4488863+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"eb5e0dde7b81bf3ba7ee03916fad4f4a","SpanId":"afe119bc753b5df7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2S"}}
{"Timestamp":"2024-11-10T23:00:01.4496046+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"eb5e0dde7b81bf3ba7ee03916fad4f4a","SpanId":"afe119bc753b5df7","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2S"}}
{"Timestamp":"2024-11-10T23:00:01.4657036+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"eb5e0dde7b81bf3ba7ee03916fad4f4a","SpanId":"afe119bc753b5df7","Properties":{"elapsed":"14","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2S"}}
{"Timestamp":"2024-11-10T23:00:01.4733384+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"eb5e0dde7b81bf3ba7ee03916fad4f4a","SpanId":"afe119bc753b5df7","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2S"}}
{"Timestamp":"2024-11-10T23:00:01.4765536+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"eb5e0dde7b81bf3ba7ee03916fad4f4a","SpanId":"afe119bc753b5df7","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2S"}}
{"Timestamp":"2024-11-10T23:00:01.4786646+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"eb5e0dde7b81bf3ba7ee03916fad4f4a","SpanId":"afe119bc753b5df7","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":27.8447,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N2S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2S"}}
{"Timestamp":"2024-11-10T23:00:01.4805577+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"eb5e0dde7b81bf3ba7ee03916fad4f4a","SpanId":"afe119bc753b5df7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2S"}}
{"Timestamp":"2024-11-10T23:00:01.4818793+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"eb5e0dde7b81bf3ba7ee03916fad4f4a","SpanId":"afe119bc753b5df7","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":33.0304,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.0304"}]}}
{"Timestamp":"2024-11-10T23:00:01.4842466+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"eb5e0dde7b81bf3ba7ee03916fad4f4a","SpanId":"afe119bc753b5df7","Properties":{"ElapsedMilliseconds":39.0636,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2S"}}
{"Timestamp":"2024-11-10T23:00:01.4866925+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1d30626887bae5cfdf720fde3b00b1f3","SpanId":"3cda66377d66a5db","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2T:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2T"}}
{"Timestamp":"2024-11-10T23:00:01.4894312+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1d30626887bae5cfdf720fde3b00b1f3","SpanId":"3cda66377d66a5db","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2T:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2T"}}
{"Timestamp":"2024-11-10T23:00:01.4903111+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1d30626887bae5cfdf720fde3b00b1f3","SpanId":"3cda66377d66a5db","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N2T:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2T"}}
{"Timestamp":"2024-11-10T23:00:01.4976408+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1d30626887bae5cfdf720fde3b00b1f3","SpanId":"3cda66377d66a5db","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N2T:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2T"}}
{"Timestamp":"2024-11-10T23:00:01.5003145+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1d30626887bae5cfdf720fde3b00b1f3","SpanId":"3cda66377d66a5db","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N2T:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2T"}}
{"Timestamp":"2024-11-10T23:00:01.5022019+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1d30626887bae5cfdf720fde3b00b1f3","SpanId":"3cda66377d66a5db","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":10.7145,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N2T:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2T"}}
{"Timestamp":"2024-11-10T23:00:01.5034734+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1d30626887bae5cfdf720fde3b00b1f3","SpanId":"3cda66377d66a5db","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2T:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2T"}}
{"Timestamp":"2024-11-10T23:00:01.5044379+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1d30626887bae5cfdf720fde3b00b1f3","SpanId":"3cda66377d66a5db","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":15.3225,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.3225"}]}}
{"Timestamp":"2024-11-10T23:00:01.5055430+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1d30626887bae5cfdf720fde3b00b1f3","SpanId":"3cda66377d66a5db","Properties":{"ElapsedMilliseconds":18.9175,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2T:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N2T"}}
{"Timestamp":"2024-11-10T23:00:01.6182848+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"437e44eaae464e1e5d18ee74e617c21b","SpanId":"3c1dbbca8cadc811","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2U"}}
{"Timestamp":"2024-11-10T23:00:01.6222767+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"437e44eaae464e1e5d18ee74e617c21b","SpanId":"3c1dbbca8cadc811","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2U"}}
{"Timestamp":"2024-11-10T23:00:01.6229669+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"63ad56f72b721ebf2bfe5f8ebe74a116","SpanId":"d79fccbab331832b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2V"}}
{"Timestamp":"2024-11-10T23:00:01.6239349+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"437e44eaae464e1e5d18ee74e617c21b","SpanId":"3c1dbbca8cadc811","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2U"}}
{"Timestamp":"2024-11-10T23:00:01.6270346+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"63ad56f72b721ebf2bfe5f8ebe74a116","SpanId":"d79fccbab331832b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2V"}}
{"Timestamp":"2024-11-10T23:00:01.6305160+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"63ad56f72b721ebf2bfe5f8ebe74a116","SpanId":"d79fccbab331832b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2V"}}
{"Timestamp":"2024-11-10T23:00:01.6373027+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"437e44eaae464e1e5d18ee74e617c21b","SpanId":"3c1dbbca8cadc811","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2U"}}
{"Timestamp":"2024-11-10T23:00:01.6373028+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"63ad56f72b721ebf2bfe5f8ebe74a116","SpanId":"d79fccbab331832b","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2V"}}
{"Timestamp":"2024-11-10T23:00:01.6516985+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"437e44eaae464e1e5d18ee74e617c21b","SpanId":"3c1dbbca8cadc811","Properties":{"elapsed":"12","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2U"}}
{"Timestamp":"2024-11-10T23:00:01.6557038+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"63ad56f72b721ebf2bfe5f8ebe74a116","SpanId":"d79fccbab331832b","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2V"}}
{"Timestamp":"2024-11-10T23:00:01.6559085+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"437e44eaae464e1e5d18ee74e617c21b","SpanId":"3c1dbbca8cadc811","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2U"}}
{"Timestamp":"2024-11-10T23:00:01.6593979+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"63ad56f72b721ebf2bfe5f8ebe74a116","SpanId":"d79fccbab331832b","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N2V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2V"}}
{"Timestamp":"2024-11-10T23:00:01.6610616+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"437e44eaae464e1e5d18ee74e617c21b","SpanId":"3c1dbbca8cadc811","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":32.1138,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N2U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2U"}}
{"Timestamp":"2024-11-10T23:00:01.6624418+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"63ad56f72b721ebf2bfe5f8ebe74a116","SpanId":"d79fccbab331832b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":29.8578,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N2V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2V"}}
{"Timestamp":"2024-11-10T23:00:01.6634794+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"437e44eaae464e1e5d18ee74e617c21b","SpanId":"3c1dbbca8cadc811","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2U"}}
{"Timestamp":"2024-11-10T23:00:01.6646992+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"63ad56f72b721ebf2bfe5f8ebe74a116","SpanId":"d79fccbab331832b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N2V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2V"}}
{"Timestamp":"2024-11-10T23:00:01.6654778+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"437e44eaae464e1e5d18ee74e617c21b","SpanId":"3c1dbbca8cadc811","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":43.3023,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"43.3023"}]}}
{"Timestamp":"2024-11-10T23:00:01.6662811+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"63ad56f72b721ebf2bfe5f8ebe74a116","SpanId":"d79fccbab331832b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":39.3627,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"39.3627"}]}}
{"Timestamp":"2024-11-10T23:00:01.6680681+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"437e44eaae464e1e5d18ee74e617c21b","SpanId":"3c1dbbca8cadc811","Properties":{"ElapsedMilliseconds":49.8094,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2U"}}
{"Timestamp":"2024-11-10T23:00:01.6699990+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"63ad56f72b721ebf2bfe5f8ebe74a116","SpanId":"d79fccbab331832b","Properties":{"ElapsedMilliseconds":47.0655,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N2V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N2V"}}
{"Timestamp":"2024-11-10T23:00:01.6713148+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3a134ce553212b19e2aebe279b4ca5ea","SpanId":"71e6aa6aa63fe0e9","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N30:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N30"}}
{"Timestamp":"2024-11-10T23:00:01.6725039+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4a121bda5a750ff32b9e6fb639bc62a9","SpanId":"cf7560f5c694346c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N31:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N31"}}
{"Timestamp":"2024-11-10T23:00:01.6793706+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3a134ce553212b19e2aebe279b4ca5ea","SpanId":"71e6aa6aa63fe0e9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N30:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N30"}}
{"Timestamp":"2024-11-10T23:00:01.6818017+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4a121bda5a750ff32b9e6fb639bc62a9","SpanId":"cf7560f5c694346c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N31:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N31"}}
{"Timestamp":"2024-11-10T23:00:01.6825173+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3a134ce553212b19e2aebe279b4ca5ea","SpanId":"71e6aa6aa63fe0e9","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N30:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N30"}}
{"Timestamp":"2024-11-10T23:00:01.6850674+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4a121bda5a750ff32b9e6fb639bc62a9","SpanId":"cf7560f5c694346c","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N31:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N31"}}
{"Timestamp":"2024-11-10T23:00:01.6941408+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3a134ce553212b19e2aebe279b4ca5ea","SpanId":"71e6aa6aa63fe0e9","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N30:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N30"}}
{"Timestamp":"2024-11-10T23:00:01.6962547+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3a134ce553212b19e2aebe279b4ca5ea","SpanId":"71e6aa6aa63fe0e9","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N30:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N30"}}
{"Timestamp":"2024-11-10T23:00:01.6967738+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4a121bda5a750ff32b9e6fb639bc62a9","SpanId":"cf7560f5c694346c","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N31:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N31"}}
{"Timestamp":"2024-11-10T23:00:01.6977454+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3a134ce553212b19e2aebe279b4ca5ea","SpanId":"71e6aa6aa63fe0e9","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":11.4689,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N30:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N30"}}
{"Timestamp":"2024-11-10T23:00:01.7007090+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4a121bda5a750ff32b9e6fb639bc62a9","SpanId":"cf7560f5c694346c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N31:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N31"}}
{"Timestamp":"2024-11-10T23:00:01.7016865+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3a134ce553212b19e2aebe279b4ca5ea","SpanId":"71e6aa6aa63fe0e9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N30:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N30"}}
{"Timestamp":"2024-11-10T23:00:01.7025423+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4a121bda5a750ff32b9e6fb639bc62a9","SpanId":"cf7560f5c694346c","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":14.9943,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N31:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N31"}}
{"Timestamp":"2024-11-10T23:00:01.7033004+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3a134ce553212b19e2aebe279b4ca5ea","SpanId":"71e6aa6aa63fe0e9","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":24.2522,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.2522"}]}}
{"Timestamp":"2024-11-10T23:00:01.7041547+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4a121bda5a750ff32b9e6fb639bc62a9","SpanId":"cf7560f5c694346c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N31:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N31"}}
{"Timestamp":"2024-11-10T23:00:01.7053761+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3a134ce553212b19e2aebe279b4ca5ea","SpanId":"71e6aa6aa63fe0e9","Properties":{"ElapsedMilliseconds":34.0824,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N30:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N30"}}
{"Timestamp":"2024-11-10T23:00:01.7059354+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4a121bda5a750ff32b9e6fb639bc62a9","SpanId":"cf7560f5c694346c","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":24.7671,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.7671"}]}}
{"Timestamp":"2024-11-10T23:00:01.7105199+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4a121bda5a750ff32b9e6fb639bc62a9","SpanId":"cf7560f5c694346c","Properties":{"ElapsedMilliseconds":38.0702,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N31:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N31"}}
{"Timestamp":"2024-11-10T23:00:03.2852771+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6c9da84681099b9a112b5ac5f3026d0f","SpanId":"f44ef000652bfff1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N32:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N32"}}
{"Timestamp":"2024-11-10T23:00:03.2879348+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6c9da84681099b9a112b5ac5f3026d0f","SpanId":"f44ef000652bfff1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N32:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N32"}}
{"Timestamp":"2024-11-10T23:00:03.2885896+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6c9da84681099b9a112b5ac5f3026d0f","SpanId":"f44ef000652bfff1","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N32:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N32"}}
{"Timestamp":"2024-11-10T23:00:03.2963060+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6c9da84681099b9a112b5ac5f3026d0f","SpanId":"f44ef000652bfff1","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N32:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N32"}}
{"Timestamp":"2024-11-10T23:00:03.3014521+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6c9da84681099b9a112b5ac5f3026d0f","SpanId":"f44ef000652bfff1","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N32:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N32"}}
{"Timestamp":"2024-11-10T23:00:03.3031501+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6c9da84681099b9a112b5ac5f3026d0f","SpanId":"f44ef000652bfff1","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N32:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N32"}}
{"Timestamp":"2024-11-10T23:00:03.3042591+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6c9da84681099b9a112b5ac5f3026d0f","SpanId":"f44ef000652bfff1","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":14.3917,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N32:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N32"}}
{"Timestamp":"2024-11-10T23:00:03.3052705+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6c9da84681099b9a112b5ac5f3026d0f","SpanId":"f44ef000652bfff1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N32:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N32"}}
{"Timestamp":"2024-11-10T23:00:03.3061190+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6c9da84681099b9a112b5ac5f3026d0f","SpanId":"f44ef000652bfff1","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":18.2506,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.2506"}]}}
{"Timestamp":"2024-11-10T23:00:03.3075663+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6c9da84681099b9a112b5ac5f3026d0f","SpanId":"f44ef000652bfff1","Properties":{"ElapsedMilliseconds":22.3046,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N32:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N32"}}
{"Timestamp":"2024-11-10T23:00:03.3213099+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fc103f33a169fc36abf937941b9b5198","SpanId":"b3d5a2e7284403d9","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2226","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N33:00000001","RequestPath":"/api/Schedules/2226","ConnectionId":"0HN81K2EE3N33"}}
{"Timestamp":"2024-11-10T23:00:03.3232072+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fc103f33a169fc36abf937941b9b5198","SpanId":"b3d5a2e7284403d9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N33:00000001","RequestPath":"/api/Schedules/2226","ConnectionId":"0HN81K2EE3N33"}}
{"Timestamp":"2024-11-10T23:00:03.3269613+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fc103f33a169fc36abf937941b9b5198","SpanId":"b3d5a2e7284403d9","Properties":{"RouteData":"{action = \"Delete\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"382033df-3051-488c-a4e1-1528ac1bf4c7","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81K2EE3N33:00000001","RequestPath":"/api/Schedules/2226","ConnectionId":"0HN81K2EE3N33"}}
{"Timestamp":"2024-11-10T23:00:03.3388358+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fc103f33a169fc36abf937941b9b5198","SpanId":"b3d5a2e7284403d9","Properties":{"elapsed":"3","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"382033df-3051-488c-a4e1-1528ac1bf4c7","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81K2EE3N33:00000001","RequestPath":"/api/Schedules/2226","ConnectionId":"0HN81K2EE3N33"}}
{"Timestamp":"2024-11-10T23:00:03.3734564+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fc103f33a169fc36abf937941b9b5198","SpanId":"b3d5a2e7284403d9","Properties":{"elapsed":"3","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[user_id], [s].[schedule_id], [s].[id]\r\nFROM [Schedule_User] AS [s]\r\nWHERE [s].[schedule_id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"382033df-3051-488c-a4e1-1528ac1bf4c7","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81K2EE3N33:00000001","RequestPath":"/api/Schedules/2226","ConnectionId":"0HN81K2EE3N33"}}
{"Timestamp":"2024-11-10T23:00:03.4673853+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fc103f33a169fc36abf937941b9b5198","SpanId":"b3d5a2e7284403d9","Properties":{"elapsed":"17","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [Schedule_User]\r\nOUTPUT 1\r\nWHERE [schedule_id] = @p0 AND [user_id] = @p1;\r\nDELETE FROM [Schedules]\r\nOUTPUT 1\r\nWHERE [Id] = @p2;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"382033df-3051-488c-a4e1-1528ac1bf4c7","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81K2EE3N33:00000001","RequestPath":"/api/Schedules/2226","ConnectionId":"0HN81K2EE3N33"}}
{"Timestamp":"2024-11-10T23:00:03.4964664+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"fc103f33a169fc36abf937941b9b5198","SpanId":"b3d5a2e7284403d9","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"382033df-3051-488c-a4e1-1528ac1bf4c7","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81K2EE3N33:00000001","RequestPath":"/api/Schedules/2226","ConnectionId":"0HN81K2EE3N33"}}
{"Timestamp":"2024-11-10T23:00:03.4974128+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fc103f33a169fc36abf937941b9b5198","SpanId":"b3d5a2e7284403d9","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","ElapsedMilliseconds":168.8704,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N33:00000001","RequestPath":"/api/Schedules/2226","ConnectionId":"0HN81K2EE3N33"}}
{"Timestamp":"2024-11-10T23:00:03.4995106+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fc103f33a169fc36abf937941b9b5198","SpanId":"b3d5a2e7284403d9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N33:00000001","RequestPath":"/api/Schedules/2226","ConnectionId":"0HN81K2EE3N33"}}
{"Timestamp":"2024-11-10T23:00:03.5005084+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fc103f33a169fc36abf937941b9b5198","SpanId":"b3d5a2e7284403d9","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/Schedules/2226","StatusCode":200,"Elapsed":177.362,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"177.3620"}]}}
{"Timestamp":"2024-11-10T23:00:03.5025355+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fc103f33a169fc36abf937941b9b5198","SpanId":"b3d5a2e7284403d9","Properties":{"ElapsedMilliseconds":181.233,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2226","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N33:00000001","RequestPath":"/api/Schedules/2226","ConnectionId":"0HN81K2EE3N33"}}
{"Timestamp":"2024-11-10T23:00:04.7249420+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f05857b4ea84b5b3e1db2754242240da","SpanId":"0157eedf6e3e5136","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N34:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N34"}}
{"Timestamp":"2024-11-10T23:00:04.7285040+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f05857b4ea84b5b3e1db2754242240da","SpanId":"0157eedf6e3e5136","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N34:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N34"}}
{"Timestamp":"2024-11-10T23:00:04.7297475+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f05857b4ea84b5b3e1db2754242240da","SpanId":"0157eedf6e3e5136","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N34:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N34"}}
{"Timestamp":"2024-11-10T23:00:04.7362475+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f05857b4ea84b5b3e1db2754242240da","SpanId":"0157eedf6e3e5136","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N34:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N34"}}
{"Timestamp":"2024-11-10T23:00:04.7407024+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f05857b4ea84b5b3e1db2754242240da","SpanId":"0157eedf6e3e5136","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N34:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N34"}}
{"Timestamp":"2024-11-10T23:00:04.7423176+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f05857b4ea84b5b3e1db2754242240da","SpanId":"0157eedf6e3e5136","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N34:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N34"}}
{"Timestamp":"2024-11-10T23:00:04.7434972+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f05857b4ea84b5b3e1db2754242240da","SpanId":"0157eedf6e3e5136","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":11.8423,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N34:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N34"}}
{"Timestamp":"2024-11-10T23:00:04.7448143+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f05857b4ea84b5b3e1db2754242240da","SpanId":"0157eedf6e3e5136","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N34:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N34"}}
{"Timestamp":"2024-11-10T23:00:04.7459794+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f05857b4ea84b5b3e1db2754242240da","SpanId":"0157eedf6e3e5136","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":17.5649,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.5649"}]}}
{"Timestamp":"2024-11-10T23:00:04.7474200+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f05857b4ea84b5b3e1db2754242240da","SpanId":"0157eedf6e3e5136","Properties":{"ElapsedMilliseconds":22.4881,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N34:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N34"}}
{"Timestamp":"2024-11-10T23:00:04.7499950+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e24b79d7f4f0be202ba8bcf73a0e2c13","SpanId":"6a2641da717f5aa8","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N35:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N35"}}
{"Timestamp":"2024-11-10T23:00:04.7530597+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e24b79d7f4f0be202ba8bcf73a0e2c13","SpanId":"6a2641da717f5aa8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N35:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N35"}}
{"Timestamp":"2024-11-10T23:00:04.7540447+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e24b79d7f4f0be202ba8bcf73a0e2c13","SpanId":"6a2641da717f5aa8","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N35:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N35"}}
{"Timestamp":"2024-11-10T23:00:04.7634433+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e24b79d7f4f0be202ba8bcf73a0e2c13","SpanId":"6a2641da717f5aa8","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N35:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N35"}}
{"Timestamp":"2024-11-10T23:00:04.7666220+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e24b79d7f4f0be202ba8bcf73a0e2c13","SpanId":"6a2641da717f5aa8","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N35:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N35"}}
{"Timestamp":"2024-11-10T23:00:04.7678491+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e24b79d7f4f0be202ba8bcf73a0e2c13","SpanId":"6a2641da717f5aa8","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":12.3367,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N35:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N35"}}
{"Timestamp":"2024-11-10T23:00:04.7687620+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e24b79d7f4f0be202ba8bcf73a0e2c13","SpanId":"6a2641da717f5aa8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N35:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N35"}}
{"Timestamp":"2024-11-10T23:00:04.7695168+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e24b79d7f4f0be202ba8bcf73a0e2c13","SpanId":"6a2641da717f5aa8","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":16.6308,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.6308"}]}}
{"Timestamp":"2024-11-10T23:00:04.7707113+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e24b79d7f4f0be202ba8bcf73a0e2c13","SpanId":"6a2641da717f5aa8","Properties":{"ElapsedMilliseconds":20.8329,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N35:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N35"}}
{"Timestamp":"2024-11-10T23:00:05.6373745+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b88c3bd999ffd32785e886a11855b802","SpanId":"7ef4810bed38e336","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N36:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N36"}}
{"Timestamp":"2024-11-10T23:00:05.6412754+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b88c3bd999ffd32785e886a11855b802","SpanId":"7ef4810bed38e336","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N36:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N36"}}
{"Timestamp":"2024-11-10T23:00:05.6424724+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b88c3bd999ffd32785e886a11855b802","SpanId":"7ef4810bed38e336","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N36:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N36"}}
{"Timestamp":"2024-11-10T23:00:05.6578289+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b88c3bd999ffd32785e886a11855b802","SpanId":"7ef4810bed38e336","Properties":{"elapsed":"12","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N36:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N36"}}
{"Timestamp":"2024-11-10T23:00:05.6667585+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b88c3bd999ffd32785e886a11855b802","SpanId":"7ef4810bed38e336","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N36:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N36"}}
{"Timestamp":"2024-11-10T23:00:05.6687473+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b88c3bd999ffd32785e886a11855b802","SpanId":"7ef4810bed38e336","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N36:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N36"}}
{"Timestamp":"2024-11-10T23:00:05.6697337+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b88c3bd999ffd32785e886a11855b802","SpanId":"7ef4810bed38e336","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":26.2293,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N36:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N36"}}
{"Timestamp":"2024-11-10T23:00:05.6717496+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b88c3bd999ffd32785e886a11855b802","SpanId":"7ef4810bed38e336","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N36:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N36"}}
{"Timestamp":"2024-11-10T23:00:05.6725525+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b88c3bd999ffd32785e886a11855b802","SpanId":"7ef4810bed38e336","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":31.3111,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"31.3111"}]}}
{"Timestamp":"2024-11-10T23:00:05.6738648+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b88c3bd999ffd32785e886a11855b802","SpanId":"7ef4810bed38e336","Properties":{"ElapsedMilliseconds":36.51,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N36:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N36"}}
{"Timestamp":"2024-11-10T23:00:05.6777851+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"26f367cf43da8a1f4dddde869d70f37b","SpanId":"05e6f265b0d1b776","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1210","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N37:00000001","RequestPath":"/api/Schedules/1210","ConnectionId":"0HN81K2EE3N37"}}
{"Timestamp":"2024-11-10T23:00:05.6799819+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"26f367cf43da8a1f4dddde869d70f37b","SpanId":"05e6f265b0d1b776","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N37:00000001","RequestPath":"/api/Schedules/1210","ConnectionId":"0HN81K2EE3N37"}}
{"Timestamp":"2024-11-10T23:00:05.6808680+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"26f367cf43da8a1f4dddde869d70f37b","SpanId":"05e6f265b0d1b776","Properties":{"RouteData":"{action = \"Delete\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"382033df-3051-488c-a4e1-1528ac1bf4c7","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81K2EE3N37:00000001","RequestPath":"/api/Schedules/1210","ConnectionId":"0HN81K2EE3N37"}}
{"Timestamp":"2024-11-10T23:00:05.6848646+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"26f367cf43da8a1f4dddde869d70f37b","SpanId":"05e6f265b0d1b776","Properties":{"elapsed":"2","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"382033df-3051-488c-a4e1-1528ac1bf4c7","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81K2EE3N37:00000001","RequestPath":"/api/Schedules/1210","ConnectionId":"0HN81K2EE3N37"}}
{"Timestamp":"2024-11-10T23:00:05.6888748+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"26f367cf43da8a1f4dddde869d70f37b","SpanId":"05e6f265b0d1b776","Properties":{"elapsed":"2","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[user_id], [s].[schedule_id], [s].[id]\r\nFROM [Schedule_User] AS [s]\r\nWHERE [s].[schedule_id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"382033df-3051-488c-a4e1-1528ac1bf4c7","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81K2EE3N37:00000001","RequestPath":"/api/Schedules/1210","ConnectionId":"0HN81K2EE3N37"}}
{"Timestamp":"2024-11-10T23:00:05.6981960+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"26f367cf43da8a1f4dddde869d70f37b","SpanId":"05e6f265b0d1b776","Properties":{"elapsed":"6","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [Schedule_User]\r\nOUTPUT 1\r\nWHERE [schedule_id] = @p0 AND [user_id] = @p1;\r\nDELETE FROM [Schedules]\r\nOUTPUT 1\r\nWHERE [Id] = @p2;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"382033df-3051-488c-a4e1-1528ac1bf4c7","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81K2EE3N37:00000001","RequestPath":"/api/Schedules/1210","ConnectionId":"0HN81K2EE3N37"}}
{"Timestamp":"2024-11-10T23:00:05.7004501+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"26f367cf43da8a1f4dddde869d70f37b","SpanId":"05e6f265b0d1b776","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"382033df-3051-488c-a4e1-1528ac1bf4c7","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81K2EE3N37:00000001","RequestPath":"/api/Schedules/1210","ConnectionId":"0HN81K2EE3N37"}}
{"Timestamp":"2024-11-10T23:00:05.7011361+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"26f367cf43da8a1f4dddde869d70f37b","SpanId":"05e6f265b0d1b776","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","ElapsedMilliseconds":19.2623,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N37:00000001","RequestPath":"/api/Schedules/1210","ConnectionId":"0HN81K2EE3N37"}}
{"Timestamp":"2024-11-10T23:00:05.7019703+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"26f367cf43da8a1f4dddde869d70f37b","SpanId":"05e6f265b0d1b776","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N37:00000001","RequestPath":"/api/Schedules/1210","ConnectionId":"0HN81K2EE3N37"}}
{"Timestamp":"2024-11-10T23:00:05.7026383+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"26f367cf43da8a1f4dddde869d70f37b","SpanId":"05e6f265b0d1b776","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/Schedules/1210","StatusCode":200,"Elapsed":22.8183,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.8183"}]}}
{"Timestamp":"2024-11-10T23:00:05.7037079+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"26f367cf43da8a1f4dddde869d70f37b","SpanId":"05e6f265b0d1b776","Properties":{"ElapsedMilliseconds":25.9546,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1210","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N37:00000001","RequestPath":"/api/Schedules/1210","ConnectionId":"0HN81K2EE3N37"}}
{"Timestamp":"2024-11-10T23:00:06.6565979+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4de4736af00575ca5dc768ec3edebac1","SpanId":"f424ee23a56e0fa2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N38:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N38"}}
{"Timestamp":"2024-11-10T23:00:06.6606147+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4de4736af00575ca5dc768ec3edebac1","SpanId":"f424ee23a56e0fa2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N38:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N38"}}
{"Timestamp":"2024-11-10T23:00:06.6619925+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4de4736af00575ca5dc768ec3edebac1","SpanId":"f424ee23a56e0fa2","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N38:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N38"}}
{"Timestamp":"2024-11-10T23:00:06.6704707+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4de4736af00575ca5dc768ec3edebac1","SpanId":"f424ee23a56e0fa2","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N38:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N38"}}
{"Timestamp":"2024-11-10T23:00:06.6760985+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4de4736af00575ca5dc768ec3edebac1","SpanId":"f424ee23a56e0fa2","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N38:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N38"}}
{"Timestamp":"2024-11-10T23:00:06.6775992+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4de4736af00575ca5dc768ec3edebac1","SpanId":"f424ee23a56e0fa2","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N38:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N38"}}
{"Timestamp":"2024-11-10T23:00:06.6797376+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4de4736af00575ca5dc768ec3edebac1","SpanId":"f424ee23a56e0fa2","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.8619,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N38:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N38"}}
{"Timestamp":"2024-11-10T23:00:06.6811966+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4de4736af00575ca5dc768ec3edebac1","SpanId":"f424ee23a56e0fa2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N38:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N38"}}
{"Timestamp":"2024-11-10T23:00:06.6831565+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4de4736af00575ca5dc768ec3edebac1","SpanId":"f424ee23a56e0fa2","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":22.5745,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.5745"}]}}
{"Timestamp":"2024-11-10T23:00:06.6845618+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4de4736af00575ca5dc768ec3edebac1","SpanId":"f424ee23a56e0fa2","Properties":{"ElapsedMilliseconds":27.9706,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N38:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N38"}}
{"Timestamp":"2024-11-10T23:00:06.6863409+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"da080c666e8f1b709ffd3c99e7e3b2a6","SpanId":"bbabcefa452e71c1","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N39:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N39"}}
{"Timestamp":"2024-11-10T23:00:06.6884978+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"da080c666e8f1b709ffd3c99e7e3b2a6","SpanId":"bbabcefa452e71c1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N39:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N39"}}
{"Timestamp":"2024-11-10T23:00:06.6891305+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"da080c666e8f1b709ffd3c99e7e3b2a6","SpanId":"bbabcefa452e71c1","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N39:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N39"}}
{"Timestamp":"2024-11-10T23:00:06.6940399+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"da080c666e8f1b709ffd3c99e7e3b2a6","SpanId":"bbabcefa452e71c1","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N39:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N39"}}
{"Timestamp":"2024-11-10T23:00:06.6969420+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"da080c666e8f1b709ffd3c99e7e3b2a6","SpanId":"bbabcefa452e71c1","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N39:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N39"}}
{"Timestamp":"2024-11-10T23:00:06.6981594+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"da080c666e8f1b709ffd3c99e7e3b2a6","SpanId":"bbabcefa452e71c1","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":8.0768,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N39:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N39"}}
{"Timestamp":"2024-11-10T23:00:06.6998221+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"da080c666e8f1b709ffd3c99e7e3b2a6","SpanId":"bbabcefa452e71c1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N39:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N39"}}
{"Timestamp":"2024-11-10T23:00:06.7012000+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"da080c666e8f1b709ffd3c99e7e3b2a6","SpanId":"bbabcefa452e71c1","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":12.8718,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.8718"}]}}
{"Timestamp":"2024-11-10T23:00:06.7024168+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"da080c666e8f1b709ffd3c99e7e3b2a6","SpanId":"bbabcefa452e71c1","Properties":{"ElapsedMilliseconds":16.1007,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N39:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N39"}}
{"Timestamp":"2024-11-10T23:00:07.9652838+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"77c5704f42636cdcf7c6d03395c7e5e8","SpanId":"3103b6b9ce2224b5","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N3A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3A"}}
{"Timestamp":"2024-11-10T23:00:07.9690266+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"77c5704f42636cdcf7c6d03395c7e5e8","SpanId":"3103b6b9ce2224b5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N3A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3A"}}
{"Timestamp":"2024-11-10T23:00:07.9703063+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"77c5704f42636cdcf7c6d03395c7e5e8","SpanId":"3103b6b9ce2224b5","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N3A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3A"}}
{"Timestamp":"2024-11-10T23:00:07.9828052+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"77c5704f42636cdcf7c6d03395c7e5e8","SpanId":"3103b6b9ce2224b5","Properties":{"elapsed":"8","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N3A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3A"}}
{"Timestamp":"2024-11-10T23:00:07.9890092+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"77c5704f42636cdcf7c6d03395c7e5e8","SpanId":"3103b6b9ce2224b5","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N3A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3A"}}
{"Timestamp":"2024-11-10T23:00:07.9906544+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"77c5704f42636cdcf7c6d03395c7e5e8","SpanId":"3103b6b9ce2224b5","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N3A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3A"}}
{"Timestamp":"2024-11-10T23:00:07.9914896+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"77c5704f42636cdcf7c6d03395c7e5e8","SpanId":"3103b6b9ce2224b5","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":18.2124,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N3A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3A"}}
{"Timestamp":"2024-11-10T23:00:07.9924464+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"77c5704f42636cdcf7c6d03395c7e5e8","SpanId":"3103b6b9ce2224b5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N3A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3A"}}
{"Timestamp":"2024-11-10T23:00:07.9931869+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"77c5704f42636cdcf7c6d03395c7e5e8","SpanId":"3103b6b9ce2224b5","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":24.2224,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.2224"}]}}
{"Timestamp":"2024-11-10T23:00:07.9945413+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"77c5704f42636cdcf7c6d03395c7e5e8","SpanId":"3103b6b9ce2224b5","Properties":{"ElapsedMilliseconds":29.2802,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N3A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3A"}}
{"Timestamp":"2024-11-10T23:00:07.9964980+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d67f4bf9554e31858ab6e951160d848c","SpanId":"ea6d9877cbaec71d","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1208","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N3B:00000001","RequestPath":"/api/Schedules/1208","ConnectionId":"0HN81K2EE3N3B"}}
{"Timestamp":"2024-11-10T23:00:07.9991792+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d67f4bf9554e31858ab6e951160d848c","SpanId":"ea6d9877cbaec71d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N3B:00000001","RequestPath":"/api/Schedules/1208","ConnectionId":"0HN81K2EE3N3B"}}
{"Timestamp":"2024-11-10T23:00:07.9998195+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d67f4bf9554e31858ab6e951160d848c","SpanId":"ea6d9877cbaec71d","Properties":{"RouteData":"{action = \"Delete\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"382033df-3051-488c-a4e1-1528ac1bf4c7","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81K2EE3N3B:00000001","RequestPath":"/api/Schedules/1208","ConnectionId":"0HN81K2EE3N3B"}}
{"Timestamp":"2024-11-10T23:00:08.0029859+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d67f4bf9554e31858ab6e951160d848c","SpanId":"ea6d9877cbaec71d","Properties":{"elapsed":"1","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"382033df-3051-488c-a4e1-1528ac1bf4c7","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81K2EE3N3B:00000001","RequestPath":"/api/Schedules/1208","ConnectionId":"0HN81K2EE3N3B"}}
{"Timestamp":"2024-11-10T23:00:08.0061144+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d67f4bf9554e31858ab6e951160d848c","SpanId":"ea6d9877cbaec71d","Properties":{"elapsed":"1","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[user_id], [s].[schedule_id], [s].[id]\r\nFROM [Schedule_User] AS [s]\r\nWHERE [s].[schedule_id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"382033df-3051-488c-a4e1-1528ac1bf4c7","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81K2EE3N3B:00000001","RequestPath":"/api/Schedules/1208","ConnectionId":"0HN81K2EE3N3B"}}
{"Timestamp":"2024-11-10T23:00:08.0135563+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d67f4bf9554e31858ab6e951160d848c","SpanId":"ea6d9877cbaec71d","Properties":{"elapsed":"4","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [Schedule_User]\r\nOUTPUT 1\r\nWHERE [schedule_id] = @p0 AND [user_id] = @p1;\r\nDELETE FROM [Schedules]\r\nOUTPUT 1\r\nWHERE [Id] = @p2;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"382033df-3051-488c-a4e1-1528ac1bf4c7","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81K2EE3N3B:00000001","RequestPath":"/api/Schedules/1208","ConnectionId":"0HN81K2EE3N3B"}}
{"Timestamp":"2024-11-10T23:00:08.0183862+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"d67f4bf9554e31858ab6e951160d848c","SpanId":"ea6d9877cbaec71d","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"382033df-3051-488c-a4e1-1528ac1bf4c7","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN81K2EE3N3B:00000001","RequestPath":"/api/Schedules/1208","ConnectionId":"0HN81K2EE3N3B"}}
{"Timestamp":"2024-11-10T23:00:08.0191422+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d67f4bf9554e31858ab6e951160d848c","SpanId":"ea6d9877cbaec71d","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","ElapsedMilliseconds":18.068,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N3B:00000001","RequestPath":"/api/Schedules/1208","ConnectionId":"0HN81K2EE3N3B"}}
{"Timestamp":"2024-11-10T23:00:08.0200545+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d67f4bf9554e31858ab6e951160d848c","SpanId":"ea6d9877cbaec71d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N3B:00000001","RequestPath":"/api/Schedules/1208","ConnectionId":"0HN81K2EE3N3B"}}
{"Timestamp":"2024-11-10T23:00:08.0207750+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d67f4bf9554e31858ab6e951160d848c","SpanId":"ea6d9877cbaec71d","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/Schedules/1208","StatusCode":200,"Elapsed":21.6304,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.6304"}]}}
{"Timestamp":"2024-11-10T23:00:08.0221030+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d67f4bf9554e31858ab6e951160d848c","SpanId":"ea6d9877cbaec71d","Properties":{"ElapsedMilliseconds":25.6277,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1208","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N3B:00000001","RequestPath":"/api/Schedules/1208","ConnectionId":"0HN81K2EE3N3B"}}
{"Timestamp":"2024-11-10T23:00:09.0600838+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1a04934f98207add5a7eeae43ae14ae3","SpanId":"b1e3bd593294378a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N3C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3C"}}
{"Timestamp":"2024-11-10T23:00:09.0629810+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1a04934f98207add5a7eeae43ae14ae3","SpanId":"b1e3bd593294378a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N3C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3C"}}
{"Timestamp":"2024-11-10T23:00:09.0640523+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1a04934f98207add5a7eeae43ae14ae3","SpanId":"b1e3bd593294378a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N3C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3C"}}
{"Timestamp":"2024-11-10T23:00:09.0713990+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1a04934f98207add5a7eeae43ae14ae3","SpanId":"b1e3bd593294378a","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N3C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3C"}}
{"Timestamp":"2024-11-10T23:00:09.0755292+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1a04934f98207add5a7eeae43ae14ae3","SpanId":"b1e3bd593294378a","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N3C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3C"}}
{"Timestamp":"2024-11-10T23:00:09.0769217+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1a04934f98207add5a7eeae43ae14ae3","SpanId":"b1e3bd593294378a","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N3C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3C"}}
{"Timestamp":"2024-11-10T23:00:09.0779752+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1a04934f98207add5a7eeae43ae14ae3","SpanId":"b1e3bd593294378a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":12.4289,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N3C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3C"}}
{"Timestamp":"2024-11-10T23:00:09.0789393+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1a04934f98207add5a7eeae43ae14ae3","SpanId":"b1e3bd593294378a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N3C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3C"}}
{"Timestamp":"2024-11-10T23:00:09.0798145+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1a04934f98207add5a7eeae43ae14ae3","SpanId":"b1e3bd593294378a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":17.0276,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.0276"}]}}
{"Timestamp":"2024-11-10T23:00:09.0818351+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1a04934f98207add5a7eeae43ae14ae3","SpanId":"b1e3bd593294378a","Properties":{"ElapsedMilliseconds":21.714,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N3C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3C"}}
{"Timestamp":"2024-11-10T23:00:09.0840527+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"55163f71eafc1d3028ac86135f8fc60f","SpanId":"bae61b784cf88cfc","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N3D:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N3D"}}
{"Timestamp":"2024-11-10T23:00:09.0862261+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"55163f71eafc1d3028ac86135f8fc60f","SpanId":"bae61b784cf88cfc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N3D:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N3D"}}
{"Timestamp":"2024-11-10T23:00:09.0868871+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"55163f71eafc1d3028ac86135f8fc60f","SpanId":"bae61b784cf88cfc","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N3D:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N3D"}}
{"Timestamp":"2024-11-10T23:00:09.0944915+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"55163f71eafc1d3028ac86135f8fc60f","SpanId":"bae61b784cf88cfc","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N3D:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N3D"}}
{"Timestamp":"2024-11-10T23:00:09.0982818+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"55163f71eafc1d3028ac86135f8fc60f","SpanId":"bae61b784cf88cfc","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N3D:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N3D"}}
{"Timestamp":"2024-11-10T23:00:09.0992543+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"55163f71eafc1d3028ac86135f8fc60f","SpanId":"bae61b784cf88cfc","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":10.4928,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N3D:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N3D"}}
{"Timestamp":"2024-11-10T23:00:09.1003927+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"55163f71eafc1d3028ac86135f8fc60f","SpanId":"bae61b784cf88cfc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N3D:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N3D"}}
{"Timestamp":"2024-11-10T23:00:09.1011584+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"55163f71eafc1d3028ac86135f8fc60f","SpanId":"bae61b784cf88cfc","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":15.0654,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.0654"}]}}
{"Timestamp":"2024-11-10T23:00:09.1024472+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"55163f71eafc1d3028ac86135f8fc60f","SpanId":"bae61b784cf88cfc","Properties":{"ElapsedMilliseconds":18.4007,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N3D:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N3D"}}
{"Timestamp":"2024-11-10T23:00:21.4910534+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3bf89045bd105a1db88382933eb6b76d","SpanId":"2532f1d76432f475","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N3E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3E"}}
{"Timestamp":"2024-11-10T23:00:21.4956965+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3bf89045bd105a1db88382933eb6b76d","SpanId":"2532f1d76432f475","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N3E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3E"}}
{"Timestamp":"2024-11-10T23:00:21.4977154+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3bf89045bd105a1db88382933eb6b76d","SpanId":"2532f1d76432f475","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N3E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3E"}}
{"Timestamp":"2024-11-10T23:00:21.5100400+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3bf89045bd105a1db88382933eb6b76d","SpanId":"2532f1d76432f475","Properties":{"elapsed":"8","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N3E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3E"}}
{"Timestamp":"2024-11-10T23:00:21.5166730+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3bf89045bd105a1db88382933eb6b76d","SpanId":"2532f1d76432f475","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N3E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3E"}}
{"Timestamp":"2024-11-10T23:00:21.5195971+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3bf89045bd105a1db88382933eb6b76d","SpanId":"2532f1d76432f475","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N3E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3E"}}
{"Timestamp":"2024-11-10T23:00:21.5205989+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3bf89045bd105a1db88382933eb6b76d","SpanId":"2532f1d76432f475","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.3396,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N3E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3E"}}
{"Timestamp":"2024-11-10T23:00:21.5215403+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3bf89045bd105a1db88382933eb6b76d","SpanId":"2532f1d76432f475","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N3E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3E"}}
{"Timestamp":"2024-11-10T23:00:21.5224095+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3bf89045bd105a1db88382933eb6b76d","SpanId":"2532f1d76432f475","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":26.7877,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.7877"}]}}
{"Timestamp":"2024-11-10T23:00:21.5236925+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3bf89045bd105a1db88382933eb6b76d","SpanId":"2532f1d76432f475","Properties":{"ElapsedMilliseconds":32.7451,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N3E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3E"}}
{"Timestamp":"2024-11-10T23:00:21.5272033+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c223baf8e248fa4e36a7e244979582b9","SpanId":"cc0517c6b77f3690","Properties":{"Protocol":"HTTP/1.1","Method":"PUT","ContentType":"application/json; charset=utf-8","ContentLength":94,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1204","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N3F:00000001","RequestPath":"/api/Schedules/1204","ConnectionId":"0HN81K2EE3N3F"}}
{"Timestamp":"2024-11-10T23:00:21.5291135+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c223baf8e248fa4e36a7e244979582b9","SpanId":"cc0517c6b77f3690","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N3F:00000001","RequestPath":"/api/Schedules/1204","ConnectionId":"0HN81K2EE3N3F"}}
{"Timestamp":"2024-11-10T23:00:21.5319646+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c223baf8e248fa4e36a7e244979582b9","SpanId":"cc0517c6b77f3690","Properties":{"RouteData":"{action = \"Update\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Update(Int32, WebCalenderAPI.Models.ScheduleVM)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8ac4e297-5611-43fc-be5c-86bdbb124478","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN81K2EE3N3F:00000001","RequestPath":"/api/Schedules/1204","ConnectionId":"0HN81K2EE3N3F"}}
{"Timestamp":"2024-11-10T23:00:21.5496626+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c223baf8e248fa4e36a7e244979582b9","SpanId":"cc0517c6b77f3690","Properties":{"elapsed":"2","parameters":"@__schedule_id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__schedule_id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8ac4e297-5611-43fc-be5c-86bdbb124478","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN81K2EE3N3F:00000001","RequestPath":"/api/Schedules/1204","ConnectionId":"0HN81K2EE3N3F"}}
{"Timestamp":"2024-11-10T23:00:21.5647446+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c223baf8e248fa4e36a7e244979582b9","SpanId":"cc0517c6b77f3690","Properties":{"elapsed":"4","parameters":"@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [Schedules] SET [FromX] = @p0, [FromY] = @p1, [Reason] = @p2, [ToX] = @p3, [ToY] = @p4\r\nOUTPUT 1\r\nWHERE [Id] = @p5;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8ac4e297-5611-43fc-be5c-86bdbb124478","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN81K2EE3N3F:00000001","RequestPath":"/api/Schedules/1204","ConnectionId":"0HN81K2EE3N3F"}}
{"Timestamp":"2024-11-10T23:00:21.5721040+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"c223baf8e248fa4e36a7e244979582b9","SpanId":"cc0517c6b77f3690","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"8ac4e297-5611-43fc-be5c-86bdbb124478","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN81K2EE3N3F:00000001","RequestPath":"/api/Schedules/1204","ConnectionId":"0HN81K2EE3N3F"}}
{"Timestamp":"2024-11-10T23:00:21.5738135+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c223baf8e248fa4e36a7e244979582b9","SpanId":"cc0517c6b77f3690","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","ElapsedMilliseconds":39.9711,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N3F:00000001","RequestPath":"/api/Schedules/1204","ConnectionId":"0HN81K2EE3N3F"}}
{"Timestamp":"2024-11-10T23:00:21.5749641+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c223baf8e248fa4e36a7e244979582b9","SpanId":"cc0517c6b77f3690","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N3F:00000001","RequestPath":"/api/Schedules/1204","ConnectionId":"0HN81K2EE3N3F"}}
{"Timestamp":"2024-11-10T23:00:21.5761326+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c223baf8e248fa4e36a7e244979582b9","SpanId":"cc0517c6b77f3690","Properties":{"RequestMethod":"PUT","RequestPath":"/api/Schedules/1204","StatusCode":200,"Elapsed":47.0801,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"47.0801"}]}}
{"Timestamp":"2024-11-10T23:00:21.5778615+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c223baf8e248fa4e36a7e244979582b9","SpanId":"cc0517c6b77f3690","Properties":{"ElapsedMilliseconds":50.7427,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"PUT","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1204","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N3F:00000001","RequestPath":"/api/Schedules/1204","ConnectionId":"0HN81K2EE3N3F"}}
{"Timestamp":"2024-11-10T23:00:22.3606423+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f4417b06ce8253faa706cdea87678fb5","SpanId":"efb02043a283240b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N3G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3G"}}
{"Timestamp":"2024-11-10T23:00:22.3623225+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f4417b06ce8253faa706cdea87678fb5","SpanId":"efb02043a283240b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N3G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3G"}}
{"Timestamp":"2024-11-10T23:00:22.3629436+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f4417b06ce8253faa706cdea87678fb5","SpanId":"efb02043a283240b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N3G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3G"}}
{"Timestamp":"2024-11-10T23:00:22.3702141+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f4417b06ce8253faa706cdea87678fb5","SpanId":"efb02043a283240b","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N3G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3G"}}
{"Timestamp":"2024-11-10T23:00:22.3746622+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f4417b06ce8253faa706cdea87678fb5","SpanId":"efb02043a283240b","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N3G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3G"}}
{"Timestamp":"2024-11-10T23:00:22.3768681+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f4417b06ce8253faa706cdea87678fb5","SpanId":"efb02043a283240b","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N3G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3G"}}
{"Timestamp":"2024-11-10T23:00:22.3775954+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f4417b06ce8253faa706cdea87678fb5","SpanId":"efb02043a283240b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.325,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N3G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3G"}}
{"Timestamp":"2024-11-10T23:00:22.3784301+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f4417b06ce8253faa706cdea87678fb5","SpanId":"efb02043a283240b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N3G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3G"}}
{"Timestamp":"2024-11-10T23:00:22.3790602+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f4417b06ce8253faa706cdea87678fb5","SpanId":"efb02043a283240b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":16.8092,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.8092"}]}}
{"Timestamp":"2024-11-10T23:00:22.3801519+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f4417b06ce8253faa706cdea87678fb5","SpanId":"efb02043a283240b","Properties":{"ElapsedMilliseconds":19.5283,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N3G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3G"}}
{"Timestamp":"2024-11-10T23:00:22.3854643+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b61d99038b77afaf9d902d7879368d12","SpanId":"8f1a347456d7e6de","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N3H:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N3H"}}
{"Timestamp":"2024-11-10T23:00:22.3894207+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b61d99038b77afaf9d902d7879368d12","SpanId":"8f1a347456d7e6de","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N3H:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N3H"}}
{"Timestamp":"2024-11-10T23:00:22.3908321+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b61d99038b77afaf9d902d7879368d12","SpanId":"8f1a347456d7e6de","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N3H:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N3H"}}
{"Timestamp":"2024-11-10T23:00:22.3982048+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b61d99038b77afaf9d902d7879368d12","SpanId":"8f1a347456d7e6de","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N3H:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N3H"}}
{"Timestamp":"2024-11-10T23:00:22.4011195+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b61d99038b77afaf9d902d7879368d12","SpanId":"8f1a347456d7e6de","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f4b2d0d2-3d9f-4bec-a6df-749cdbe30930","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N3H:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N3H"}}
{"Timestamp":"2024-11-10T23:00:22.4027279+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b61d99038b77afaf9d902d7879368d12","SpanId":"8f1a347456d7e6de","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":10.25,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N3H:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N3H"}}
{"Timestamp":"2024-11-10T23:00:22.4036324+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b61d99038b77afaf9d902d7879368d12","SpanId":"8f1a347456d7e6de","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N3H:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N3H"}}
{"Timestamp":"2024-11-10T23:00:22.4045482+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b61d99038b77afaf9d902d7879368d12","SpanId":"8f1a347456d7e6de","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":15.2822,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.2822"}]}}
{"Timestamp":"2024-11-10T23:00:22.4065422+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b61d99038b77afaf9d902d7879368d12","SpanId":"8f1a347456d7e6de","Properties":{"ElapsedMilliseconds":21.1792,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N3H:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN81K2EE3N3H"}}
{"Timestamp":"2024-11-10T23:00:25.3872297+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a7f8a849f237030c494df933ca5bebf6","SpanId":"3ca186d2d539f86c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N3I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3I"}}
{"Timestamp":"2024-11-10T23:00:25.3903618+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a7f8a849f237030c494df933ca5bebf6","SpanId":"3ca186d2d539f86c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N3I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3I"}}
{"Timestamp":"2024-11-10T23:00:25.3911486+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a7f8a849f237030c494df933ca5bebf6","SpanId":"3ca186d2d539f86c","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N3I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3I"}}
{"Timestamp":"2024-11-10T23:00:25.3987969+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a7f8a849f237030c494df933ca5bebf6","SpanId":"3ca186d2d539f86c","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N3I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3I"}}
{"Timestamp":"2024-11-10T23:00:25.4068724+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a7f8a849f237030c494df933ca5bebf6","SpanId":"3ca186d2d539f86c","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N3I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3I"}}
{"Timestamp":"2024-11-10T23:00:25.4104585+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a7f8a849f237030c494df933ca5bebf6","SpanId":"3ca186d2d539f86c","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N3I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3I"}}
{"Timestamp":"2024-11-10T23:00:25.4116293+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a7f8a849f237030c494df933ca5bebf6","SpanId":"3ca186d2d539f86c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":18.976,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N3I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3I"}}
{"Timestamp":"2024-11-10T23:00:25.4126625+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a7f8a849f237030c494df933ca5bebf6","SpanId":"3ca186d2d539f86c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N3I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3I"}}
{"Timestamp":"2024-11-10T23:00:25.4134610+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a7f8a849f237030c494df933ca5bebf6","SpanId":"3ca186d2d539f86c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":23.1512,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.1512"}]}}
{"Timestamp":"2024-11-10T23:00:25.4148359+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a7f8a849f237030c494df933ca5bebf6","SpanId":"3ca186d2d539f86c","Properties":{"ElapsedMilliseconds":27.6445,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N3I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3I"}}
{"Timestamp":"2024-11-10T23:00:25.4185787+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1432fb8eef9b9d66e71ece41fac9114f","SpanId":"23ae12baad2eef7b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-06&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N3J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N3J"}}
{"Timestamp":"2024-11-10T23:00:25.4217303+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1432fb8eef9b9d66e71ece41fac9114f","SpanId":"23ae12baad2eef7b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N3J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N3J"}}
{"Timestamp":"2024-11-10T23:00:25.4227391+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1432fb8eef9b9d66e71ece41fac9114f","SpanId":"23ae12baad2eef7b","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N3J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N3J"}}
{"Timestamp":"2024-11-10T23:00:25.4295082+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1432fb8eef9b9d66e71ece41fac9114f","SpanId":"23ae12baad2eef7b","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N3J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N3J"}}
{"Timestamp":"2024-11-10T23:00:25.4316926+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1432fb8eef9b9d66e71ece41fac9114f","SpanId":"23ae12baad2eef7b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"84147575-dce6-4452-82f1-730d5151bef1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN81K2EE3N3J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N3J"}}
{"Timestamp":"2024-11-10T23:00:25.4329207+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1432fb8eef9b9d66e71ece41fac9114f","SpanId":"23ae12baad2eef7b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.3974,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N3J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N3J"}}
{"Timestamp":"2024-11-10T23:00:25.4337297+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1432fb8eef9b9d66e71ece41fac9114f","SpanId":"23ae12baad2eef7b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N3J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N3J"}}
{"Timestamp":"2024-11-10T23:00:25.4343691+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1432fb8eef9b9d66e71ece41fac9114f","SpanId":"23ae12baad2eef7b","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":13.2557,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.2557"}]}}
{"Timestamp":"2024-11-10T23:00:25.4359666+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1432fb8eef9b9d66e71ece41fac9114f","SpanId":"23ae12baad2eef7b","Properties":{"ElapsedMilliseconds":17.3931,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-06&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N3J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN81K2EE3N3J"}}
{"Timestamp":"2024-11-10T23:00:25.5786126+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"722df08f73e700d8641bd7c209d27725","SpanId":"afbd940b9572a361","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N3K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3K"}}
{"Timestamp":"2024-11-10T23:00:25.5813890+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"722df08f73e700d8641bd7c209d27725","SpanId":"afbd940b9572a361","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N3K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3K"}}
{"Timestamp":"2024-11-10T23:00:25.5828790+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"722df08f73e700d8641bd7c209d27725","SpanId":"afbd940b9572a361","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N3K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3K"}}
{"Timestamp":"2024-11-10T23:00:25.5832394+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"25d4e1a869cf492199fa2651f79c2980","SpanId":"86f86577a5480225","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N3L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3L"}}
{"Timestamp":"2024-11-10T23:00:25.5875636+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"25d4e1a869cf492199fa2651f79c2980","SpanId":"86f86577a5480225","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N3L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3L"}}
{"Timestamp":"2024-11-10T23:00:25.5893998+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"25d4e1a869cf492199fa2651f79c2980","SpanId":"86f86577a5480225","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N3L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3L"}}
{"Timestamp":"2024-11-10T23:00:25.5925368+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"722df08f73e700d8641bd7c209d27725","SpanId":"afbd940b9572a361","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N3K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3K"}}
{"Timestamp":"2024-11-10T23:00:25.5929474+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"25d4e1a869cf492199fa2651f79c2980","SpanId":"86f86577a5480225","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N3L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3L"}}
{"Timestamp":"2024-11-10T23:00:25.5975732+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"722df08f73e700d8641bd7c209d27725","SpanId":"afbd940b9572a361","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N3K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3K"}}
{"Timestamp":"2024-11-10T23:00:25.5989939+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"25d4e1a869cf492199fa2651f79c2980","SpanId":"86f86577a5480225","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N3L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3L"}}
{"Timestamp":"2024-11-10T23:00:25.6152378+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"25d4e1a869cf492199fa2651f79c2980","SpanId":"86f86577a5480225","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N3L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3L"}}
{"Timestamp":"2024-11-10T23:00:25.6152378+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"722df08f73e700d8641bd7c209d27725","SpanId":"afbd940b9572a361","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"98f2f6ef-4e2d-4c07-881d-e1cb2e569eeb","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K2EE3N3K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3K"}}
{"Timestamp":"2024-11-10T23:00:25.6165952+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"25d4e1a869cf492199fa2651f79c2980","SpanId":"86f86577a5480225","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":25.1865,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N3L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3L"}}
{"Timestamp":"2024-11-10T23:00:25.6185594+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"722df08f73e700d8641bd7c209d27725","SpanId":"afbd940b9572a361","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":34.0562,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K2EE3N3K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3K"}}
{"Timestamp":"2024-11-10T23:00:25.6213180+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"25d4e1a869cf492199fa2651f79c2980","SpanId":"86f86577a5480225","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N3L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3L"}}
{"Timestamp":"2024-11-10T23:00:25.6222817+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"722df08f73e700d8641bd7c209d27725","SpanId":"afbd940b9572a361","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K2EE3N3K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3K"}}
{"Timestamp":"2024-11-10T23:00:25.6231858+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"25d4e1a869cf492199fa2651f79c2980","SpanId":"86f86577a5480225","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":35.7445,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.7445"}]}}
{"Timestamp":"2024-11-10T23:00:25.6262541+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"722df08f73e700d8641bd7c209d27725","SpanId":"afbd940b9572a361","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":44.9793,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"44.9793"}]}}
{"Timestamp":"2024-11-10T23:00:25.6286261+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"25d4e1a869cf492199fa2651f79c2980","SpanId":"86f86577a5480225","Properties":{"ElapsedMilliseconds":45.3972,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N3L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3L"}}
{"Timestamp":"2024-11-10T23:00:25.6317130+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"722df08f73e700d8641bd7c209d27725","SpanId":"afbd940b9572a361","Properties":{"ElapsedMilliseconds":53.106,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K2EE3N3K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K2EE3N3K"}}
{"Timestamp":"2024-11-10T23:07:24.2500638+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-10T23:07:24.5939449+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T23:07:24.6513717+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T23:07:24.6545241+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T23:07:24.6554884+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T23:07:25.2071736+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"58d64a38b3afc220bc5311e11087b32b","SpanId":"7d072b215ef9a23e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K7216AGM:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN81K7216AGM"}}
{"Timestamp":"2024-11-10T23:07:25.5429555+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"58d64a38b3afc220bc5311e11087b32b","SpanId":"7d072b215ef9a23e","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":97.3063,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"97.3063"}]}}
{"Timestamp":"2024-11-10T23:07:25.5447025+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"81da8ba83b6a0f2500af942d02656aec","SpanId":"e8dea6b21d16ba6e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K7216AGN:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN81K7216AGN"}}
{"Timestamp":"2024-11-10T23:07:25.5499985+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"55a6e14aa793a2fd52dc4ba56e56dab4","SpanId":"93fc2f4e433c1e37","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K7216AGO:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN81K7216AGO"}}
{"Timestamp":"2024-11-10T23:07:25.5617048+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"58d64a38b3afc220bc5311e11087b32b","SpanId":"7d072b215ef9a23e","Properties":{"ElapsedMilliseconds":363.5032,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K7216AGM:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN81K7216AGM"}}
{"Timestamp":"2024-11-10T23:07:25.5625825+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"81da8ba83b6a0f2500af942d02656aec","SpanId":"e8dea6b21d16ba6e","Properties":{"ElapsedMilliseconds":17.4782,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K7216AGN:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN81K7216AGN"}}
{"Timestamp":"2024-11-10T23:07:25.9229373+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"55a6e14aa793a2fd52dc4ba56e56dab4","SpanId":"93fc2f4e433c1e37","Properties":{"ElapsedMilliseconds":372.9949,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K7216AGO:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN81K7216AGO"}}
{"Timestamp":"2024-11-10T23:07:25.9604749+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"98ba2367139726c7525d445f11e19369","SpanId":"001b790b2b7bb80b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K7216AGO:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN81K7216AGO"}}
{"Timestamp":"2024-11-10T23:07:26.1775280+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"98ba2367139726c7525d445f11e19369","SpanId":"001b790b2b7bb80b","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":212.9618,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"212.9618"}]}}
{"Timestamp":"2024-11-10T23:07:26.1868071+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"98ba2367139726c7525d445f11e19369","SpanId":"001b790b2b7bb80b","Properties":{"ElapsedMilliseconds":226.3361,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K7216AGO:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN81K7216AGO"}}
{"Timestamp":"2024-11-10T23:07:39.6659698+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"830842350e84f11e9017cf6840566370","SpanId":"53d6528b2d189336","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":48,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K7216AGP:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81K7216AGP"}}
{"Timestamp":"2024-11-10T23:07:39.6808816+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"830842350e84f11e9017cf6840566370","SpanId":"53d6528b2d189336","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN81K7216AGP:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81K7216AGP"}}
{"Timestamp":"2024-11-10T23:07:39.7948379+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"830842350e84f11e9017cf6840566370","SpanId":"53d6528b2d189336","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K7216AGP:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81K7216AGP"}}
{"Timestamp":"2024-11-10T23:07:39.8562511+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"830842350e84f11e9017cf6840566370","SpanId":"53d6528b2d189336","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"69e5a34d-1712-4580-9550-b04a0d25afa8","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81K7216AGP:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81K7216AGP"}}
{"Timestamp":"2024-11-10T23:07:42.3164133+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"830842350e84f11e9017cf6840566370","SpanId":"53d6528b2d189336","Properties":{"elapsed":"65","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"69e5a34d-1712-4580-9550-b04a0d25afa8","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81K7216AGP:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81K7216AGP"}}
{"Timestamp":"2024-11-10T23:07:42.7218715+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"830842350e84f11e9017cf6840566370","SpanId":"53d6528b2d189336","Properties":{"elapsed":"44","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"69e5a34d-1712-4580-9550-b04a0d25afa8","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81K7216AGP:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81K7216AGP"}}
{"Timestamp":"2024-11-10T23:07:42.7607663+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"830842350e84f11e9017cf6840566370","SpanId":"53d6528b2d189336","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"69e5a34d-1712-4580-9550-b04a0d25afa8","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81K7216AGP:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81K7216AGP"}}
{"Timestamp":"2024-11-10T23:07:42.7741331+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"830842350e84f11e9017cf6840566370","SpanId":"53d6528b2d189336","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":2910.0678,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K7216AGP:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81K7216AGP"}}
{"Timestamp":"2024-11-10T23:07:42.7770123+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"830842350e84f11e9017cf6840566370","SpanId":"53d6528b2d189336","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K7216AGP:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81K7216AGP"}}
{"Timestamp":"2024-11-10T23:07:42.7806630+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"830842350e84f11e9017cf6840566370","SpanId":"53d6528b2d189336","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":3106.7299,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"3106.7299"}]}}
{"Timestamp":"2024-11-10T23:07:42.8067408+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"830842350e84f11e9017cf6840566370","SpanId":"53d6528b2d189336","Properties":{"ElapsedMilliseconds":3141.0853,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K7216AGP:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81K7216AGP"}}
{"Timestamp":"2024-11-10T23:07:59.9438049+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9d10139929e8ca259be9cf695ce5b7f4","SpanId":"c9345cb27595070b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K7216AGQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K7216AGQ"}}
{"Timestamp":"2024-11-10T23:07:59.9528116+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9d10139929e8ca259be9cf695ce5b7f4","SpanId":"c9345cb27595070b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K7216AGQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K7216AGQ"}}
{"Timestamp":"2024-11-10T23:07:59.9675160+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9d10139929e8ca259be9cf695ce5b7f4","SpanId":"c9345cb27595070b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"468d8658-3cce-47cf-ac07-0555ce77941e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K7216AGQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K7216AGQ"}}
{"Timestamp":"2024-11-10T23:08:10.9659714+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9d10139929e8ca259be9cf695ce5b7f4","SpanId":"c9345cb27595070b","Properties":{"elapsed":"14","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"468d8658-3cce-47cf-ac07-0555ce77941e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K7216AGQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K7216AGQ"}}
{"Timestamp":"2024-11-10T23:09:45.7849807+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-10T23:09:46.0369687+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T23:09:46.0911700+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T23:09:46.0937980+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T23:09:46.0951435+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T23:09:46.5361852+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"721ebe784bd18d404af14ffa54aa8b2b","SpanId":"e5f5e5c02167df20","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K8C59KDT:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN81K8C59KDT"}}
{"Timestamp":"2024-11-10T23:09:46.8933615+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"721ebe784bd18d404af14ffa54aa8b2b","SpanId":"e5f5e5c02167df20","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":107.8142,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"107.8142"}]}}
{"Timestamp":"2024-11-10T23:09:46.9212910+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"47b4ec0c38d66147e4d1f35258a4a124","SpanId":"4706ebd61ab1c2b4","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K8C59KDU:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN81K8C59KDU"}}
{"Timestamp":"2024-11-10T23:09:46.9216617+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"48c563a47b6ee3293c54062a9864211b","SpanId":"20bc0488e1f20981","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K8C59KDV:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN81K8C59KDV"}}
{"Timestamp":"2024-11-10T23:09:46.9401793+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"47b4ec0c38d66147e4d1f35258a4a124","SpanId":"4706ebd61ab1c2b4","Properties":{"ElapsedMilliseconds":21.0815,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K8C59KDU:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN81K8C59KDU"}}
{"Timestamp":"2024-11-10T23:09:46.9401793+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"721ebe784bd18d404af14ffa54aa8b2b","SpanId":"e5f5e5c02167df20","Properties":{"ElapsedMilliseconds":421.6453,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K8C59KDT:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN81K8C59KDT"}}
{"Timestamp":"2024-11-10T23:09:46.9874495+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"48c563a47b6ee3293c54062a9864211b","SpanId":"20bc0488e1f20981","Properties":{"ElapsedMilliseconds":65.8007,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K8C59KDV:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN81K8C59KDV"}}
{"Timestamp":"2024-11-10T23:09:47.0366239+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2c05bc00a16b410928403bc6cf04377c","SpanId":"0cc8fe7b19edf9c7","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K8C59KDV:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN81K8C59KDV"}}
{"Timestamp":"2024-11-10T23:09:47.1914688+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2c05bc00a16b410928403bc6cf04377c","SpanId":"0cc8fe7b19edf9c7","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":150.0572,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"150.0572"}]}}
{"Timestamp":"2024-11-10T23:09:47.1935411+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2c05bc00a16b410928403bc6cf04377c","SpanId":"0cc8fe7b19edf9c7","Properties":{"ElapsedMilliseconds":157.0064,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K8C59KDV:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN81K8C59KDV"}}
{"Timestamp":"2024-11-10T23:09:59.5472226+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"700f44cc4495a3cafe35aa3040f42e33","SpanId":"b75affa5958c7bd8","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":48,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K8C59KE0:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81K8C59KE0"}}
{"Timestamp":"2024-11-10T23:09:59.5748561+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"700f44cc4495a3cafe35aa3040f42e33","SpanId":"b75affa5958c7bd8","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN81K8C59KE0:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81K8C59KE0"}}
{"Timestamp":"2024-11-10T23:09:59.6762935+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"700f44cc4495a3cafe35aa3040f42e33","SpanId":"b75affa5958c7bd8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K8C59KE0:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81K8C59KE0"}}
{"Timestamp":"2024-11-10T23:09:59.7240479+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"700f44cc4495a3cafe35aa3040f42e33","SpanId":"b75affa5958c7bd8","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"df586028-0c54-47b3-8124-f76f46bd38ec","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81K8C59KE0:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81K8C59KE0"}}
{"Timestamp":"2024-11-10T23:10:01.6200854+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"700f44cc4495a3cafe35aa3040f42e33","SpanId":"b75affa5958c7bd8","Properties":{"elapsed":"59","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"df586028-0c54-47b3-8124-f76f46bd38ec","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81K8C59KE0:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81K8C59KE0"}}
{"Timestamp":"2024-11-10T23:10:02.1169527+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"700f44cc4495a3cafe35aa3040f42e33","SpanId":"b75affa5958c7bd8","Properties":{"elapsed":"34","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"df586028-0c54-47b3-8124-f76f46bd38ec","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81K8C59KE0:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81K8C59KE0"}}
{"Timestamp":"2024-11-10T23:10:02.1615999+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"700f44cc4495a3cafe35aa3040f42e33","SpanId":"b75affa5958c7bd8","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"df586028-0c54-47b3-8124-f76f46bd38ec","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81K8C59KE0:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81K8C59KE0"}}
{"Timestamp":"2024-11-10T23:10:02.1713708+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"700f44cc4495a3cafe35aa3040f42e33","SpanId":"b75affa5958c7bd8","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":2442.1324,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81K8C59KE0:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81K8C59KE0"}}
{"Timestamp":"2024-11-10T23:10:02.1750832+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"700f44cc4495a3cafe35aa3040f42e33","SpanId":"b75affa5958c7bd8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K8C59KE0:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81K8C59KE0"}}
{"Timestamp":"2024-11-10T23:10:02.1779400+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"700f44cc4495a3cafe35aa3040f42e33","SpanId":"b75affa5958c7bd8","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":2611.8618,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2611.8618"}]}}
{"Timestamp":"2024-11-10T23:10:02.1936055+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"700f44cc4495a3cafe35aa3040f42e33","SpanId":"b75affa5958c7bd8","Properties":{"ElapsedMilliseconds":2646.5237,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K8C59KE0:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81K8C59KE0"}}
{"Timestamp":"2024-11-10T23:10:22.6571689+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9c92ca282646285c6408a6892a107bdb","SpanId":"c42d9beda0d37744","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81K8C59KE1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K8C59KE1"}}
{"Timestamp":"2024-11-10T23:10:22.6637011+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9c92ca282646285c6408a6892a107bdb","SpanId":"c42d9beda0d37744","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81K8C59KE1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K8C59KE1"}}
{"Timestamp":"2024-11-10T23:10:22.6743925+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9c92ca282646285c6408a6892a107bdb","SpanId":"c42d9beda0d37744","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"70a7cf0c-be55-4b7d-b1e2-4abca0e7ab7c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K8C59KE1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K8C59KE1"}}
{"Timestamp":"2024-11-10T23:10:28.1026806+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9c92ca282646285c6408a6892a107bdb","SpanId":"c42d9beda0d37744","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"70a7cf0c-be55-4b7d-b1e2-4abca0e7ab7c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81K8C59KE1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81K8C59KE1"}}
{"Timestamp":"2024-11-10T23:14:08.6047460+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-10T23:14:09.0011053+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T23:14:09.0520299+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T23:14:09.0537394+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T23:14:09.0546361+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T23:14:09.6267172+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"01a7bc54c41a616dca6542a3b68ecfae","SpanId":"8928fae52927fbc4","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81KAQJ3Q8F:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN81KAQJ3Q8F"}}
{"Timestamp":"2024-11-10T23:14:09.9417858+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"01a7bc54c41a616dca6542a3b68ecfae","SpanId":"8928fae52927fbc4","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":88.6489,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"88.6489"}]}}
{"Timestamp":"2024-11-10T23:14:09.9486254+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0a71f6d806ca0423ad7e00d9e753f4f9","SpanId":"25e7a5cf347417c5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81KAQJ3Q8G:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN81KAQJ3Q8G"}}
{"Timestamp":"2024-11-10T23:14:09.9542516+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"86f303402d3b69de609b6ce00382a0ca","SpanId":"7f1afce2ecc3651a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81KAQJ3Q8H:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN81KAQJ3Q8H"}}
{"Timestamp":"2024-11-10T23:14:09.9648060+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0a71f6d806ca0423ad7e00d9e753f4f9","SpanId":"25e7a5cf347417c5","Properties":{"ElapsedMilliseconds":16.356,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81KAQJ3Q8G:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN81KAQJ3Q8G"}}
{"Timestamp":"2024-11-10T23:14:09.9648060+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"01a7bc54c41a616dca6542a3b68ecfae","SpanId":"8928fae52927fbc4","Properties":{"ElapsedMilliseconds":351.7492,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81KAQJ3Q8F:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN81KAQJ3Q8F"}}
{"Timestamp":"2024-11-10T23:14:10.0110656+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"86f303402d3b69de609b6ce00382a0ca","SpanId":"7f1afce2ecc3651a","Properties":{"ElapsedMilliseconds":56.7707,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81KAQJ3Q8H:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN81KAQJ3Q8H"}}
{"Timestamp":"2024-11-10T23:14:10.0566431+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"36792ac245f0d8e8f574b25ef50cddf8","SpanId":"62b3c5624854c0fa","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81KAQJ3Q8H:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN81KAQJ3Q8H"}}
{"Timestamp":"2024-11-10T23:14:10.1988309+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"36792ac245f0d8e8f574b25ef50cddf8","SpanId":"62b3c5624854c0fa","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":139.7301,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"139.7301"}]}}
{"Timestamp":"2024-11-10T23:14:10.2012192+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"36792ac245f0d8e8f574b25ef50cddf8","SpanId":"62b3c5624854c0fa","Properties":{"ElapsedMilliseconds":144.5723,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81KAQJ3Q8H:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN81KAQJ3Q8H"}}
{"Timestamp":"2024-11-10T23:14:22.1400671+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d3f83005ad44741b59c4436dc04ef971","SpanId":"5a54aace70596d7b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":48,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81KAQJ3Q8I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81KAQJ3Q8I"}}
{"Timestamp":"2024-11-10T23:14:22.1584856+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"d3f83005ad44741b59c4436dc04ef971","SpanId":"5a54aace70596d7b","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN81KAQJ3Q8I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81KAQJ3Q8I"}}
{"Timestamp":"2024-11-10T23:14:22.2500267+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d3f83005ad44741b59c4436dc04ef971","SpanId":"5a54aace70596d7b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81KAQJ3Q8I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81KAQJ3Q8I"}}
{"Timestamp":"2024-11-10T23:14:22.2900255+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d3f83005ad44741b59c4436dc04ef971","SpanId":"5a54aace70596d7b","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"029eba59-6162-4dc5-87b6-0a11c7413f37","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81KAQJ3Q8I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81KAQJ3Q8I"}}
{"Timestamp":"2024-11-10T23:14:24.1320259+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d3f83005ad44741b59c4436dc04ef971","SpanId":"5a54aace70596d7b","Properties":{"elapsed":"54","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"029eba59-6162-4dc5-87b6-0a11c7413f37","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81KAQJ3Q8I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81KAQJ3Q8I"}}
{"Timestamp":"2024-11-10T23:14:24.5145007+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d3f83005ad44741b59c4436dc04ef971","SpanId":"5a54aace70596d7b","Properties":{"elapsed":"36","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"029eba59-6162-4dc5-87b6-0a11c7413f37","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81KAQJ3Q8I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81KAQJ3Q8I"}}
{"Timestamp":"2024-11-10T23:14:24.5530919+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d3f83005ad44741b59c4436dc04ef971","SpanId":"5a54aace70596d7b","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"029eba59-6162-4dc5-87b6-0a11c7413f37","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81KAQJ3Q8I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81KAQJ3Q8I"}}
{"Timestamp":"2024-11-10T23:14:24.5661352+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d3f83005ad44741b59c4436dc04ef971","SpanId":"5a54aace70596d7b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":2269.6167,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81KAQJ3Q8I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81KAQJ3Q8I"}}
{"Timestamp":"2024-11-10T23:14:24.5685872+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d3f83005ad44741b59c4436dc04ef971","SpanId":"5a54aace70596d7b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81KAQJ3Q8I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81KAQJ3Q8I"}}
{"Timestamp":"2024-11-10T23:14:24.5714437+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d3f83005ad44741b59c4436dc04ef971","SpanId":"5a54aace70596d7b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":2419.9872,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2419.9872"}]}}
{"Timestamp":"2024-11-10T23:14:24.5844467+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d3f83005ad44741b59c4436dc04ef971","SpanId":"5a54aace70596d7b","Properties":{"ElapsedMilliseconds":2444.5732,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81KAQJ3Q8I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81KAQJ3Q8I"}}
{"Timestamp":"2024-11-10T23:14:36.6047884+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e1548c4387828667c083d9dedd373de9","SpanId":"02c3547fabb7bcfd","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81KAQJ3Q8J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81KAQJ3Q8J"}}
{"Timestamp":"2024-11-10T23:14:36.6123535+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e1548c4387828667c083d9dedd373de9","SpanId":"02c3547fabb7bcfd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81KAQJ3Q8J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81KAQJ3Q8J"}}
{"Timestamp":"2024-11-10T23:14:36.6189591+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e1548c4387828667c083d9dedd373de9","SpanId":"02c3547fabb7bcfd","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9df69c95-3fb1-427e-afa8-959cfa560567","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81KAQJ3Q8J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81KAQJ3Q8J"}}
{"Timestamp":"2024-11-10T23:14:42.4568768+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e1548c4387828667c083d9dedd373de9","SpanId":"02c3547fabb7bcfd","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9df69c95-3fb1-427e-afa8-959cfa560567","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81KAQJ3Q8J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81KAQJ3Q8J"}}
{"Timestamp":"2024-11-10T23:19:27.0022132+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-10T23:19:27.5211151+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T23:19:27.6569165+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T23:19:27.6617204+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T23:19:27.6627181+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-10T23:19:28.2178286+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e405408be68f5748f5cb6fd9e04294ed","SpanId":"dd31bdc8fec2deca","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81KDPINR5A:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN81KDPINR5A"}}
{"Timestamp":"2024-11-10T23:19:28.5075201+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e405408be68f5748f5cb6fd9e04294ed","SpanId":"dd31bdc8fec2deca","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":92.4738,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"92.4738"}]}}
{"Timestamp":"2024-11-10T23:19:28.5334717+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8c1232b42ab86e2ee2c1aacd933cb1bd","SpanId":"f06a0582f825b52b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81KDPINR5C:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN81KDPINR5C"}}
{"Timestamp":"2024-11-10T23:19:28.5334719+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1a1475f38e12f91115cd14ddeb139dde","SpanId":"90be8663e5914b8b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81KDPINR5B:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN81KDPINR5B"}}
{"Timestamp":"2024-11-10T23:19:28.5457156+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e405408be68f5748f5cb6fd9e04294ed","SpanId":"dd31bdc8fec2deca","Properties":{"ElapsedMilliseconds":340.0131,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81KDPINR5A:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN81KDPINR5A"}}
{"Timestamp":"2024-11-10T23:19:28.5457258+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1a1475f38e12f91115cd14ddeb139dde","SpanId":"90be8663e5914b8b","Properties":{"ElapsedMilliseconds":17.4887,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81KDPINR5B:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN81KDPINR5B"}}
{"Timestamp":"2024-11-10T23:19:28.5818220+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8c1232b42ab86e2ee2c1aacd933cb1bd","SpanId":"f06a0582f825b52b","Properties":{"ElapsedMilliseconds":48.4491,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81KDPINR5C:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN81KDPINR5C"}}
{"Timestamp":"2024-11-10T23:19:28.6205893+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fb20bfe33a78c19cffd83d5eb757bfbe","SpanId":"57d846710579dc20","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81KDPINR5C:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN81KDPINR5C"}}
{"Timestamp":"2024-11-10T23:19:28.8127384+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fb20bfe33a78c19cffd83d5eb757bfbe","SpanId":"57d846710579dc20","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":188.2889,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"188.2889"}]}}
{"Timestamp":"2024-11-10T23:19:28.8152072+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fb20bfe33a78c19cffd83d5eb757bfbe","SpanId":"57d846710579dc20","Properties":{"ElapsedMilliseconds":194.6746,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81KDPINR5C:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN81KDPINR5C"}}
{"Timestamp":"2024-11-10T23:19:40.2790675+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e53e336251955b2350b1aa82c14466dd","SpanId":"a77cd45005e31986","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":48,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81KDPINR5D:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81KDPINR5D"}}
{"Timestamp":"2024-11-10T23:19:40.2980020+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"e53e336251955b2350b1aa82c14466dd","SpanId":"a77cd45005e31986","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN81KDPINR5D:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81KDPINR5D"}}
{"Timestamp":"2024-11-10T23:19:40.3927708+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e53e336251955b2350b1aa82c14466dd","SpanId":"a77cd45005e31986","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81KDPINR5D:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81KDPINR5D"}}
{"Timestamp":"2024-11-10T23:19:40.4312295+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e53e336251955b2350b1aa82c14466dd","SpanId":"a77cd45005e31986","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"73c0e5e8-4a45-4287-b973-67319fe59c95","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81KDPINR5D:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81KDPINR5D"}}
{"Timestamp":"2024-11-10T23:19:42.1052665+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e53e336251955b2350b1aa82c14466dd","SpanId":"a77cd45005e31986","Properties":{"elapsed":"49","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73c0e5e8-4a45-4287-b973-67319fe59c95","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81KDPINR5D:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81KDPINR5D"}}
{"Timestamp":"2024-11-10T23:19:42.4400235+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e53e336251955b2350b1aa82c14466dd","SpanId":"a77cd45005e31986","Properties":{"elapsed":"29","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73c0e5e8-4a45-4287-b973-67319fe59c95","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81KDPINR5D:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81KDPINR5D"}}
{"Timestamp":"2024-11-10T23:19:42.4754144+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e53e336251955b2350b1aa82c14466dd","SpanId":"a77cd45005e31986","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"73c0e5e8-4a45-4287-b973-67319fe59c95","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN81KDPINR5D:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81KDPINR5D"}}
{"Timestamp":"2024-11-10T23:19:42.4855008+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e53e336251955b2350b1aa82c14466dd","SpanId":"a77cd45005e31986","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":2049.4772,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81KDPINR5D:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81KDPINR5D"}}
{"Timestamp":"2024-11-10T23:19:42.4874297+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e53e336251955b2350b1aa82c14466dd","SpanId":"a77cd45005e31986","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81KDPINR5D:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81KDPINR5D"}}
{"Timestamp":"2024-11-10T23:19:42.4899769+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e53e336251955b2350b1aa82c14466dd","SpanId":"a77cd45005e31986","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":2199.9719,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2199.9719"}]}}
{"Timestamp":"2024-11-10T23:19:42.5021815+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e53e336251955b2350b1aa82c14466dd","SpanId":"a77cd45005e31986","Properties":{"ElapsedMilliseconds":2223.3005,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81KDPINR5D:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN81KDPINR5D"}}
{"Timestamp":"2024-11-10T23:19:55.0217715+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"15b705d0fec7910b3304990761770a06","SpanId":"721ce46c2dd648e7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81KDPINR5E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81KDPINR5E"}}
{"Timestamp":"2024-11-10T23:19:55.0279590+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"15b705d0fec7910b3304990761770a06","SpanId":"721ce46c2dd648e7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81KDPINR5E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81KDPINR5E"}}
{"Timestamp":"2024-11-10T23:19:55.0350418+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"15b705d0fec7910b3304990761770a06","SpanId":"721ce46c2dd648e7","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a48f222e-1a60-4106-ab42-0847c606f2c3","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81KDPINR5E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81KDPINR5E"}}
{"Timestamp":"2024-11-10T23:19:59.5967306+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"15b705d0fec7910b3304990761770a06","SpanId":"721ce46c2dd648e7","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a48f222e-1a60-4106-ab42-0847c606f2c3","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81KDPINR5E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81KDPINR5E"}}
{"Timestamp":"2024-11-10T23:20:19.7037969+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"15b705d0fec7910b3304990761770a06","SpanId":"721ce46c2dd648e7","Properties":{"elapsed":"30","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a48f222e-1a60-4106-ab42-0847c606f2c3","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81KDPINR5E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81KDPINR5E"}}
{"Timestamp":"2024-11-10T23:20:33.2442040+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"15b705d0fec7910b3304990761770a06","SpanId":"721ce46c2dd648e7","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a48f222e-1a60-4106-ab42-0847c606f2c3","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81KDPINR5E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81KDPINR5E"}}
{"Timestamp":"2024-11-10T23:20:37.0326201+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"15b705d0fec7910b3304990761770a06","SpanId":"721ce46c2dd648e7","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":41995.9228,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN81KDPINR5E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81KDPINR5E"}}
{"Timestamp":"2024-11-10T23:20:37.0346443+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"15b705d0fec7910b3304990761770a06","SpanId":"721ce46c2dd648e7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81KDPINR5E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81KDPINR5E"}}
{"Timestamp":"2024-11-10T23:20:37.0359711+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"15b705d0fec7910b3304990761770a06","SpanId":"721ce46c2dd648e7","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":42009.1881,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"42009.1881"}]}}
{"Timestamp":"2024-11-10T23:20:37.0381073+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"15b705d0fec7910b3304990761770a06","SpanId":"721ce46c2dd648e7","Properties":{"ElapsedMilliseconds":42016.3122,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81KDPINR5E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81KDPINR5E"}}
{"Timestamp":"2024-11-10T23:21:41.4838151+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"03ccdc9ad47661f5428870c6b12a977a","SpanId":"1e54b5efec5ce36f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN81KDPINR5F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81KDPINR5F"}}
{"Timestamp":"2024-11-10T23:21:41.4876144+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"03ccdc9ad47661f5428870c6b12a977a","SpanId":"1e54b5efec5ce36f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN81KDPINR5F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81KDPINR5F"}}
{"Timestamp":"2024-11-10T23:21:41.4883865+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"03ccdc9ad47661f5428870c6b12a977a","SpanId":"1e54b5efec5ce36f","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a48f222e-1a60-4106-ab42-0847c606f2c3","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81KDPINR5F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81KDPINR5F"}}
{"Timestamp":"2024-11-10T23:21:49.8372616+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"03ccdc9ad47661f5428870c6b12a977a","SpanId":"1e54b5efec5ce36f","Properties":{"elapsed":"13","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a48f222e-1a60-4106-ab42-0847c606f2c3","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN81KDPINR5F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN81KDPINR5F"}}
